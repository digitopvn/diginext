"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4825],{80244:function(e,l,s){var o=s(11527),n=s(63344),t=s(79549),r=s(76806),a=s(50959);let i=e=>{var l;let s=(0,r.useRouter)(),[i,c]=a.useState(!1),[d,m]=a.useState(""),[u,p]=a.useState([]),h=u[u.length-1],j=e=>{s.push(e),c(!1)};return a.useEffect(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),c(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,o.jsxs)(t.mY.Dialog,{open:i,onOpenChange:c,label:"Global Command Menu",children:[(0,o.jsx)(t.mY.Input,{value:d,onValueChange:m}),(0,o.jsxs)(t.mY.List,{children:[(0,o.jsx)(t.mY.Empty,{children:"No results found."}),null===(l=h?h.children:null==e?void 0:e.commands)||void 0===l?void 0:l.map((e,l)=>e.children?(0,o.jsx)(t.mY.Group,{heading:e.label,children:e.children.map((e,l)=>(0,o.jsx)(t.mY.Item,{onSelect(){e.children?(m(""),p([...u,e])):(c(!1),e.onSelect&&e.onSelect(e.value))},children:e.label},"subcmd-".concat(e.label,"-").concat(l)))},"cmdgroup-".concat(l)):(0,o.jsx)(t.mY.Item,{onSelect(){c(!1),e.onSelect&&e.onSelect(e.value)},children:e.label},"cmd-".concat(l))),h&&(0,o.jsxs)(t.mY.Item,{onSelect(){p([]),m("")},children:[(0,o.jsx)(n.Z,{})," Reset"]}),(0,o.jsx)(t.mY.Separator,{}),(0,o.jsxs)(t.mY.Group,{heading:"Navigation",children:[(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/"),children:"Dashboard"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/project"),children:"Projects & apps"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/build"),children:"Builds & deploys"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/framework"),children:"Frameworks"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/git"),children:"Git Providers"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/cronjob"),children:"Cronjobs"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/monitor/node"),children:"Monitoring ≫ Nodes"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/monitor/namespace"),children:"Monitoring ≫ Namespaces"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/monitor/service"),children:"Monitoring ≫ Services"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/monitor/ingress"),children:"Monitoring ≫ Ingresses"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/monitor/deployment"),children:"Monitoring ≫ Deployments"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/monitor/pod"),children:"Monitoring ≫ Pods"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/infrastructure/cloud-provider"),children:"Infrastructure ≫ Cloud Providers"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/infrastructure/cluster"),children:"Infrastructure ≫ K8S Clusters"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/infrastructure/database"),children:"Infrastructure ≫ Databases"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/infrastructure/registry"),children:"Infrastructure ≫ Container Registries"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/workspace/users"),children:"Workspace ≫ Users"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/workspace/teams"),children:"Workspace ≫ Teams"}),(0,o.jsx)(t.mY.Item,{onSelect:()=>j("/workspace/roles"),children:"Workspace ≫ Roles"})]})]})]})};l.Z=i},17349:function(e,l,s){var o=s(11527),n=s(257),t=s(80589),r=s(59701),a=s(37528),i=s(90800),c=s(64686);s(50959);var d=s(43008);let m=e=>{let{app:l,env:s,next:m}=e,[u,p]=(0,d.mv)({filter:{slug:l}}),h=async e=>{console.log("Success:",e);let l=[e.domain],o=await u({domains:l,env:s});console.log("response :>> ",o),m&&m()},j=e=>{console.log("Failed:",e)};return(0,o.jsxs)(a.Z,{name:"add-domains",style:{maxWidth:600},layout:"vertical",onFinish:h,onFinishFailed:j,autoComplete:"off",preserve:!1,children:[(0,o.jsx)(a.Z.Item,{label:"Domain",name:"domain",rules:[{required:!0,message:"Please input your domain."}],children:(0,o.jsx)(i.Z,{prefix:(0,o.jsx)(n.Z,{}),placeholder:"Your domain"})}),(0,o.jsx)(a.Z.Item,{children:(0,o.jsx)(c.ZP,{type:"primary",htmlType:"submit",icon:"success"===p?(0,o.jsx)(t.Z,{}):(0,o.jsx)(r.Z,{}),loading:"loading"===p,children:"Submit"})})]})};l.Z=m},81243:function(e,l,s){var o=s(11527),n=s(88383),t=s(19509),r=s(69124),a=s(86537),i=s(35666),c=s(37528),d=s(27899),m=s(31494),u=s(64686),p=s(90800),h=s(73162),j=s(76806),x=s(50959),v=s(43008),g=s(2765),S=s(85410),f=s(11942),I=s(81035);let b=e=>{var l,s,b,Z,Y,w;let{className:C=""}=e,y=(0,j.useRouter)(),{token:{colorBgContainer:k}}=i.Z.useToken(),[F]=c.Z.useForm(),[N,{setQuery:P}]=(0,I.o)(),{sshUrl:_,branch:D}=N,[L,M]=(0,x.useState)(),{data:{list:q=[]}={},status:z}=(0,f.Zz)({populate:"owner",pagination:{page:1,size:100}}),{data:{list:E}={},status:R}=(0,S.y3)(),{data:{list:T}={},status:G}=(0,g.Dh)(),[W,O]=(0,v.TW)(),V=async l=>{console.log("Submit:",l),W({name:l.name,project:l.project,gitProvider:l.gitProvider,framework:L,shouldCreateGitRepo:!0}).then(l=>{console.log("res.data :>> ",l.data),(null==e?void 0:e.onDone)&&e.onDone(),l.status?(null==e?void 0:e.onSuccess)&&(null==e||e.onSuccess(l.data)):(null==e?void 0:e.onFailure)&&(null==e||e.onFailure(l.messages.join(".")))}).catch(l=>{(null==e?void 0:e.onFailure)&&(null==e||e.onFailure("Unable to create new app: ".concat(l,".")))})},B=e=>{console.log("Failed:",e)};return(0,o.jsxs)(d.Z,{bordered:!1,className:"min-w-[350px]",title:(0,o.jsx)(m.Z.Title,{level:4,className:"!mb-0 text-center",children:"success"===O?"Congrats!":"loading"===O?"Processing...":"Create new app"}),children:["loading"===O&&(0,o.jsx)("div",{className:"p-4 text-center",children:(0,o.jsx)(n.Z,{})}),"success"===O&&(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"mb-5 text-center text-3xl text-green-500",children:(0,o.jsx)(t.Z,{})}),(0,o.jsx)(u.ZP,{icon:(0,o.jsx)(r.Z,{}),size:"large",shape:"round",onClick:()=>(null==e?void 0:e.onClose)?e.onClose():y.push("/project"),children:"Back to projects & apps"})]}),"success"!==O&&"loading"!==O?(0,o.jsxs)(c.Z,{className:["h-full","overflow-x-hidden",C].join(" "),layout:"vertical",form:F,onFinish:V,onFinishFailed:B,autoComplete:"off",preserve:!1,children:[(0,o.jsx)(c.Z.Item,{name:"name",rules:[{required:!0,message:"App's name is required."}],children:(0,o.jsx)(p.Z,{placeholder:"App's name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",size:"large",tabIndex:0,autoFocus:!0})}),(0,o.jsx)(c.Z.Item,{name:"project",rules:[{required:!0,message:"Please select project."}],className:"mb-2",initialValue:null===(l=(q||[])[0])||void 0===l?void 0:l._id,children:(0,o.jsx)(h.Z,{placeholder:"Select parent project",showSearch:!0,filterOption:(e,l)=>(null!==(Z=null==l?void 0:l.label)&&void 0!==Z?Z:"").toLowerCase().includes(e.toLowerCase()),options:null==q?void 0:q.map(e=>({label:e.name,value:e._id}))})}),(0,o.jsx)(c.Z.Item,{name:"gitProvider",rules:[{required:!0,message:"Please select git provider."}],className:"mb-2",initialValue:null===(s=(E||[])[0])||void 0===s?void 0:s._id,children:(0,o.jsx)(h.Z,{placeholder:"Select git provider for this app",showSearch:!0,filterOption:(e,l)=>(null!==(Y=null==l?void 0:l.label)&&void 0!==Y?Y:"").toLowerCase().includes(e.toLowerCase()),options:null==E?void 0:E.map(e=>({label:e.name,value:e._id}))})}),(0,o.jsx)(c.Z.Item,{name:"framework",rules:[{required:!0,message:"Please select framework."}],className:"mb-2",initialValue:null===(b=(T||[])[0])||void 0===b?void 0:b._id,children:(0,o.jsx)(h.Z,{placeholder:"Select git provider for this app",showSearch:!0,filterOption:(e,l)=>(null!==(w=null==l?void 0:l.label)&&void 0!==w?w:"").toLowerCase().includes(e.toLowerCase()),options:null==T?void 0:T.map(e=>({label:e.name,value:e._id})),onSelect:e=>M(null==T?void 0:T.find(l=>l._id===e))})}),(0,o.jsx)(c.Z.Item,{style:{marginBottom:0},className:"text-center",children:(0,o.jsx)(u.ZP,{type:"primary",htmlType:"submit",icon:(0,o.jsx)(a.Z,{}),size:"large",shape:"round",children:"Create"})})]}):(0,o.jsx)(o.Fragment,{})]})};l.Z=b}}]);