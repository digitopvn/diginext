(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7655],{82586:function(e,t,n){"use strict";n.d(t,{Bm:function(){return m},H1:function(){return p},Lw:function(){return h},TW:function(){return s},UV:function(){return o},VD:function(){return l},WK:function(){return d},_M:function(){return c},i6:function(){return v},im:function(){return i},kK:function(){return x},md:function(){return u},mv:function(){return g},u4:function(){return r},un:function(){return j},wt:function(){return b},yq:function(){return f}});var a=n(19005);let l=e=>(0,a.wz)(["apps","list"],"/api/v1/app",e),i=(e,t)=>(0,a.AQ)(["apps",e],"/api/v1/app",e,t),s=()=>(0,a.FF)(["apps"],"/api/v1/app"),r=e=>(0,a.FF)(["apps"],"/api/v1/app/import-git",e),o=e=>(0,a.yt)(["apps","update"],"/api/v1/app",e),c=()=>(0,a.TV)(["apps","delete"],"/api/v1/app"),u=e=>(0,a.yt)(["apps","unarchive"],"/api/v1/app/unarchive",e),d=()=>(0,a.TV)(["apps","archive"],"/api/v1/app/archive"),p=e=>(0,a.yt)(["env_vars","update"],"/api/v1/app/environment/variables",e),m=e=>(0,a.TV)(["env_vars","delete"],"/api/v1/app/environment/variables",e),g=e=>(0,a.FF)(["env_vars"],"/api/v1/app/environment/domains",e),h=(e,t)=>(0,a.AQ)(["deploy_environment",e],"/api/v1/app/deploy_environment",e,t),v=e=>(0,a.yt)(["deploy_environment","update"],"/api/v1/app/deploy_environment",e),x=()=>(0,a.TV)(["deploy_environment","down"],"/api/v1/app/deploy_environment/down"),f=()=>(0,a.TV)(["deploy_environment","sleep"],"/api/v1/app/deploy_environment/sleep"),b=()=>(0,a.TV)(["deploy_environment","awake"],"/api/v1/app/deploy_environment/awake"),j=(e,t)=>(0,a.AQ)(["app_logs",e],"/api/v1/app/environment/logs",e,t)},2154:function(e,t,n){"use strict";n.d(t,{Wk:function(){return b},aC:function(){return f},x4:function(){return v}});var a=n(11527),l=n(32105),i=n(34745),s=n(233),r=n(58699),o=n(41906),c=n(46998),u=n(32699),d=n(47164),p=n(50959),m=n(70804),g=n(49309),h=n(13557);let v=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!==(e=t.redirectURL)&&void 0!==e?e:h.De.NEXT_PUBLIC_API_BASE_URL,a="".concat(h.De.NEXT_PUBLIC_API_BASE_URL,"/auth/google?redirect_url=").concat(n);window.location.href=a},x=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=(0,d.useRouter)(),t=e.query.access_token||(0,c.getCookie)("x-auth-cookie");return(0,i.a)({queryKey:["auth"],enabled:void 0!==t,async queryFn(){let e=t&&(0,u.endsWith)(t,"%23")?t.substring(0,t.length-3):t;try{var n,a;let l="".concat(h.De.NEXT_PUBLIC_API_BASE_URL,"/auth/profile").concat(e?"?access_token=".concat(e):""),{data:i}=await o.Z.get(l,{headers:e?{Authorization:"Bearer ".concat(e)}:{}});return(null==i?void 0:null===(n=i.token)||void 0===n?void 0:n.access_token)&&(0,c.setCookie)("x-auth-cookie",null==i?void 0:null===(a=i.token)||void 0===a?void 0:a.access_token),i}catch(s){console.error("useAuthApi >",s);return}}})},f=()=>{let e=(0,d.useRouter)(),[t]=(0,g.o)(),n=x(),{data:a,status:l,refetch:i,isStale:r,isRefetching:o}=n,{status:m}=a||{},h=null==a?void 0:a.data;(0,s.NL)();let v=e.query.access_token||(0,c.getCookie)("x-auth-cookie");return(0,p.useEffect)(()=>{let t=null==window?void 0:window.location.href;if(!v){e.push(t?"/login?redirect_url=".concat(t):"/login");return}if(!o&&void 0!==m&&"loading"!==l){if(!m&&!h){e.push(t?"/login?redirect_url=".concat(t):"/login");return}((0,u.isEmpty)(null==h?void 0:h.activeWorkspace)||(0,u.isEmpty)(null==h?void 0:h.activeRole))&&e.push("/workspace/select")}},[l,v]),[h,n]},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{children:t}=e,n=(0,d.useRouter)(),i=n.query.access_token||(0,c.getCookie)("x-auth-cookie"),[s,{status:o,isLoading:p,isFetched:g}]=f();return p?(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Loading..."})]}):g&&!i&&(0,u.isEmpty)(s)?(0,a.jsxs)(m.Z,{children:[(0,a.jsx)("p",{className:"ml-2",children:"Unauthenticated."}),(0,a.jsx)(r.ZP,{href:"/login",children:"Login"})]}):g&&i&&(0,u.isEmpty)(s)?(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Loading..."})]}):g&&((0,u.isEmpty)(null==s?void 0:s.activeWorkspace)||(0,u.isEmpty)(null==s?void 0:s.activeRole))?(0,a.jsxs)(m.Z,{className:"text-center",children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("span",{className:"ml-2",children:"Loading..."})]}):(0,a.jsx)(a.Fragment,{children:t})}},31924:function(e,t,n){"use strict";n.d(t,{BY:function(){return l},fg:function(){return r},rA:function(){return s},tx:function(){return i},vk:function(){return o}});var a=n(19005);let l=e=>(0,a.wz)(["builds","list"],"/api/v1/build",e),i=(e,t)=>(0,a.AQ)(["builds",e],"/api/v1/build",e,t),s=e=>(0,a.FF)(["builds","start"],"/api/v1/build/start",e),r=e=>(0,a.yt)(["builds","stop"],"/api/v1/build/stop",e),o=e=>(0,a.FF)(["builds","rerun"],"/api/v1/build/rerun",e)},64718:function(e,t,n){"use strict";n.d(t,{EF:function(){return l},N2:function(){return i},O2:function(){return d},OK:function(){return m},QB:function(){return o},Tf:function(){return c},_M:function(){return r},e6:function(){return s},ij:function(){return u},sr:function(){return p}});var a=n(19005);let l=e=>(0,a.wz)(["databases","list"],"/api/v1/database",e),i=(e,t)=>(0,a.AQ)(["databases",e],"/api/v1/database",e,t),s=e=>(0,a.FF)(["databases"],"/api/v1/database",e),r=e=>(0,a.yt)(["databases","update"],"/api/v1/database",e),o=()=>(0,a.TV)(["databases","delete"],"/api/v1/database"),c=e=>(0,a.FF)(["database-action-backup"],"/api/v1/database/backup",e),u=e=>(0,a.FF)(["database-action-restore"],"/api/v1/database/restore",e),d=e=>(0,a.FF)(["database-action-autos-backup"],"/api/v1/database/auto-backup",e),p=e=>(0,a.wz)(["database-backups","list"],"/api/v1/database-backup",e),m=()=>(0,a.TV)(["database-backups","delete"],"/api/v1/database-backup")},92100:function(e,t,n){"use strict";n.d(t,{nu:function(){return l}});var a=n(19005);let l=e=>(0,a.wz)(["providers","list"],"/api/v1/provider",e)},73621:function(e,t,n){"use strict";n.d(t,{An:function(){return o},CN:function(){return s},pD:function(){return i},ve:function(){return r},x7:function(){return l}});var a=n(19005);let l=e=>(0,a.wz)(["clusters","list"],"/api/v1/cluster",e),i=(e,t)=>(0,a.AQ)(["cluster",e],"/api/v1/cluster",e,t),s=()=>(0,a.FF)(["clusters","create"],"/api/v1/cluster"),r=e=>(0,a.yt)(["clusters","update"],"/api/v1/cluster",e),o=()=>(0,a.TV)(["clusters","delete"],"/api/v1/cluster")},61371:function(e,t,n){"use strict";n.d(t,{_q:function(){return i},pC:function(){return l}});var a=n(19005);let l=e=>(0,a.FF)(["deploy-git"],"/api/v1/deploy/from-git",e),i=e=>(0,a.FF)(["deploy-app"],"/api/v1/deploy/from-app",e)},68114:function(e,t,n){"use strict";n.d(t,{D$:function(){return s},Dh:function(){return l},FX:function(){return i},fR:function(){return r},mt:function(){return o}});var a=n(19005);let l=e=>(0,a.wz)(["frameworks","list"],"/api/v1/framework",e),i=(e,t)=>(0,a.AQ)(["frameworks",e],"/api/v1/framework",e,t),s=()=>(0,a.FF)(["frameworks"],"/api/v1/framework"),r=e=>(0,a.yt)(["frameworks"],"/api/v1/framework",e),o=()=>(0,a.TV)(["frameworks","delete"],"/api/v1/framework")},29956:function(e,t,n){"use strict";n.d(t,{CX:function(){return o},Td:function(){return d},Ve:function(){return r},o0:function(){return i},oR:function(){return u},sc:function(){return c},xP:function(){return s},y3:function(){return l}});var a=n(19005);let l=e=>(0,a.wz)(["gits","list"],"/api/v1/git",e),i=(e,t)=>(0,a.AQ)(["gits",e],"/api/v1/git",e,t),s=e=>(0,a.FF)(["gits"],"/api/v1/git",e),r=e=>(0,a.yt)(["gits"],"/api/v1/git",e),o=()=>(0,a.TV)(["gits"],"/api/v1/git"),c=()=>(0,a.h_)(["public-key"],"/api/v1/git/public-key"),u=e=>(0,a.wz)(["git-orgs","list"],"/api/v1/git/orgs",e),d=(e,t)=>(0,a.wz)(["git-repo-branches",e],"/api/v1/git/orgs/repos/branches",{...t,filter:{...null==t?void 0:t.filter,repo:e}})},79402:function(e,t,n){"use strict";n.d(t,{Bl:function(){return s},EL:function(){return i},Xn:function(){return r},Y4:function(){return o},fy:function(){return l}});var a=n(19005);let l=e=>(0,a.wz)(["registries","list"],"/api/v1/registry",e),i=(e,t)=>(0,a.AQ)(["registries",e],"/api/v1/registry",e,t),s=e=>(0,a.FF)(["registries"],"/api/v1/registry",e),r=e=>(0,a.yt)(["registries"],"/api/v1/registry",e),o=()=>(0,a.TV)(["registries"],"/api/v1/registry")},94939:function(e,t,n){"use strict";n.d(t,{IX:function(){return i},Lb:function(){return s},bE:function(){return r},kW:function(){return l}});var a=n(19005);let l=e=>(0,a.wz)(["releases","list"],"/api/v1/release",e),i=e=>(0,a.yt)(["releases","rollout"],"/api/v1/release/rollout",e),s=e=>(0,a.FF)(["releases","create"],"/api/v1/release/from-build",e),r=e=>(0,a.yt)(["releases","preview"],"/api/v1/release/preview",e)},7620:function(e,t,n){"use strict";n.d(t,{CN:function(){return o},aB:function(){return r},bd:function(){return l},dZ:function(){return i},m1:function(){return s}});var a=n(19005);let l=e=>(0,a.wz)(["roles","list"],"/api/v1/role",e),i=(e,t)=>(0,a.AQ)(["roles",e],"/api/v1/role",e,t),s=e=>(0,a.FF)(["roles"],"/api/v1/role",e),r=e=>(0,a.yt)(["roles"],"/api/v1/role",e),o=e=>(0,a.TV)(["roles"],"/api/v1/role")},24623:function(e,t,n){"use strict";n.d(t,{$:function(){return i},u:function(){return l}});var a=n(19005);let l=()=>(0,a.h_)(["stats","version"],"/api/v1/stats/version",{staleTime:18e5}),i=()=>(0,a.h_)(["stats","summary"],"/api/v1/stats/summary")},22820:function(e,t,n){"use strict";n.d(t,{En:function(){return s},Hc:function(){return c},Rz:function(){return u},hz:function(){return i},kZ:function(){return o},mO:function(){return l},yl:function(){return r}});var a=n(19005);let l=e=>(0,a.wz)(["users","list"],"/api/v1/user",e),i=(e,t)=>(0,a.AQ)(["users",e],"/api/v1/user",e,t),s=e=>(0,a.FF)(["users"],"/api/v1/user",e),r=e=>(0,a.yt)(["users"],"/api/v1/user",e),o=()=>(0,a.TV)(["users"],"/api/v1/user"),c=e=>(0,a.yt)(["users"],"/api/v1/user/join-workspace",e),u=e=>(0,a.yt)(["users"],"/api/v1/user/assign-role",e)},19005:function(e,t,n){"use strict";n.d(t,{AQ:function(){return g},FF:function(){return v},TV:function(){return f},h_:function(){return h},wz:function(){return m},yt:function(){return x}});var a=n(233),l=n(34745),i=n(83209),s=n(99678),r=n(41906),o=n(46998),c=n(32699),u=n(47164),d=n(13557);let{useApp:p}=s.Z,m=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=p(),{notification:m}=s,g=(0,u.useRouter)(),h=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),v=h?{Authorization:"Bearer ".concat(h)}:{};v["Cache-Control"]="no-cache";let{pagination:x={page:1,size:20},populate:f,filter:b,sort:j="-updatedAt,-createdAt"}=i,y=new URLSearchParams(x).toString(),A=f?"populate=".concat(f):"",k=b?new URLSearchParams(b).toString():"",Z="sort=".concat(j),w=(0,a.NL)(),E=[...e];return E.push((0,c.isEmpty)(b)?{}:b),(0,c.isEmpty)(x)||E.push(x),(0,l.a)({refetchOnWindowFocus:!1,queryKey:E,staleTime:null==i?void 0:i.staleTime,enabled:null==i?void 0:i.enabled,async queryFn(){var n,a,l;let{data:s}=await r.Z.get("".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(k,"&").concat(Z,"&").concat(A,"&").concat(y),{...i,headers:v});s.status||(0,c.isEmpty)(s.messages)||s.messages.forEach(e=>{e&&m.error({message:"Failed.",description:e})});let{current_page:u,total_pages:p,total_items:g,page_size:h,next_page:x,prev_page:f,...b}=s;return(null===(n=s.token)||void 0===n?void 0:n.access_token)&&(0,o.setCookie)("x-auth-cookie",null===(a=s.token)||void 0===a?void 0:a.access_token),{list:(null==s?void 0:null===(l=s.data)||void 0===l?void 0:l.map(t=>(w.setQueryData([e[0],t._id],t),w.setQueryData([e[0],t.slug],t),w.setQueryData([e[0],{slug:t.slug}],t),{...t,key:t._id})))||[],pagination:{current_page:u,total_pages:p,total_items:g,page_size:h,next_page:x,prev_page:f},messages:s.messages,status:s.status}}})},g=function(e,t,n){var a;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=p(),{notification:m}=s,g=(0,u.useRouter)(),h=null!==(a=g.query.access_token)&&void 0!==a?a:(0,o.getCookie)("x-auth-cookie"),v=h?{Authorization:"Bearer ".concat(h)}:{};v["Cache-Control"]="no-cache";let{populate:x,filter:f={}}=i;f.slug=n;let b=x?"populate=".concat(x):"",j=new URLSearchParams(f).toString();return(0,l.a)({enabled:null!=n,queryKey:e,staleTime:null==i?void 0:i.staleTime,async queryFn(){var e,n;let a="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(j,"&").concat(b),{data:l}=await r.Z.get(a,{...i,headers:v});if(l.status||(0,c.isEmpty)(l.messages)||l.messages.forEach(e=>{e&&m.error({message:"Failed.",description:e})}),(null===(e=l.token)||void 0===e?void 0:e.access_token)&&(0,o.setCookie)("x-auth-cookie",null===(n=l.token)||void 0===n?void 0:n.access_token),(0,c.isArray)(l.data)){let s=l.data.map(e=>({...e,key:e._id}));return s[0]}return(0,c.isString)(l.data)?{status:l.status,data:l.data,messages:l.messages}:l.data}})},h=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=p(),{notification:s}=i,m=(0,u.useRouter)(),g=null!==(n=m.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),h=g?{Authorization:"Bearer ".concat(g)}:{};return h["Cache-Control"]="no-cache",(0,l.a)({queryKey:e,staleTime:null==a?void 0:a.staleTime,enabled:null==a?void 0:a.enabled,async queryFn(){let{data:e}=await r.Z.get("".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t),{...a,headers:h});return e.status||(0,c.isEmpty)(e.messages)||e.messages.forEach(e=>{e&&s.error({message:"Failed.",description:e})}),e}})},v=function(e,t){var n;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=p(),{notification:m}=s,g=(0,u.useRouter)(),h=(0,a.NL)(),v=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),x=v?{Authorization:"Bearer ".concat(v)}:{};x["Cache-Control"]="no-cache";let f=(0,i.D)({async mutationFn(e){let{populate:n,sort:a,pagination:i,filter:s=e._id?{_id:e._id}:void 0}=l;e._id&&delete e._id;let o=s?"".concat(new URLSearchParams(s).toString(),"&"):"",u="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(o).concat(n?"populate=".concat(n):"");console.log("options :>> ",l);let{data:p,status:g}=await r.Z.post(u,e,{...l,headers:x});if(429===g)throw Error("Too many requests.");return p.status||((0,c.isEmpty)(p.messages)?m.error({message:"Something is wrong..."}):p.messages.forEach(e=>{if(e)try{m.error({message:"Failed.",description:e})}catch(t){console.error(t)}})),p},async onError(e,t,n){console.log("error :>> ",e)},onMutate:async t=>(await h.cancelQueries({queryKey:e}),t),onSuccess(t,n,a){h.invalidateQueries({queryKey:[e[0],"list"]}),h.invalidateQueries({queryKey:[e[0],null==t?void 0:t.slug]})}}),{mutateAsync:b,status:j}=f;return[b,j]},x=function(e,t){var n;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=p(),{notification:m}=s,g=(0,u.useRouter)(),h=(0,a.NL)(),v=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),x=v?{Authorization:"Bearer ".concat(v)}:{};x["Cache-Control"]="no-cache";let{pagination:f={page:1,size:20},populate:b,sort:j="-createdAt",filter:y}=l,A=y?"".concat(new URLSearchParams(y).toString(),"&"):"",k=new URLSearchParams(f).toString(),Z="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(A).concat("sort=".concat(j,"&")).concat(b?"populate=".concat(b,"&"):"").concat(k),w=(0,i.D)({async mutationFn(e){let{data:t}=await r.Z.patch(Z,e,{...l,headers:x});return t.status||((0,c.isEmpty)(t.messages)?m.error({message:"Something is wrong..."}):(console.log("FAILLLLLLLLLLLLLLL :>> ",t.messages,m),t.messages.forEach(e=>{e&&m.error({message:"Failed.",description:e,style:{zIndex:100}})}))),t},onSuccess(t,n,a){h.invalidateQueries({queryKey:[e[0],"list"]}),(null==y?void 0:y.slug)&&h.invalidateQueries({queryKey:[e[0],y.slug]})}});return[w.mutateAsync,w.status]},f=function(e,t){var n;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=p(),{notification:m}=s,g=(0,u.useRouter)(),h=(0,a.NL)(),v=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),x=v?{Authorization:"Bearer ".concat(v)}:{};x["Cache-Control"]="no-cache";let f=(0,i.D)({async mutationFn(e){let n=e?"".concat(new URLSearchParams(e).toString()):"",a="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(n),{data:i}=await r.Z.delete(a,{...l,headers:x});return i.status||((0,c.isEmpty)(i.messages)?m.error({message:"Something is wrong..."}):i.messages.forEach(e=>{console.log("message :>> ",e),e&&m.error({message:"Failed.",description:e})})),i},onSuccess:t=>(h.invalidateQueries({queryKey:[e[0],"list"]}),t)}),{mutateAsync:b,status:j}=f;return[b,j]}},70804:function(e,t,n){"use strict";var a=n(11527);let l=e=>(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 ".concat(e.className),children:e.children});t.Z=l},58012:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var a=n(11527),l=n(88158),i=n(74637),s=n.n(i);n(50959);let r=n(64814),o=n(54498);s().extend(o),s().extend(r);let c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{date:t}=e;return(0,a.jsx)(l.Z,{title:s()(t).format("LLL"),children:(0,a.jsx)("span",{children:t?s()(t).fromNow():"-"})})}},97591:function(e,t,n){"use strict";n.d(t,{D:function(){return m},V:function(){return g}});var a=n(11527),l=n(68834),i=n(8357),s=n(59850),r=n(75616),o=n(58699),c=n(70802),u=n(36865),d=n(47164),p=n(89335);function m(e){let{token:{colorTextHeading:t}}=r.Z.useToken(),{isDarkMode:n}=(0,p.vs)(),{color:l=n?"white":"black",value:i}=e;return(0,a.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:l},children:i})}let g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.useRouter)(),{children:n,breadcrumbs:p=[],title:g="Page Title",actions:h=[(0,a.jsx)(o.ZP,{type:"default",icon:(0,a.jsx)(l.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,a.jsx)(o.ZP,{type:"default",icon:(0,a.jsx)(i.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:v}}=r.Z.useToken();return(0,a.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(c.Z.Item,{href:"".concat(t.basePath,"/"),children:(0,a.jsx)(s.Z,{})},"breadcrumb-home"),p.map((e,t)=>(0,a.jsxs)(c.Z.Item,{href:e.url,children:[e.icon,(0,a.jsx)("span",{children:e.name})]},"breadcrumb-".concat(t)))]}),(0,a.jsxs)("div",{className:" flex w-full flex-col md:flex-row",children:[(0,a.jsx)(m,{value:g}),(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{wrap:!0,children:h})})]}),n]})}},21240:function(e,t,n){"use strict";n.d(t,{w:function(){return U}});var a=n(11527),l=n(20209),i=n(86218),s=n(32105),r=n(76657),o=n(38101),c=n(23421),u=n(42423),d=n(10544),p=n(76068),m=n(30388),g=n(99678),h=n(85273),v=n(36865),x=n(88158),f=n(58699),b=n(5489),j=n(74637),y=n.n(j),A=n(52195),k=n(32699),Z=n(47725),w=n.n(Z),E=n(47164),C=n(50959),N=n(31924),S=n(61371),P=n(94939),_=n(58012),I=n(97591),F=n(49309);let Q=n(64814),B=n(54498);y().extend(B),y().extend(Q);let R=new A.b,L=new A.f(R),{useApp:T}=g.Z,U=()=>{(0,E.useRouter)();let e=T(),[t,{setQuery:n}]=(0,F.o)(),{project:g,app:j,env:y}=t,A=[{title:"Name",width:70,dataIndex:"name",key:"name",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>t.name&&t.name.indexOf(e.toString())>-1||!0,render:(e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,a.jsx)(w(),{href:"/build/logs?build_slug=".concat(t.slug),children:(0,a.jsx)("strong",{children:e})})}),(0,a.jsxs)("ul",{className:"ml-4 list-disc",children:[(0,a.jsxs)("li",{children:["Project: ",(0,a.jsx)(h.Z,{color:"blue",children:t.projectSlug})]}),(0,a.jsxs)("li",{children:["App: ",(0,a.jsx)(h.Z,{color:"cyan",children:t.appSlug})]}),t.duration?(0,a.jsxs)("li",{children:["Duration:"," ",(0,a.jsx)(h.Z,{color:"gold",icon:(0,a.jsx)(l.Z,{}),children:L.humanize(t.duration||0,{round:!0})},"duration")]}):(0,a.jsx)(a.Fragment,{}),(0,a.jsxs)("li",{children:["Created"," ",(0,a.jsx)("strong",{children:(0,a.jsx)(_.q,{date:t.createdAt})})]})]})]})},{title:"Created by",dataIndex:"owner",key:"owner",width:40,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>t.owner&&(t.owner.slug||"").indexOf(e.toString())>-1||!0,render:e=>(0,a.jsx)(a.Fragment,{children:null==e?void 0:e.name})},{title:"Status",dataIndex:"status",key:"status",width:30,filters:[{text:"live",value:"live"}],render(e){let t="warning",n=(0,a.jsx)(i.Z,{});switch(e){case"building":t="processing",n=(0,a.jsx)(s.Z,{className:"align-middle"});break;case"failed":t="error",n=(0,a.jsx)(r.Z,{className:"align-middle"});break;case"success":t="success",n=(0,a.jsx)(o.Z,{className:"align-middle"});break;default:t="default",n=(0,a.jsx)(i.Z,{})}return(0,a.jsx)(h.Z,{color:t,icon:n,children:e})}},{title:"Action",key:"action",width:30,dataIndex:"action"}],Z={};g&&(Z.projectSlug=g),j&&(Z.appSlug=j);let[Q,B]=(0,C.useState)(1),[R,U]=(0,S._q)(),[z,D]=(0,S.pC)(),[V,O]=(0,N.fg)(),{data:K,status:q}=(0,N.BY)({sort:"-createdAt",populate:"owner",pagination:{page:Q,size:100},filter:Z}),{list:J,pagination:M}=K||{},{total_items:Y}=M||{},X=e=>{let a={build_slug:e};t.lv1?a.lv2="build_logs":a.lv1="build_logs",n(a)},[H]=(0,P.Lb)(),W=async t=>{if((0,k.isEmpty)(t)){e.notification.error({message:"Failed to release the build.",description:"Build not found: ".concat(t),placement:"top"});return}try{let n=await H({build:t,env:y});if(null==n?void 0:n.status){let l=null==n?void 0:n.data;e.notification.success({message:"Congrats, the release has been created successfully!",description:(0,a.jsxs)(a.Fragment,{children:["You can now preview it on ",(0,a.jsx)("a",{href:"https://".concat(null==l?void 0:l.prereleaseUrl),children:"PRE-RELEASE"})," endpoint."]}),placement:"top"});return}}catch(i){console.error("Could not process releasing this build:",i),e.notification.error({message:"Failed to roll out.",description:"Could not process releasing this build: ".concat(i),placement:"top"})}},G=async t=>{let n=await V({slug:t});console.log("[BuildList] stopBuild :>> ",n),(null==n?void 0:n.status)||e.notification.error({message:"Failed to proceed.",description:"Could not stop this build due to server issue. Please try again later.",placement:"top"})},$=null==J?void 0:J.map(e=>({id:e._id,...e,action:(0,a.jsxs)(v.Z.Compact,{children:["building"===e.status&&(0,a.jsx)(x.Z,{title:"Stop building",children:(0,a.jsx)(f.ZP,{danger:!0,icon:(0,a.jsx)(c.Z,{}),onClick:()=>G(null==e?void 0:e.slug)})}),(0,a.jsx)(x.Z,{title:"View logs",children:(0,a.jsx)(f.ZP,{icon:(0,a.jsx)(u.Z,{}),onClick:()=>X(e.slug)})}),(0,a.jsx)(x.Z,{title:"Open image URL",children:(0,a.jsx)(f.ZP,{icon:(0,a.jsx)(d.Z,{}),href:"https://".concat(e.image),target:"_blank"})}),"prod"===e.env&&(0,a.jsx)(x.Z,{title:"Create a release from this build",children:(0,a.jsx)(f.ZP,{icon:(0,a.jsx)(p.Z,{}),onClick(){var t;return W(null===(t=e._id)||void 0===t?void 0:t.toString())}})})]})})),ee=e=>{let{current:t}=e;B(null!=t?t:1)},et=(0,C.useRef)(null),en=(0,m.Z)(et);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.V,{title:"Builds (".concat(null!=Y?Y:"-",")"),breadcrumbs:[{name:"Workspace"}],actions:[]}),(0,a.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:et,children:(0,a.jsx)(b.Z,{size:"small",loading:"loading"===q,columns:A,dataSource:$,scroll:{x:550,y:void 0!==(null==en?void 0:en.height)?en.height-140:void 0},sticky:{offsetHeader:0},pagination:{current:Q,pageSize:100,total:Y,position:["bottomCenter"]},onChange:ee})})]})}},60196:function(e,t,n){"use strict";n.d(t,{O:function(){return K}});var a=n(11527),l=n(20209),i=n(38101),s=n(32105),r=n(48419),o=n(83052),c=n(3513),u=n(34380),d=n(76657),p=n(23421),m=n(63197),g=n(30734),h=n(26171),v=n(30388),x=n(77280),f=n(75616),b=n(5433),j=n(85273),y=n(36865),A=n(58699),k=n(74637),Z=n.n(k),w=n(3726),E=n(52195),C=n(32699),N=n(47725),S=n.n(N),P=n(47164),_=n(50959),I=n(55282),F=n.n(I),Q=n(31924),B=n(61371),R=n(97591),L=n(49309);n(13557);let T=new E.b,U=new E.f(T),z=n(37324),D=n(64814),V=n(54498);Z().extend(V),Z().extend(D);let O=e=>F()("".concat(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")),K=e=>{let{slug:t}=e,n=(0,P.useRouter)(),[k]=(0,L.o)(),{build_slug:E,env:N}=k,{data:I={},refetch:F}=(0,Q.tx)(E),T=(null==I?void 0:I.logs)||"",D=O(T),[V,K]=(0,Q.vk)(),[q,J]=(0,B._q)(),[M,Y]=(0,Q.fg)(),{status:X}=I,H=D.split("\n").map((e,t)=>e.toString()),W=window.location.origin,[G,$]=(0,_.useState)(["Connecting..."]),[ee,et]=(0,_.useState)("in_progress"),[en,ea]=(0,_.useState)(!1),[el,ei]=(0,_.useState)(!1),[es,er]=(0,_.useState)("0"),eo=(0,_.useRef)(null),ec=(0,_.useRef)(null),eu=(0,h.Z)(ec),ed=(0,_.useRef)(null),ep=(0,v.Z)(ed),em=((null==eu?void 0:eu.top)||0)>((null==ep?void 0:ep.height)||0)-((null==window?void 0:window.innerHeight)||0),{token:{colorText:eg}}=f.Z.useToken(),eh=()=>{var e;em||null==eo||null===(e=eo.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},ev=()=>{if(!I.branch||!I.appSlug||void 0===N){b.Z.error({message:"Unable to re-run the build & deploy process: invalid build."});return}q({appSlug:I.appSlug,gitBranch:I.branch,deployParams:{env:N.toString(),deployInBackground:!0}}).then(e=>{e.status?(b.Z.success({message:"Build & deploy process have been re-ran, redirecting..."}),n.push(e.data.logURL)):b.Z.error({message:e.messages.join(", ")})}).catch(e=>b.Z.error({message:"Unable to re-run the build & deploy process: ".concat(e)}))},ex=()=>{if(!I){b.Z.error({message:"Build not found."});return}if(!I.branch||!I.appSlug){b.Z.error({message:"Unable to re-run the build: invalid build (missing git branch)."});return}V({buildWatch:!1}).then(e=>{e.status?(b.Z.success({message:"Build has been re-ran, redirecting..."}),n.push(e.data.logURL)):b.Z.error({message:e.messages.join(", ")})}).catch(e=>b.Z.error({message:"Unable to re-run the build: ".concat(e)})),b.Z.info({message:"This feature is under development."})};return(0,x.Z)(()=>{(null==I?void 0:I.startTime)&&er(U.humanize(Z()(I.startTime).diff(Z()()),{round:!0})),(null==I?void 0:I.duration)&&er(U.humanize((null==I?void 0:I.duration)||0,{round:!0}))},(null==I?void 0:I.duration)?void 0:1e3),(0,_.useEffect)(()=>{(null==I?void 0:I.duration)&&er(U.humanize((null==I?void 0:I.duration)||0,{round:!0}))},[null==I?void 0:I.duration]),(0,_.useEffect)(()=>{(0,C.isEmpty)(T)||$(H)},[H.length]),(0,_.useEffect)(()=>{eh()},[G.length]),(0,_.useEffect)(()=>{if(null==T||T.toString().toLowerCase(),((null==I?void 0:I.status)==="failed"||(null==I?void 0:I.status)==="success")&&ea(!0),(null==I?void 0:I.status)==="success"&&et("success"),(null==I?void 0:I.status)==="failed"&&et("failed"),!E)return()=>!1;let e=z(W,{transports:["websocket"]});return e.on("connect",()=>{e.emit("join",{room:E}),e.on("message",t=>{let{action:n,message:a}=t;a&&($(e=>[...e,O(a)]),((null==a?void 0:a.toLowerCase().indexOf("command failed with exit code 1"))>-1||(null==a?void 0:a.toLowerCase().indexOf("[error]"))>-1)&&(et("failed"),ea(!0),F())),"failed"===n&&(et("failed"),ea(!0),F()),"end"===n&&(e.disconnect(),ea(!0),et("success"),F())})}),e.on("disconnect",()=>{console.log("[socket] disconnected !"),$(e=>[...e,"Disconnected with build server."])}),()=>{e.connected&&(console.log("[socket] disconnecting..."),e.disconnect(),F()),$([])}},[null==I?void 0:I.status,T,E]),(0,a.jsxs)("div",{style:{color:eg},className:"flex h-full flex-col",children:[(0,a.jsx)(R.V,{title:"Build Logs: ".concat(E),breadcrumbs:[{name:"Builds",url:"/build"},{name:'Project "'.concat(null==I?void 0:I.projectSlug,'"')},{name:'App "'.concat(null==I?void 0:I.appSlug,'"')},(null==I?void 0:I.env)?{name:'Env "'.concat(null==I?void 0:I.env,'"')}:{}],actions:[(0,a.jsxs)(j.Z,{color:"gold",icon:(0,a.jsx)(l.Z,{}),children:["CLI: ",(null==I?void 0:I.cliVersion)||"unknown"]},"cli-version"),(0,a.jsxs)(j.Z,{color:"gold",icon:(0,a.jsx)(l.Z,{}),children:["Duration: ",es]},"duration"),(0,a.jsx)(j.Z,{color:"green",icon:(null==I?void 0:I.status)==="success"?(0,a.jsx)(i.Z,{}):(null==I?void 0:I.status)==="building"?(0,a.jsx)(s.Z,{}):(null==I?void 0:I.status)==="failed"?(0,a.jsx)(r.Z,{}):(0,a.jsx)(a.Fragment,{}),children:null==I?void 0:I.status},"status")],children:(0,a.jsxs)(y.Z,{wrap:!0,className:"mt-2",children:[(0,a.jsx)(j.Z,{color:"geekblue",icon:(0,a.jsx)(o.Z,{}),children:Z()(null==I?void 0:I.createdAt).format("LLL")},"created-date"),(0,a.jsx)(j.Z,{color:"magenta",icon:(0,a.jsx)(c.Z,{}),children:null==I?void 0:I.createdBy},"created-by"),(null==I?void 0:I.status)==="success"&&(0,a.jsx)(S(),{href:"https://".concat(null==I?void 0:I.image,":").concat(null==I?void 0:I.tag),target:"_blank",children:(0,a.jsx)(j.Z,{color:"volcano",icon:(0,a.jsx)(u.Z,{}),children:"click to view image url"},"image-tag")})]})}),(0,a.jsx)("div",{className:"flex-auto overflow-auto",ref:ec,children:(0,a.jsxs)("pre",{className:"no-scrollbar bg-black p-4 pt-6",ref:ed,style:{width:el?"100%":"auto",whiteSpace:el?"normal":"nowrap"},children:[G.filter(e=>""!==e).map((e,t)=>{let n="".concat(e);if(n.toLowerCase().indexOf("error")>-1)return(0,a.jsxs)("p",{children:[(0,a.jsx)(d.Z,{className:"text-red-600"})," ",(0,a.jsx)("span",{className:"text-red-600",children:(0,w.ZP)("".concat(e))})]},"log-line-".concat(t));if(n.indexOf("http://")>-1||n.indexOf("https://")>-1){let l=n.split(" "),i=l.map(e=>e.indexOf("http://")>-1||e.indexOf("https://")>-1?'<a href="'.concat(e,'" target="_blank" style="color: #008dff">').concat(e,"</a>"):e).join(" ");return(0,a.jsx)("p",{children:(0,w.ZP)(i)},"log-line-".concat(t))}return(0,a.jsx)("p",{children:(0,w.ZP)("".concat(e))},"log-line-".concat(t))}),(0,a.jsx)("p",{ref:eo})]})}),(0,a.jsxs)("div",{className:"flex px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex-auto",children:["in_progress"===ee&&(0,a.jsxs)("h3",{className:"text-xl text-blue-600",children:[(0,a.jsx)(s.Z,{})," Building..."]}),"failed"===ee&&(0,a.jsxs)("h2",{className:"text-xl text-red-600",children:[(0,a.jsx)(r.Z,{})," Build failed."]}),"success"===ee&&(0,a.jsxs)("h2",{className:"text-xl text-green-600",children:[(0,a.jsx)(i.Z,{})," Congrats, your build process has been finished successfully!"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["building"===X&&(0,a.jsx)(A.ZP,{icon:(0,a.jsx)(p.Z,{}),onClick:()=>M({slug:E}),children:"STOP"}),"building"!==X&&void 0!==N&&(0,a.jsx)(A.ZP,{icon:(0,a.jsx)(m.Z,{}),onClick:()=>ev(),children:"RE-RUN"}),"building"!==X&&(0,a.jsx)(A.ZP,{icon:(0,a.jsx)(m.Z,{}),onClick:()=>ex(),children:"RE-BUILD"}),(0,a.jsx)(A.ZP,{onClick:()=>ei(!el),children:el?"UNWRAP":"WRAP"}),(0,a.jsx)(A.ZP,{icon:(0,a.jsx)(g.Z,{}),onClick:()=>eh()})]})]})]})}},49309:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var a=n(47164),l=n(50959);let i=()=>{let e=(0,a.useRouter)(),t=e.asPath,n=new URLSearchParams(e.asPath.split("?")[1]),i=Object.fromEntries(n),[s,r]=(0,l.useState)(i),o=t=>{let n={...s};return t.forEach(e=>{delete n[e]}),r(n),e.push(e.pathname,{query:n}),s},c=()=>{let e=Object.keys(s);return o(e)};return(0,l.useEffect)(()=>{if(e.isReady){if(-1===t.indexOf("?")){c();return}r(i)}},[e.asPath,e.isReady]),[s,{setQuery:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={...s,...t};return r(n),e.push("".concat(e.pathname),{query:n}),n},deleteQuery:o,deleteAllQueryKeys:c}]}},90400:function(e,t,n){"use strict";n.d(t,{Jl:function(){return r}});var a=n(11527),l=n(54162),i=n(50959);let s=(0,i.createContext)({sidebarCollapsed:!1}),r=()=>{let e=(0,i.useContext)(s);return e};t.ZP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.F)(),[n,r]=(0,i.useState)(!1),o=e=>void 0!==e?r(e):r(e=>!e);return(0,a.jsx)(s.Provider,{value:{sidebarCollapsed:n,toggleSidebar:o,responsive:t},children:e.children})}},8416:function(e,t,n){"use strict";n.d(t,{f9:function(){return r}});var a=n(11527),l=n(99104),i=n(50959);let s=(0,i.createContext)({}),r=()=>{let e=(0,i.useContext)(s);return e};t.ZP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=l.Z.useModal();return(0,a.jsxs)(s.Provider,{value:{modal:t},children:[e.children,n]})}},26697:function(e,t,n){"use strict";n.d(t,{o:function(){return tW}});var a,l,i=n(11527),s=n(72096),r=n(75616),o=n(99678),c=n(89335),u=n(32699),d=n.n(u),p=n(64470),m=n.n(p);let g=e=>{let{gaIds:t}=e;return(0,u.isEmpty)(t)?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m(),{src:"https://www.googletagmanager.com/gtag/js?id=".concat(t[0]),strategy:"afterInteractive"}),(0,i.jsx)(m(),{id:"google-analytics",strategy:"afterInteractive",children:"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){window.dataLayer.push(arguments);}\n                gtag('js', new Date());\n                \n                ".concat(t.map(e=>"gtag('config', '".concat(e,"');\n")),"\n                ")})]})};var h=n(93659),v=n(50959),x=n(40376),f=n(10479),b=n(34380),j=n(34898),y=n(15985),A=n(20209),k=n(1337),Z=n(70759),w=n(18067),E=n(74645),C=n(54452),N=n(98001),S=n(78104),P=n(3513),_=n(90859),I=n(91003),F=n(68834),Q=n(9036),B=n(62789),R=n(47725),L=n.n(R),T=n(47164),U=n(2154),z=n(90400);let D=[{key:"menu/",icon:(0,i.jsx)(x.Z,{}),label:"Dashboard"},{key:"menu/project",icon:(0,i.jsx)(f.Z,{}),label:"Projects & apps"},{key:"menu/build",icon:(0,i.jsx)(b.Z,{}),label:"Builds & deploys"},{key:"menu/framework",icon:(0,i.jsx)(j.Z,{}),label:"Frameworks"},{key:"menu/git",icon:(0,i.jsx)(y.Z,{}),label:"Git Providers"},{key:"menu/cronjob",icon:(0,i.jsx)(A.Z,{}),label:"Cronjobs"},{key:"menu/monitor",icon:(0,i.jsx)(k.Z,{}),label:"Monitoring",children:[{key:"menu/monitor/cluster",label:"Clusters",disabled:!0},{key:"menu/monitor/node",label:"Nodes"},{key:"menu/monitor/namespace",label:"Namespaces"},{key:"menu/monitor/service",label:"Services"},{key:"menu/monitor/ingress",label:"Ingresses"},{key:"menu/monitor/deployment",label:"Deployments"},{key:"menu/monitor/pod",label:"Pods"},{key:"menu/monitor/secret",label:"Secrets",disabled:!0},{key:"menu/monitor/configmap",label:"ConfigMaps",disabled:!0},{key:"menu/monitor/volume",label:"Persistent Volumes",disabled:!0},{key:"menu/monitor/certmanager",label:"Cert-Manager CRDs",disabled:!0}]},{key:"menu/infrastructure",icon:(0,i.jsx)(Z.Z,{}),label:"Infrastructure",children:[{key:"menu/infrastructure/cloud-provider",icon:(0,i.jsx)(w.Z,{}),label:"Cloud Providers"},{key:"menu/infrastructure/cluster",icon:(0,i.jsx)(E.Z,{}),label:"K8S Clusters"},{key:"menu/infrastructure/database",icon:(0,i.jsx)(C.Z,{}),label:"Databases"},{key:"menu/infrastructure/registry",icon:(0,i.jsx)(N.Z,{}),label:"Container Registries"}]},{key:"menu/workspace",icon:(0,i.jsx)(S.Z,{}),label:"Workspace",children:[{key:"menu/workspace/users",icon:(0,i.jsx)(P.Z,{}),label:"Users"},{key:"menu/workspace/teams",icon:(0,i.jsx)(_.Z,{}),label:"Teams"},{key:"menu/workspace/roles",icon:(0,i.jsx)(I.Z,{}),label:"Roles"}]},{key:"menu/settings",icon:(0,i.jsx)(F.Z,{}),label:"Settings"}],V=()=>{let e=(0,T.useRouter)(),{sidebarCollapsed:t,toggleSidebar:n,responsive:a}=(0,z.Jl)(),{isDarkMode:l}=(0,c.vs)(),[s]=(0,U.aC)(),r=((null==s?void 0:s.roles)||[]).filter(e=>{var t;return e.workspace===(null===(t=s.activeWorkspace)||void 0===t?void 0:t._id)});r[0];let o="menu/".concat((0,u.trimStart)(e.pathname,"/").split("/")[0]),d="menu".concat((0,u.trimEnd)(e.pathname,"/")),p=(0,v.useMemo)(()=>(null==window?void 0:window.innerWidth)>=728,[null==window?void 0:window.innerWidth]);(0,v.useEffect)(()=>{(null==window?void 0:window.innerWidth)<728&&!t&&n&&n(!0)},[null==window?void 0:window.innerWidth]);let m=t=>{let n=(0,u.trimStart)(t.key,"menu");e.push(n)};return(0,i.jsxs)(B.ZP,{theme:"light",collapsible:p,collapsed:t,onCollapse:e=>n&&n(e),breakpoint:"lg",width:250,style:{height:"100%"},collapsedWidth:(null==a?void 0:a.md)?"50":"0",children:[t?(0,i.jsx)("div",{className:"mx-auto my-5 w-[32px]",children:(0,i.jsx)(L(),{href:"/",children:(0,i.jsx)("img",{src:l?"".concat(e.basePath,"/assets/images/diginext-icon-white.svg"):"".concat(e.basePath,"/assets/images/diginext-icon-black.svg"),alt:"Diginext Logo"})})}):(0,i.jsx)("div",{className:"mx-auto my-5 w-36",children:(0,i.jsx)(L(),{href:"/",children:(0,i.jsx)("img",{src:l?"".concat(e.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(e.basePath,"/assets/images/diginext_logo.svg"),alt:"Diginext Logo"})})}),(0,i.jsx)(Q.Z,{mode:"inline",inlineCollapsed:t,defaultOpenKeys:[o],defaultSelectedKeys:[o,d],items:D,onSelect:m})]})};var O=n(92100),K=n(73621),q=n(78177),J=n(50002),M=n(21971),Y=n(48747),X=n(36865),H=n(58699),W=n(61663),G=n(49309),$=n(54162),ee=n(53004);let et=(0,v.createContext)({drawerVisibility:{lv1:!1,lv2:!1},toggleDrawer(e,t){},showDrawer(e,t){},closeDrawer(e){}}),en=()=>{let e=(0,v.useContext)(et);return e};var ea=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,v.useState)({lv1:!1,lv2:!1}),[a,l]=(0,v.useState)(),[s,r]=(0,v.useState)(),[o,{setQuery:c,deleteQuery:u,deleteAllQueryKeys:d}]=(0,G.o)(),p=(0,$.F)(),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lv1",t=arguments.length>1?arguments[1]:void 0;return void 0!==t?n(n=>{let a={...n};return a[e]=t,a}):n(t=>{let n={...t};return n[e]=!t[e],n})},g=e=>{e?(u([e]),m(e,!1)):(d(),n({lv1:!1,lv2:!1}))},h=()=>{d(),n(e=>({...e,lv1:!1}))},x=()=>{u(["lv2"]),n(e=>({...e,lv2:!1}))},f=(e,t)=>{switch(null==t?void 0:t.level){case 1:l(e),m("lv1",!0);break;case 2:r(e),m("lv2",!0)}};return(0,i.jsxs)(et.Provider,{value:{drawerVisibility:t,toggleDrawer:m,showDrawer:f,closeDrawer:g},children:[e.children,(0,i.jsxs)(ee.Z,{title:null==a?void 0:a.title,placement:"right",onClose:h,open:t.lv1,width:(null==p?void 0:p.md)?736:"100%",bodyStyle:{overflow:"auto",overflowX:"hidden",flex:"auto",padding:0},destroyOnClose:!0,children:[null==a?void 0:a.content,(0,i.jsx)(ee.Z,{title:null==s?void 0:s.title,placement:"right",onClose:x,open:t.lv2,width:(null==p?void 0:p.md)?736:"100%",bodyStyle:{overflow:"auto",overflowX:"hidden",flex:"auto",padding:0},destroyOnClose:!0,children:null==s?void 0:s.content})]})]})},el=n(59767),ei=n(32105),es=n(10684),er=n(90155),eo=n(97954),ec=n(96079),eu=n(76657),ed=n(38101),ep=n(5029),em=n(87514);let eg=e=>{let t;let{compact:n=!1,name:a,setValue:l,initialValue:s,apiStatus:r}=e,o=J.Z.useFormInstance(),c=()=>o.submit(),u=()=>{o.setFieldValue(a,s),l(s)},d=()=>{o.setFieldValue(a,""),l(void 0)};return r&&"loading"===r&&(t=(0,i.jsx)(ei.Z,{})),r&&"error"===r&&(t=(0,i.jsx)(eu.Z,{})),r&&"success"===r&&(t=(0,i.jsx)(ed.Z,{})),(0,i.jsxs)(X.Z,{size:n?4:8,children:[t,(0,i.jsx)(H.ZP,{type:"primary",icon:n&&(0,i.jsx)(es.Z,{}),onClick:()=>c(),children:!n&&"Save"}),(0,i.jsx)(H.ZP,{icon:n&&(0,i.jsx)(ep.Z,{}),onClick:()=>d(),children:!n&&"Clear"}),(0,i.jsx)(H.ZP,{danger:!0,icon:n&&(0,i.jsx)(em.Z,{}),onClick:()=>u(),children:!n&&"Reset"})]})},eh=e=>{let t;let{label:n,postLabel:a,name:l,required:s=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:o,initialValue:u,value:d,status:p,autoSave:m=!1,isNew:g,lang:h=[],height:x,disabled:f=!1,visible:b=!0,wrapperStyle:j}=e,y=J.Z.useFormInstance(),[A,k]=(0,v.useState)(null!=d?d:o),Z=(0,c.Nr)(A,500),{isDarkMode:w}=(0,c.vs)(),E=e=>{y.setFieldValue(l,e),k(e)},C=()=>y.submit();return(0,v.useEffect)(()=>{y.setFieldValue(l,d),k(d||"")},[d]),(0,v.useEffect)(()=>{Z!==d&&m&&!g&&C()},[Z]),p&&"error"===p[l]&&(t=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),p&&"loading"===p[l]&&(t=(0,i.jsx)(ei.Z,{})),p&&"success"===p[l]&&(t=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsxs)(J.Z.Item,{noStyle:!0,label:(0,i.jsxs)(X.Z,{size:"small",children:[n,t]}),name:l,rules:[{required:s,message:r}],style:{display:b?"block":"none",...j},children:[(0,i.jsxs)(X.Z,{size:"small",className:"mb-2",children:[n,t]}),(0,i.jsx)(ec.ZP,{height:x,theme:w?"dark":"light",extensions:[...h.map(e=>eo.RI[e]()),(0,er.X)({})],onChange:E,value:A,editable:!f}),a,!f&&!m&&!g&&(0,i.jsx)(eg,{initialValue:u,name:l,setValue:k}),(0,i.jsx)("div",{className:"h-4"})]})};var ev=n(80042);let ex=e=>{let t;let{label:n,postLabel:a,name:l,required:s=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:o,initialValue:u,value:d,status:p,autoSave:m=!0,isNew:g,placeholder:h,disabled:x=!1,visible:f=!0,wrapperStyle:b}=e,j=J.Z.useFormInstance(),[y,A]=(0,v.useState)(null!=d?d:o),k=(0,c.Nr)(y,500),Z=e=>{let t=e.currentTarget.value;j.setFieldValue(l,t),A(t)},w=()=>j.submit();return(0,v.useEffect)(()=>{j.setFieldValue(l,d),A(d)},[d]),(0,v.useEffect)(()=>{k!==d&&m&&!g&&w()},[k]),p&&"error"===p[l]&&(t=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),p&&"loading"===p[l]&&(t=(0,i.jsx)(ei.Z,{})),p&&"success"===p[l]&&(t=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsx)(J.Z.Item,{label:(0,i.jsxs)(X.Z.Compact,{direction:"vertical",children:[(0,i.jsxs)(X.Z,{size:"small",children:[n,t]}),a]}),name:l,rules:[{required:s,message:r}],style:{display:f?"block":"none",...b},children:(0,i.jsxs)(X.Z,{direction:"vertical",className:"w-full",children:[(0,i.jsx)(ev.Z,{autoComplete:"off",placeholder:h,onChange:Z,value:y,disabled:x}),!m&&!g&&(0,i.jsx)(eg,{initialValue:u,name:l,setValue:A})]})})};var ef=n(81155);let eb=e=>{let t;let{label:n,postLabel:a,name:l,required:s=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:o,initialValue:d,value:p,status:m,autoSave:g=!0,isNew:h,placeholder:x,disabled:f=!1,visible:b=!0,wrapperStyle:j}=e,y=J.Z.useFormInstance(),[A,k]=(0,v.useState)(null!=p?p:o),Z=(0,c.Nr)(A,500),w=e=>{let t=(null!=A?A:0)+e;y.setFieldValue(l,t),k(t)},E=e=>{let t=(null!=A?A:0)-e;t<0&&(t=0),y.setFieldValue(l,t),k(t)},C=e=>{let t=(0,u.toNumber)(e.currentTarget.value);y.setFieldValue(l,t),k(t)},N=()=>y.submit();return(0,v.useEffect)(()=>{y.setFieldValue(l,p),k(p)},[p]),(0,v.useEffect)(()=>{Z!==p&&g&&!h&&N()},[Z]),m&&"error"===m[l]&&(t=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),m&&"loading"===m[l]&&(t=(0,i.jsx)(ei.Z,{})),m&&"success"===m[l]&&(t=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsx)(J.Z.Item,{label:(0,i.jsxs)(X.Z.Compact,{direction:"vertical",children:[(0,i.jsxs)(X.Z,{size:"small",children:[n,t]}),a]}),name:l,rules:[{required:s,message:r}],style:{display:b?"block":"none",...j},children:(0,i.jsxs)(X.Z,{direction:"vertical",className:"w-full",children:[(0,i.jsx)(ev.Z,{size:"small",autoComplete:"off",placeholder:x,onChange:C,value:A,disabled:f,prefix:(0,i.jsx)(H.ZP,{type:"link",icon:(0,i.jsx)(ef.Z,{}),onClick:()=>E(1)}),suffix:(0,i.jsx)(H.ZP,{type:"link",icon:(0,i.jsx)(q.Z,{}),onClick:()=>w(1)}),style:{textAlign:"center"}}),!g&&!h&&(0,i.jsx)(eg,{initialValue:d,name:l,setValue:k})]})})};var ej=n(45545),ey=n(70941);let eA=e=>{let t;let{label:n,postLabel:a,name:l,required:s=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:o,initialValue:u,value:d,status:p,autoSave:m=!0,isNew:g,placeholder:h,disabled:x=!1,visible:f=!0,wrapperStyle:b}=e,j=J.Z.useFormInstance(),[y,A]=(0,v.useState)(null!=d?d:o),k=(0,c.Nr)(y,500),Z=e=>{let t=e.currentTarget.value;j.setFieldValue(l,t),A(t)},w=()=>j.submit();return(0,v.useEffect)(()=>{j.setFieldValue(l,d),A(d)},[d]),(0,v.useEffect)(()=>{k!==d&&m&&!g&&w()},[k]),p&&"error"===p[l]&&(t=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),p&&"loading"===p[l]&&(t=(0,i.jsx)(ei.Z,{})),p&&"success"===p[l]&&(t=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsx)(J.Z.Item,{label:(0,i.jsxs)(X.Z.Compact,{direction:"vertical",children:[(0,i.jsxs)(X.Z,{size:"small",children:[n,t]}),a]}),name:l,rules:[{required:s,message:r}],style:{display:f?"block":"none",...b},children:(0,i.jsxs)(X.Z,{direction:"vertical",className:"w-full",children:[(0,i.jsx)(ev.Z.Password,{autoComplete:"off",placeholder:h,onChange:Z,value:y,disabled:x,iconRender:e=>e?(0,i.jsx)(ej.Z,{}):(0,i.jsx)(ey.Z,{})}),!m&&!g&&(0,i.jsx)(eg,{initialValue:u,name:l,setValue:A})]})})};var ek=n(3748);let eZ=e=>{let t;let{className:n,style:a,label:l,postLabel:s,name:r,required:o=!1,requiredMessage:u="Please input your ".concat(l),defaultValue:d,initialValue:p,value:m,status:g,autoSave:h=!0,isNew:x,options:f,onChange:b,disabled:j=!1,visible:y=!0,wrapperStyle:A}=e,k=J.Z.useFormInstance(),[Z,w]=(0,v.useState)(null!=m?m:d),E=(0,c.Nr)(Z,500),C=e=>{k.setFieldValue(r,e),w(e),b&&b(e)},N=()=>k.submit();return(0,v.useEffect)(()=>{k.setFieldValue(r,m),w(m),b&&b(m)},[m]),(0,v.useEffect)(()=>{E!==m&&h&&!x&&N()},[E]),g&&"error"===g[r]&&(t=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),g&&"loading"===g[r]&&(t=(0,i.jsx)(ei.Z,{})),g&&"success"===g[r]&&(t=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsx)(J.Z.Item,{label:(0,i.jsxs)(X.Z,{size:"small",children:[l,t]}),name:r,rules:[{required:o,message:u}],style:{display:y?"block":"none",...A},children:(0,i.jsxs)(X.Z.Compact,{direction:"horizontal",className:"w-full",children:[(0,i.jsx)(ek.Z,{className:n,style:a,value:Z,onChange:C,options:f,disabled:j}),s,!h&&!x&&(0,i.jsx)(eg,{initialValue:p,name:r,setValue:w})]})})};var ew=n(13740),eE=n(34010);let eC=e=>{var t;let n;let{className:a,style:l,label:s,postLabel:r,name:o,required:d=!1,requiredMessage:p="Please input your ".concat(s),value:m=[],defaultValue:g=[],initialValue:h=[],status:x={},autoSave:f=!0,isNew:b,options:j,onChange:y,disabled:A=!1,visible:k=!0}=e,Z=J.Z.useFormInstance(),[w,E]=(0,v.useState)(""),[C,N]=(0,v.useState)(null!==(t=null!=m?m:g)&&void 0!==t?t:[]),S=(0,c.Nr)(C,500),P=e=>{let t=function(e){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return t}(C||[]),n=t.indexOf(e)>-1?t:[...t,e];Z.setFieldValue(o,n),N(n),E(""),x[o]="loading",y&&y(e)},_=e=>{let t=C?C.filter((t,n)=>n!==e):[];N(t),Z.setFieldValue(o,t),y&&y(t)},I=()=>Z.submit();return(0,v.useEffect)(()=>{let e=null!=m?m:[];m&&!(0,u.isArray)(m)&&void 0!==m[0]&&(e=[],Object.entries(m).forEach(t=>{let[,n]=t;console.log("val :>> ",n),"string"==typeof n&&e.push(n)})),Z.setFieldValue(o,e),N(e)},[m]),(0,v.useEffect)(()=>{S!==m&&f&&!b&&I()},[S]),x&&"error"===x[o]&&(n=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),x&&"loading"===x[o]&&(n=(0,i.jsx)(ei.Z,{})),x&&"success"===x[o]&&(n=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J.Z.Item,{label:(0,i.jsxs)(X.Z,{size:"small",children:[s,n]}),name:o,rules:[{required:d,message:p}],style:{display:k?"block":"none"},children:(0,i.jsx)(eE.ZP,{bordered:!0,size:"small",dataSource:null!=C?C:[],footer:(0,i.jsx)(X.Z.Compact,{style:{width:"100%"},children:(0,i.jsx)(ev.Z.Search,{value:w,onChange:e=>E(e.currentTarget.value),loading:x&&"loading"===x[o],enterButton:(0,i.jsx)(H.ZP,{icon:(0,i.jsx)(q.Z,{}),onClick:()=>P(w),children:"Add"})})}),renderItem:(e,t)=>(0,i.jsx)(eE.ZP.Item,{actions:[(0,i.jsx)(H.ZP,{icon:(0,i.jsx)(ew.Z,{}),onClick:()=>_(t)},"".concat(s,"-delete-btn"))],children:(0,i.jsx)(eE.ZP.Item.Meta,{title:(0,i.jsx)("span",{children:e})})})})}),r,!f&&!b&&(0,i.jsx)(eg,{initialValue:h,name:o,setValue:N})]})},{TextArea:eN}=ev.Z,eS=e=>{let t;let{label:n,postLabel:a,name:l,required:s=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:o,initialValue:u,value:d,status:p,autoSave:m=!0,isNew:g,disabled:h=!1,visible:x=!0}=e,f=J.Z.useFormInstance(),[b,j]=(0,v.useState)(null!=d?d:o),y=(0,c.Nr)(b,500),A=e=>{let t=e.currentTarget.value;f.setFieldValue(l,t),j(t)},k=()=>f.submit();return(0,v.useEffect)(()=>{f.setFieldValue(l,d),j(d)},[d]),(0,v.useEffect)(()=>{y!==d&&m&&!g&&k()},[y]),p&&"error"===p[l]&&(t=(0,i.jsxs)("span",{className:"text-red-600",children:[(0,i.jsx)(el.Z,{}),"Failed"]})),p&&"loading"===p[l]&&(t=(0,i.jsx)(ei.Z,{})),p&&"success"===p[l]&&(t=(0,i.jsx)(es.Z,{color:"green"})),(0,i.jsx)(J.Z.Item,{label:(0,i.jsxs)(X.Z,{size:"small",children:[n,t]}),name:l,rules:[{required:s,message:r}],style:{display:x?"block":"none"},children:(0,i.jsxs)(X.Z,{direction:"vertical",className:"w-full",children:[(0,i.jsx)(eN,{rows:3,onChange:A,value:b,disabled:h}),a,!m&&!g&&(0,i.jsx)(eg,{compact:!0,initialValue:u,name:l,setValue:j})]})})},{useApp:eP}=o.Z,e_=e=>{let{children:t,className:n="",name:a,configs:l=[]}=e,s=eP(),{useSlugApi:o,useCreateApi:c,useUpdateApi:p}=e.api||{},{data:m,status:g}=o||{},[h,x]=p||[],[f,b]=c||[],[j,{deleteAllQueryKeys:y}]=(0,G.o)(),[A]=J.Z.useForm(),[k,Z]=(0,v.useState)(),w=void 0===m,{token:{colorBgContainer:E}}=r.Z.useToken(),{closeDrawer:C}=en(),[N,S]=(0,v.useState)(!1);(0,v.useEffect)(()=>{"success"===g&&S(!0)},[g]);let P=async e=>{let t;console.log(w?"[NEW]":"[UPDATE]","Submit:",e);let n={...e};if(w){if(!f)return;Object.entries(n).forEach(e=>{let[t,a]=e;t.indexOf(".")>-1&&(delete n[t],d().set(n,t,a))}),console.log("[NEW] result :>> ",t=await f(n)),(null==t?void 0:t.status)&&(s.notification.success({message:"Congrats!",description:"Item has been created successfully."}),C())}else{if(!h||!N)return;let a={};Object.entries(n).forEach(e=>{let[t,l]=e;m&&l!==m[t]?a[t]="loading":(delete a[t],delete n[t])}),(0,u.isEmpty)(a)?console.log("[UPDATE] Skipped, nothing new to update."):(console.log("[UPDATE] result :>> ",t=await h(n)),Object.entries(n).forEach(e=>{let[n,l]=e;a[n]=(null==t?void 0:t.status)===0?"error":"success"})),console.log("statuses :>> ",a),Z(a)}},_=e=>{console.log("Failed:",e)};return(0,i.jsxs)("div",{className:"overflow-x-hidden p-6 pb-16 ".concat(n),children:["loading"===g&&!1===w&&(0,i.jsx)(M.Z,{active:!0}),"loading"===b&&!0===w&&(0,i.jsx)(M.Z,{active:!0}),"error"===g&&!1===w&&(0,i.jsx)(Y.Z,{message:"Unable to get data at the moment.",type:"error",showIcon:!0}),"error"===b&&!0===w&&(0,i.jsx)(Y.Z,{message:"Unable to submit data at the moment.",type:"error",showIcon:!0}),("success"===g||!0===w&&"loading"!==b)&&(0,i.jsxs)(J.Z,{className:["h-full","overflow-x-hidden",n].join(" "),layout:"vertical",form:A,onFinish:P,onFinishFailed:_,autoComplete:"off",children:[l.map(e=>{var t,n,l,s,r,o,c;switch(e.type){case"input":return(0,i.jsx)(ex,{...e,value:null!==(t=e.value)&&void 0!==t?t:m?d().get(m,e.name):"",status:k,isNew:w},"".concat(a,"-").concat(e.name));case"password":return(0,i.jsx)(eA,{...e,value:null!==(n=e.value)&&void 0!==n?n:m?d().get(m,e.name):"",status:k,isNew:w},"".concat(a,"-").concat(e.name));case"number":return(0,i.jsx)(eb,{...e,value:null!==(l=e.value)&&void 0!==l?l:m?d().get(m,e.name):0,status:k,isNew:w},"".concat(a,"-").concat(e.name));case"textarea":return(0,i.jsx)(eS,{...e,value:null!==(s=e.value)&&void 0!==s?s:m?d().get(m,e.name):"",status:k,isNew:w},"".concat(a,"-").concat(e.name));case"code-editor":return(0,i.jsx)(eh,{...e,value:null!==(r=e.value)&&void 0!==r?r:m?d().get(m,e.name):"",status:k,isNew:w},"".concat(a,"-").concat(e.name));case"select":{let{displayKey:u}=e;void 0===u&&(u="name");let p=d().get(m,u?"".concat(u):e.name);return(0,i.jsx)(eZ,{...e,style:{flex:"auto",...null==e?void 0:e.style},value:p,status:k,isNew:w},"".concat(a,"-").concat(e.name))}case"list_string":let g=null!==(c=null!==(o=e.value)&&void 0!==o?o:m?d().get(m,e.name):[])&&void 0!==c?c:[];return(0,i.jsx)(eC,{...e,value:g,status:k,isNew:w},"".concat(a,"-").concat(e.name));default:return null}}),t,w&&(0,i.jsx)("div",{className:"absolute left-0 bottom-0 w-full px-6 py-3",style:{backgroundColor:E},children:(0,i.jsxs)(X.Z,{align:"center",children:[(0,i.jsx)(J.Z.Item,{style:{marginBottom:0},children:(0,i.jsx)(H.ZP,{type:"primary",htmlType:"submit",icon:(0,i.jsx)(q.Z,{}),children:"Submit"})}),(0,i.jsx)(W.Z,{title:"Are you sure?",onConfirm:()=>y(),okText:"Yes",cancelText:"No",children:(0,i.jsx)(H.ZP,{type:"primary",danger:!0,children:"Discard"})})]})})]})]})};var eI=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{cluster_slug:e}]=(0,G.o)(),t=(0,K.pD)(e,{populate:"owner,provider"}),{data:n}=t,a=(0,K.ve)({filter:{id:null==n?void 0:n._id}}),l=(0,K.CN)(),{data:{list:s=[]}={}}=(0,O.nu)(),[r,o]=(0,v.useState)(""),c=[{type:"input",label:"Name",name:"name",placeholder:"Cluster name"},{type:"input",label:"Short name",name:"shortName",placeholder:"Short name"},{type:"select",label:"Cloud Provider",name:"provider",placeholder:"Cloud Provider",displayKey:"provider.name",options:s.map(e=>({label:e.name||"",value:e._id})),onChange(e){var t;return o((null===(t=s.find(t=>t._id===e))||void 0===t?void 0:t.shortName)||"")}},{type:"input",label:"Primary IP",name:"primaryIP",placeholder:"192.168.10.50"},{type:"input",label:"Primary domain",name:"primaryDomain",placeholder:"example.com"},{type:"input",label:"Project ID (Google)",name:"projectID",placeholder:"my-project-id",visible:"gcloud"===r},{type:"input",label:"Region (Google)",name:"region",placeholder:"asia-southeast1",visible:"gcloud"===r},{type:"input",label:"Zone (Google)",name:"zone",placeholder:"asia-southeast1-a",visible:"gcloud"===r},{type:"code-editor",lang:["json"],label:"Service Account (JSON)",name:"serviceAccount",visible:"gcloud"===r,height:"350px"},{type:"code-editor",lang:["yaml"],label:"KubeConfig (YAML)",name:"kubeConfig",visible:"custom"===r,height:"350px"},{type:"textarea",label:"API Access Token",name:"apiAccessToken",visible:"digitalocean"===r}];return(0,i.jsx)(e_,{name:"cluster",api:{useSlugApi:t,useUpdateApi:a,useCreateApi:l},configs:c})},eF=n(64718);let eQ=["gcloud","digitalocean","dockerhub"].map(e=>{switch(e){case"digitalocean":return{name:"Digital Ocean Registry",slug:"digitalocean"};case"gcloud":return{name:"Google Container Registry",slug:"gcloud"};case"dockerhub":return{name:"Docker Registry",slug:"dockerhub"};default:return}}),eB=["mongodb","mysql","mariadb","postgresql"],eR=["bitbucket","github"].map(e=>{switch(e){case"bitbucket":return{name:"Bitbucket",slug:"bitbucket"};case"github":return{name:"Github",slug:"github"};default:return{name:"Unknown",slug:"unknown"}}}),eL=["none","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"],eT=["letsencrypt","custom","none"];var eU=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{database:e}]=(0,G.o)(),t=(0,eF.N2)(e,{populate:"owner"}),{data:n}=t,a=(0,eF._M)({filter:{id:null==n?void 0:n._id}}),l=(0,eF.e6)(),[s,r]=(0,v.useState)(),o=[{type:"input",label:"Name",name:"name",placeholder:"Give your database a name"},{type:"select",label:"Database type",name:"type",displayKey:"type",options:eB.map(e=>({label:e||"",value:e})),onChange:e=>r(e)},{type:"input",label:"Connection URI",name:"url",placeholder:"mongodb"===s?"mongodb://...":"postgresql://...",visible:"mongodb"===s||"postgresql"===s},{type:"input",label:"Host",name:"host",placeholder:"10.10.10.10",visible:void 0===(null==n?void 0:n.url)},{type:"input",label:"Port",name:"port",placeholder:"27017",visible:void 0===(null==n?void 0:n.url)},{type:"input",label:"User",name:"user",placeholder:"root",visible:void 0===(null==n?void 0:n.url)},{type:"password",label:"Pass",name:"pass",visible:void 0===(null==n?void 0:n.url)},{type:"input",label:"Auth database",name:"authDb",placeholder:"admin",visible:void 0===(null==n?void 0:n.url)}];return(0,i.jsx)(e_,{name:"database",api:{useSlugApi:t,useUpdateApi:a,useCreateApi:l},configs:o})},ez=n(68114),eD=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{framework_slug:e}]=(0,G.o)(),t=(0,ez.FX)(e,{populate:"owner,git"}),{data:n}=t,a=(0,ez.fR)({filter:{id:null==n?void 0:n._id}}),l=(0,ez.D$)(),s=[{type:"input",label:"Name",name:"name",placeholder:"My Starter Template"},{type:"select",label:"Git Provider",name:"gitProvider",displayKey:"gitProvider",style:{width:250},options:eR.map(e=>({label:null==e?void 0:e.name,value:null==e?void 0:e.slug}))},{type:"input",label:"Repository HTTPS URL",name:"repoURL",placeholder:"https://github.com/user/repo.git"},{type:"input",label:"Repository SSH URL",name:"repoSSH",placeholder:"git@github.com:user/repo.git"},{type:"input",label:"Main branch",name:"mainBranch",placeholder:"main"}];return(0,i.jsx)(e_,{name:"framework",api:{useSlugApi:t,useUpdateApi:a,useCreateApi:l},configs:s})},eV=n(29956),eO=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{git_provider_slug:e}]=(0,G.o)(),t=(0,eV.o0)(e,{populate:"owner"}),{data:n}=t,a=(0,eV.Ve)({filter:{id:null==n?void 0:n._id}}),l=(0,eV.xP)();return(0,i.jsx)(e_,{name:"gitProvider",api:{useSlugApi:t,useUpdateApi:a,useCreateApi:l},configs:[{type:"input",label:"Name",name:"name",placeholder:"Github"},{type:"input",label:"Host",name:"host",placeholder:"github.com"},{type:"input",label:"Workspace name",name:"gitWorkspace",placeholder:"my-organization"},{type:"input",label:"Workspace URL",name:"repo.url",placeholder:"https://github.com/my-organization"},{type:"input",label:"Workspace SSH Prefix",name:"repo.sshPrefix",placeholder:"git@github.com:my-organization"}]})},eK=n(82586),eq=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{app:e}]=(0,G.o)(),t=(0,eK.im)(e,{populate:"owner"}),{data:n}=t,a=(0,eK.UV)({filter:{id:null==n?void 0:n._id}}),{data:{list:l=[]}={}}=(0,eV.y3)(),[s,r]=(0,v.useState)(),o=[{type:"input",label:"Name",name:"name",placeholder:"App name"},{type:"select",label:"Git Provider",name:"gitProvider",placeholder:"Git Provider",displayKey:"gitProvider",options:l.map(e=>({label:e.name||"",value:e._id})),onChange:e=>r(l.find(t=>t._id===e))},{type:"input",label:"Repo URL",name:"git.repoURL",placeholder:"https://github.com/organization-name/example-repo"},{type:"input",label:"Repo SSH",name:"git.repoSSH",placeholder:"git@github.com:organization-name/example-repo.git"}];return(0,i.jsx)(e_,{name:"app",api:{useSlugApi:t,useUpdateApi:a},configs:o})},eJ=n(79402),eM=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{lv1:e,registry_slug:t}]=(0,G.o)(),n=(0,eJ.EL)(t,{populate:"owner"}),{data:a}=n,l=(0,eJ.Xn)({filter:{id:null==a?void 0:a._id}}),s=(0,eJ.Bl)(),[r,o]=(0,v.useState)();console.log("providerShortName :>> ",r),(0,v.useEffect)(()=>{(null==a?void 0:a.provider)&&o(a.provider)},[null==a?void 0:a.provider]);let c=[{type:"input",label:"Name",name:"name",placeholder:"My Container Registry",required:!0},{type:"select",label:"Cloud Provider",name:"provider",displayKey:"name",visible:"new"===e,options:eQ.map(e=>({label:(null==e?void 0:e.name)||"",value:null==e?void 0:e.slug})),onChange(e){var t;return o((null===(t=eQ.find(t=>(null==t?void 0:t.slug)===e))||void 0===t?void 0:t.slug)||void 0)}},{type:"code-editor",lang:["yaml","json"],label:"Google Service Account (JSON)",name:"serviceAccount",visible:"gcloud"===r,required:"gcloud"===r},{type:"input",label:"Registry Host",name:"host",visible:"gcloud"===r,placeholder:"gcloud"===r?"gcr.io":""},{type:"password",label:"DigitalOcean API access token",name:"apiAccessToken",visible:"digitalocean"===r,required:"digitalocean"===r},{type:"input",label:"Docker username",name:"dockerUsername",required:"dockerhub"===r,visible:"dockerhub"===r},{type:"password",label:"Docker password",name:"dockerPassword",required:"dockerhub"===r,visible:"dockerhub"===r},{type:"input",label:"Organization",name:"organization",visible:"dockerhub"===r}];return(0,i.jsx)(e_,{name:"registry",api:{useSlugApi:n,useUpdateApi:l,useCreateApi:s},configs:c})},eY=n(7620),eX=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{role:e}]=(0,G.o)(),t=(0,eY.dZ)(e,{populate:"owner"}),{data:n}=t||{},a=(0,eY.aB)({filter:{id:null==n?void 0:n._id}}),l=(0,eY.m1)(),s=[{type:"input",label:"Name",name:"name",placeholder:"Role's name",disabled:void 0===n||void 0===n.type||["administrator","moderator","member"].includes(n.type)}];return(0,i.jsx)(e_,{name:"roles",api:{useSlugApi:t,useUpdateApi:a,useCreateApi:l},configs:s})},eH=n(22820),eW=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{user:e}]=(0,G.o)(),t=(0,eH.hz)(e,{populate:"roles"}),{data:n}=t||{},a=(0,eH.yl)({filter:{id:null==n?void 0:n._id},populate:"roles"}),l=(0,eH.En)({populate:"roles"}),[s,r]=(0,eH.Rz)(),{data:{list:o=[]}={}}=(0,eY.bd)(),c=o[0],[u,d]=(0,v.useState)(c),p=[{type:"input",label:"Name",name:"name",placeholder:"User's name"},{type:"select",label:"Role",name:"roles",style:{width:250},displayKey:"roles.0._id",options:o.map(e=>({label:e.name||"",value:e._id}))}];return(0,i.jsx)(e_,{name:"user",api:{useSlugApi:t,useUpdateApi:a,useCreateApi:l},configs:p})};let eG=()=>{let e;let[{type:t}]=(0,G.o)();switch(t){case"app":e=(0,i.jsx)(eq,{});break;case"cluster":e=(0,i.jsx)(eI,{});break;case"framework":e=(0,i.jsx)(eD,{});break;case"git-provider":e=(0,i.jsx)(eO,{});break;case"registry":e=(0,i.jsx)(eM,{});break;case"database":e=(0,i.jsx)(eU,{});break;case"user":e=(0,i.jsx)(eW,{});break;case"role":e=(0,i.jsx)(eX,{})}return(0,i.jsx)("div",{className:"h-full",children:e})};var e$=n(24623),e0=n(13557);let e1=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:n}=(0,e$.u)();return(0,i.jsxs)("div",{children:[t.children,(0,i.jsxs)("div",{className:"border-t border-gray-300 py-4 text-center text-xs",children:["Version ",(0,i.jsx)("strong",{className:"text-brand",children:null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.version}),(0,i.jsx)("br",{}),"Copyright ",new Date().getFullYear()," \xa9"," ",(0,i.jsx)(L(),{href:"https://diginext.site/?ref=diginext-dashboard",target:"_blank",children:e0.XL.title.toUpperCase()}),". Powered by"," ",(0,i.jsx)("a",{href:"https://wearetopgroup.com/en?ref=diginext-dashboard",target:"_blank",rel:"noreferrer",children:"TOP GROUP"}),"."]})]})};var e2=n(63386),e4=n(85153),e5=n(70861),e9=n(44053),e6=n(94521),e7=n(48274),e3=n(12450);let{Header:e8}=h.Z,te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onSidebarChange:t}=e,{isDarkMode:n,toggle:a}=(0,c.vs)(),[l]=(0,U.aC)(),{token:{colorBgContainer:s}}=r.Z.useToken(),{sidebarCollapsed:o,toggleSidebar:u}=(0,z.Jl)();return(0,v.useEffect)(()=>t&&t(o),[o]),(0,i.jsx)(e8,{className:"w-full",style:{position:"sticky",top:0,paddingInline:24,lineHeight:"48px",height:48,zIndex:100,background:s},children:(0,i.jsxs)("div",{className:"flex ",children:[(0,i.jsx)("div",{className:"grow",children:(0,i.jsx)("div",{className:"hidden md:block",children:v.createElement(o?e2.Z:e4.Z,{className:"trigger",onClick:()=>u&&u()})})}),(0,i.jsxs)(X.Z,{size:4,children:[(0,i.jsx)(H.ZP,{type:"text",icon:(0,i.jsx)(e5.Z,{}),href:"https://zii.vn/dx-docs",target:"_blank"}),(0,i.jsx)(H.ZP,{type:"text",icon:(0,i.jsx)(e9.Z,{}),href:"https://github.com/digitopvn/diginext/",target:"_blank"}),(0,i.jsx)(H.ZP,{type:"text",style:{fontSize:18,verticalAlign:"middle",paddingTop:0},onClick:a,icon:n?(0,i.jsx)("i",{className:"ri-sun-line inline-block"}):(0,i.jsx)("i",{className:"ri-moon-line inline-block"})}),(0,i.jsx)(e7.Z,{placement:"bottomRight",trigger:"click",content:(0,i.jsxs)(X.Z,{direction:"vertical",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"mb-0",children:(0,i.jsx)("strong",{children:null==l?void 0:l.name})}),(0,i.jsx)("p",{className:"mb-0",children:null==l?void 0:l.email})]}),(0,i.jsxs)(X.Z.Compact,{direction:"vertical",className:"w-full",children:[(0,i.jsx)(H.ZP,{href:"/profile",children:"Profile"}),(0,i.jsx)(H.ZP,{href:"/workspace/select",children:"Switch workspace"}),(0,i.jsx)(H.ZP,{href:"/logout",children:"Sign out"})]})]}),children:(0,i.jsxs)("div",{className:"cursor-pointer align-middle",children:[(0,i.jsx)(e3.C,{style:{lineHeight:"20px"},icon:(0,i.jsx)(P.Z,{style:{verticalAlign:"middle"}}),src:null==l?void 0:l.image,size:24}),(0,i.jsx)("span",{className:"ml-2 hidden md:inline-block",children:null==l?void 0:l.name}),(0,i.jsx)(e6.Z,{className:"ml-2"})]})})]})]})})};var tt=n(51021),tn=n(58254),ta=n(30388),tl=n(85273),ti=n(46457),ts=n(5433),tr=n(88158),to=n(5489),tc=n(74637),tu=n.n(tc),td=n(58012),tp=n(97591);let tm=n(64814),tg=n(54498);tu().extend(tg),tu().extend(tm);let th=null!==(a=e0.XL.tableConfig.defaultPageSize)&&void 0!==a?a:20,tv=()=>{let{responsive:e}=(0,z.Jl)(),[t,{setQuery:n}]=(0,G.o)(),{database:a}=t,[l,s]=(0,v.useState)(1),{data:r,status:o}=(0,eF.sr)({filter:{dbSlug:a},populate:"owner,database",pagination:{page:l,size:th}}),{list:c,pagination:u}=r||{},{total_items:d}=u||{},[p]=(0,eF.ij)(),[m]=(0,eF.OK)(),g=[{title:"No.",width:7,key:"no",dataIndex:"no",render:(e,t,n)=>(0,i.jsx)(i.Fragment,{children:(l-1)*th+n+1})},{title:"Name",width:50,dataIndex:"name",key:"name",render:(e,t)=>(0,i.jsx)(L(),{href:t.url||"#",target:"_blank",children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Type",dataIndex:"type",key:"type",width:18,render:(e,t)=>(0,i.jsx)(tl.Z,{children:e})},{title:"Database",dataIndex:"dbSlug",key:"dbSlug",width:22,render:(e,t)=>t.dbSlug?(0,i.jsx)(tl.Z,{color:"success",children:t.dbSlug}):(0,i.jsx)(tl.Z,{color:"error",children:"-"})},{title:"Created by",dataIndex:"owner",key:"owner",width:30,render:(e,t)=>(0,i.jsx)(i.Fragment,{children:null==t?void 0:t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:25,render:e=>(0,i.jsx)(td.q,{date:e}),sorter:(e,t)=>tu()(e.createdAt).diff(tu()(t.createdAt))},{title:(0,i.jsx)(ti.Z.Text,{className:"text-xs md:text-sm",children:"Action"}),key:"action",fixed:"right",width:(null==e||e.md,20),render:(e,t)=>t.actions}],h=async e=>{e||ts.Z.error({message:"Unable to delete this item."});let t=await m({_id:e});(null==t?void 0:t.status)&&ts.Z.success({message:"Item deleted successfully."})},x=e=>{let{current:t}=e;t&&s(t)},f=(null==c?void 0:c.map((e,t)=>({...e,actions:(0,i.jsxs)(X.Z.Compact,{children:[(0,i.jsx)(tr.Z,{overlay:"Download",children:(0,i.jsx)(H.ZP,{icon:(0,i.jsx)(tt.Z,{}),href:e.url,target:"_blank"})}),(0,i.jsx)(tr.Z,{overlay:"Restore",children:(0,i.jsx)(H.ZP,{disabled:!0,icon:(0,i.jsx)(tn.Z,{}),onClick:()=>p({id:null==e?void 0:e._id})})}),(0,i.jsx)(W.Z,{title:"Are you sure to delete this item?",description:(0,i.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>h(e._id),okText:"Yes",cancelText:"No",children:(0,i.jsx)(H.ZP,{icon:(0,i.jsx)(ew.Z,{})})})]})})))||[],b=(0,v.useRef)(null),j=(0,ta.Z)(b);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tp.V,{title:"Database Backups (".concat(null!=d?d:"-",")"),breadcrumbs:[{name:"Workspace"}],actions:[],children:(0,i.jsx)(tl.Z,{color:"success",children:a})}),(0,i.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:b,children:(0,i.jsx)(to.Z,{sticky:!0,size:"small",loading:"loading"===o,columns:g,dataSource:f,scroll:{x:1e3,y:void 0!==(null==j?void 0:j.height)?j.height-140:void 0},pagination:{pageSize:th,total:d,position:["bottomCenter"]},onChange:x})})]})};var tx=n(93147),tf=n(17014),tb=n(3726),tj=n(55282),ty=n.n(tj),tA=n(15444),tk=n.n(tA);n(37324);let tZ=n(64814),tw=n(54498);tu().extend(tw),tu().extend(tZ);let tE=e=>ty()("".concat(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")),tC=e=>{let{slug:t}=e,[n]=(0,G.o)(),{app:a=t,env:l}=n,{data:s={},status:o}=(0,eK.un)(a,{filter:{env:l}});console.log({logData:s});let c=Object.keys(s)||[],u=c.filter(e=>e.indexOf(a)>-1)[0],d=u?s[u]:"";console.log({podLogs:d});let p=tE(d),m=p.split("\n").map((e,t)=>e.toString()).filter(e=>"0"!==e);console.log("lines :>> ",m);let{token:{colorText:g}}=r.Z.useToken();return(0,i.jsxs)("div",{style:{color:g},children:["loading"===o&&(0,i.jsx)(M.Z,{active:!0}),0===m.length?(0,i.jsx)(tx.Z,{}):(0,i.jsx)(tf.Z,{items:m.filter(e=>""!==e).reverse().map((e,t)=>{let n="".concat(e);if(n.toLowerCase().indexOf("error")>-1)return{dot:(0,i.jsx)(eu.Z,{className:"text-red-600"}),children:(0,i.jsx)("span",{className:"text-red-600",children:(0,tb.ZP)("".concat(e))})};if(n.indexOf("http://")>-1||n.indexOf("https://")){let a=n.split(" "),l=a.map(e=>tk()(e,{require_protocol:!0})?'<a href="'.concat(e,'" target="_blank" style="color: #008dff">').concat(e,"</a>"):e).join(" ");return{children:(0,tb.ZP)(l)}}return{children:(0,tb.ZP)("".concat(e))}})})]})};var tN=n(21240),tS=n(60196),tP=n(476),t_=n(87078),tI=n(2401);function tF(e,t){let n=e;for(let a=1;a<t;a++)n*=2;return n}let tQ=e=>{if("none"===e)return{};let t=(0,u.toNumber)(e.substring(0,e.length-1));return{requests:{cpu:"".concat(tF(20,t),"m"),memory:"".concat(tF(128,t),"Mi")},limits:{cpu:"".concat(tF(20,t),"m"),memory:"".concat(tF(128,t),"Mi")}}},tB=()=>{var e,t,n;let[{project:a,app:l,env:s},{setQuery:r}]=(0,G.o)(),o=(0,$.F)(),[c,u]=(0,v.useState)(""),{closeDrawer:d}=en(),{data:p}=(0,K.x7)({populate:"owner",pagination:{page:0,size:100}}),{list:m=[],pagination:g}=p||{},{data:h}=(0,eJ.fy)({populate:"owner",pagination:{page:0,size:100}}),{list:x=[]}=h||{},f=(0,eK.Lw)(l,{filter:{env:s}}),b=(0,eK.i6)({filter:{slug:l,env:s}}),j=[{type:"list_string",label:"Domains",name:"domains"},{type:"select",label:"Container size",name:"size",placeholder:"Container size",displayKey:"size",options:eL.map(e=>{var t,n;let a=tQ(e||"none");return{label:"".concat(e," ").concat(a.limits?"(cpu: ".concat(null===(t=a.limits)||void 0===t?void 0:t.cpu,", mem: ").concat(null===(n=a.limits)||void 0===n?void 0:n.memory,")"):""),value:e}}),wrapperStyle:{float:(null==o?void 0:o.md)?"left":"none",marginRight:(null==o?void 0:o.md)?15:0,width:(null==o?void 0:o.md)?260:"100%"}},{type:"number",label:"Replicas",name:"replicas",placeholder:"1",wrapperStyle:{float:(null==o?void 0:o.md)?"left":"none",marginRight:(null==o?void 0:o.md)?15:0}},{type:"input",label:"PORT",name:"port",placeholder:"3000"},{type:"select",label:"Cluster",name:"cluster",placeholder:"Cluster",displayKey:"cluster",options:m.map(e=>({label:e.name||"",value:e.shortName})),wrapperStyle:{float:(null==o?void 0:o.md)?"left":"none",width:(null==o?void 0:o.md)?"100%":"50%",clear:"both",marginRight:(null==o?void 0:o.md)?15:0}},{type:"select",label:"Container Registry",name:"registry",placeholder:"Container Registry",displayKey:"registry",options:x.map(e=>({label:e.name||"",value:e.slug}))},{type:"select",label:"SSL Issuer",name:"ssl",placeholder:"letsencrypt",displayKey:"ssl",options:eT.map(e=>({label:e||"",value:e})),wrapperStyle:{float:(null==o?void 0:o.md)?"left":"none",marginRight:(null==o?void 0:o.md)?15:0,width:(null==o?void 0:o.md)?"100%":"50%",clear:"both"},onChange(e){u(e)}},{type:"input",label:"TLS Secret",name:"tlsSecret",placeholder:"",disabled:"letsencrypt"===c,wrapperStyle:{width:"100%",clear:"right"}}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:" hidden h-80 w-full p-6",style:{display:(null===(e=f.data)||void 0===e?void 0:e.screenshot)?"block":"none"},children:(0,i.jsx)(tP.Z,{hoverable:!0,className:"relative h-full overflow-hidden",bodyStyle:{height:"100%",padding:0},children:(0,i.jsx)("div",{className:"h-full",style:{backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:(null===(t=f.data)||void 0===t?void 0:t.screenshot)?"url(".concat(null===(n=f.data)||void 0===n?void 0:n.screenshot,")"):"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}})})}),(0,i.jsx)(e_,{name:"deploy_environment",api:{useSlugApi:f,useUpdateApi:b},configs:j,className:"h-auto",children:(0,i.jsx)("div",{className:"clear-both w-full",children:(0,i.jsxs)(t_.Z,{gutter:[16,16],align:"stretch",children:[(0,i.jsx)(tI.Z,{span:12,children:(0,i.jsx)(H.ZP,{block:!0,onClick:()=>r({lv2:"build",project:a,app:l}),children:"Builds"})}),(0,i.jsx)(tI.Z,{span:12,children:(0,i.jsx)(H.ZP,{block:!0,onClick:()=>r({lv2:"release",project:a,app:l,env:s}),children:"Releases"})}),(0,i.jsx)(tI.Z,{span:12,children:(0,i.jsx)(H.ZP,{block:!0,onClick:()=>r({lv2:"env_vars",project:a,app:l,env:s}),children:"Environment Variables"})}),(0,i.jsx)(tI.Z,{span:12,children:(0,i.jsx)(H.ZP,{block:!0,onClick:()=>r({lv2:"deployment_yaml",project:a,app:l,env:s}),children:"Deployment YAML"})}),(0,i.jsx)(tI.Z,{span:12,children:(0,i.jsx)(H.ZP,{block:!0,onClick:()=>r({lv2:"app_logs",project:a,app:l,env:s}),children:"Application Logs"})})]})})})]})},tR=()=>{let[{project:e,app:t,env:n},{setQuery:a}]=(0,G.o)(),{closeDrawer:l}=en(),{data:s}=(0,K.x7)({populate:"owner",pagination:{page:0,size:100}}),{list:r=[],pagination:o}=s||{},c=(0,eK.Lw)(t,{filter:{env:n}}),u=(0,eK.i6)({filter:{slug:t,env:n}});return(0,i.jsx)("div",{className:"h-full w-full",children:(0,i.jsx)("div",{className:"flex h-full w-full",children:(0,i.jsx)(e_,{name:"deployment_yaml",api:{useSlugApi:c,useUpdateApi:u},configs:[{type:"code-editor",name:"deploymentYaml",lang:["yaml"],disabled:!0,wrapperStyle:{display:"flex",width:"100%"}}],className:"flex !overflow-x-auto"})})})};var tL=n(46690);let tT=()=>{var e;let[{env:t,project:n,app:a}]=(0,G.o)(),[l,s]=(0,eK.H1)(),{data:r={},status:o}=(0,eK.im)(a,{populate:"project,owner,workspace"}),c=(0,u.isEmpty)(r)?[]:(null===(e=(r.deployEnvironment||{})[t])||void 0===e?void 0:e.envVars)||[],[d,p]=(0,v.useState)([]),[m]=J.Z.useForm(),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p([...e])};(0,v.useEffect)(()=>{let e=[];(0,u.isArray)(c)?e.push(...c.map((e,t)=>({id:(0,u.uniqueId)(),...e}))):(0,u.isArray)(c)||void 0===c[0]||Object.entries(c).forEach(t=>{let[,n]=t;if(n.name&&n.value){let a={id:(0,u.uniqueId)(),name:n.name,value:n.value};e.push(a)}}),g(e)},[JSON.stringify(c)]);let h=e=>{let t=d.filter(t=>t.name===e).length;return t>1},x=e=>p(t=>t.filter((t,n)=>e!==t.id)),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:(0,u.uniqueId)(),name:"",value:""};return p(t=>[...t,e])},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p(n=>n.map((n,a)=>n.id===e?{id:e,name:t,value:n.value||""}:n))},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p(n=>n.map((n,a)=>n.id===e?{id:e,name:n.name||"",value:t}:n))},y=async e=>{try{d.forEach(e=>{if((0,u.isEmpty)(e.name))throw Error("Variable's name should not be empty");if((0,tL.i1)(e.name))throw Error("Variable's name (".concat(e.name,") should not be a number"));if(h(e.name))throw Error("Variable's name (".concat(e.name,") should be unique."))}),l&&r.slug&&await l({slug:r.slug,env:t,envVars:d})}catch(n){ts.Z.error({message:n.toString()})}},A=e=>{console.log("Failed:",e)};return(0,i.jsxs)(i.Fragment,{children:["loading"===o&&(0,i.jsx)(M.Z,{active:!0}),"error"===o&&(0,i.jsx)(Y.Z,{message:"Unable to get data at the moment.",type:"error",showIcon:!0}),"success"===o&&(0,i.jsxs)(J.Z,{className:"h-full overflow-auto p-6",layout:"vertical",name:"deployEnvironment.".concat(t,".envVars"),form:m,onFinish:y,onFinishFailed:A,autoComplete:"off",children:[(0,i.jsxs)(X.Z,{className:"w-full",direction:"vertical",size:"small",children:[(0,i.jsxs)(X.Z.Compact,{block:!0,children:[(0,i.jsx)(ti.Z.Text,{className:"w-1/2",children:"Name"}),(0,i.jsx)(ti.Z.Text,{className:"w-1/2",children:"Value"}),(0,i.jsx)("span",{className:"w-[32px]"})]}),(0,u.isEmpty)(d)&&(0,i.jsx)(tx.Z,{}),(d||[]).map((e,t)=>(0,i.jsxs)(X.Z.Compact,{block:!0,children:[(0,i.jsx)(ev.Z,{className:"!flex-auto",placeholder:"NAME",status:(0,u.isEmpty)(e.name)||(0,tL.i1)(e.name)||h(e.name)?"error":"",value:e.name,onChange:t=>t.currentTarget.value?b(e.id,t.currentTarget.value):null},"env-var-name-input-".concat(e.id)),(0,i.jsx)(ev.Z,{className:"!flex-auto",placeholder:"VALUE",value:e.value,onChange:t=>j(e.id,t.currentTarget.value)},"env-var-value-input-".concat(e.id)),(0,i.jsx)(H.ZP,{tabIndex:-1,icon:(0,i.jsx)(el.Z,{}),onClick:()=>x(e.id)})]},"env-var-".concat(e.id)))]}),(0,i.jsx)("div",{className:"py-6",children:(0,i.jsx)(H.ZP,{onClick:()=>f(),children:"+ Add variable"})}),(0,i.jsx)(eg,{name:"envVars",apiStatus:s,initialValue:c,setValue:g})]})]})};var tU=n(86218),tz=n(76068),tD=n(10544),tV=n(94939);let tO=n(64814),tK=n(54498);tu().extend(tK),tu().extend(tO);let{useApp:tq}=o.Z,tJ=[{title:"Name",width:70,dataIndex:"name",key:"name",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>t.name&&t.name.indexOf(e.toString())>-1||!0,render(e,t){var n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:e})}),(0,i.jsxs)("p",{children:["Author: ",null!==(l=null===(n=t.owner)||void 0===n?void 0:n.name)&&void 0!==l?l:"-",(0,i.jsx)("br",{}),"Created ",(0,i.jsx)(td.q,{date:t.createdAt})]})]})}},{title:"Build status",dataIndex:"buildStatus",key:"buildStatus",width:30,filters:[{text:"start",value:"start"},{text:"failed",value:"failed"},{text:"success",value:"success"},{text:"building",value:"building"}],render(e){let t="warning",n=(0,i.jsx)(tU.Z,{});switch(e){case"building":t="processing",n=(0,i.jsx)(ei.Z,{className:"align-middle"});break;case"failed":t="error",n=(0,i.jsx)(eu.Z,{className:"align-middle"});break;case"success":t="success",n=(0,i.jsx)(ed.Z,{className:"align-middle"});break;default:t="default",n=(0,i.jsx)(tU.Z,{})}return(0,i.jsx)(tl.Z,{color:t,icon:n,children:e})}},{title:"Active",dataIndex:"active",key:"active",width:20,filters:[{text:"active",value:!0}],onFilter:(e,t)=>t.active===e,render:e=>!0===e?(0,i.jsx)(tl.Z,{color:"blue",icon:(0,i.jsx)(ed.Z,{}),children:"active"}):"-"},{title:"Action",key:"action",width:30,dataIndex:"action",render:e=>e}],tM=()=>{(0,T.useRouter)();let e=tq(),[t]=(0,G.o)(),{project:n,app:a,offsetHeader:l=0,env:s="prod"}=t,r={};n&&(r.projectSlug=n),a&&(r.appSlug=a),s&&(r.env=s);let[o,c]=(0,v.useState)(1),{data:d,status:p}=(0,tV.kW)({populate:"owner",pagination:{page:o,size:100},filter:r}),{list:m=[],pagination:g}=d||{},{total_items:h}=g||{},[x,f]=(0,tV.IX)();console.log("rolloutApiStatus :>> ",f);let[b,j]=(0,v.useState)(""),[y]=(0,tV.bE)(),A=async t=>{if((0,u.isEmpty)(t)){e.notification.error({message:"Failed to roll out.",description:"Release not found: ".concat(t),placement:"top"});return}j(t);try{let n=await x({id:t}),a=(0,u.isArray)(null==n?void 0:n.data)?null==n?void 0:n.data[0]:null==n?void 0:n.data;(null==n?void 0:n.status)&&e.notification.success({message:"Congrats, the release has been rolled out successfully!",description:(0,i.jsxs)(i.Fragment,{children:["Your website is ready to access on PRODUCTION environment:"," ",(0,i.jsx)("a",{href:"https://".concat(null==a?void 0:a.productionUrl),target:"_blank",rel:"noreferrer",children:null==a?void 0:a.productionUrl})]}),placement:"top"})}catch(l){console.error("Could not process rolling out this release:",l),e.notification.error({message:"Failed to roll out.",description:"Could not process rolling out this release: ".concat(l),placement:"top"})}j("")},k=async t=>{if((0,u.isEmpty)(t)){e.notification.error({message:"Failed to preview.",description:"Release not found: ".concat(t),placement:"top"});return}try{let n=await y({id:t}),a=(0,u.isArray)(null==n?void 0:n.data)?null==n?void 0:n.data[0]:null==n?void 0:n.data;(null==n?void 0:n.status)&&e.notification.success({message:"Congrats!",description:(0,i.jsxs)(i.Fragment,{children:["The PRE-RELEASE environment has been setup successfully at:"," ",(0,i.jsx)("a",{href:"https://".concat(null==a?void 0:a.prereleaseUrl),target:"_blank",rel:"noreferrer",children:null==a?void 0:a.prereleaseUrl})]}),placement:"top"})}catch(l){e.notification.error({message:"Failed to start preview.",description:"Could not set up the pre-release environment of this release: ".concat(l),placement:"top"})}},Z=m.map(e=>({...e,id:e._id,state:""!==b?f:!0===e.active?"success":"none",action:(0,i.jsxs)(X.Z.Compact,{children:[(0,i.jsx)(tr.Z,{title:"Roll out",children:(0,i.jsx)(H.ZP,{icon:""!==b&&"loading"===f?(0,i.jsx)(ei.Z,{}):(0,i.jsx)(tz.Z,{}),onClick:()=>A(e._id)})}),(0,i.jsx)(tr.Z,{title:"Preview",children:(0,i.jsx)(H.ZP,{icon:(0,i.jsx)(tD.Z,{}),onClick:()=>k(e._id),target:"_blank"})})]})}));console.log({displayedReleases:Z});let w=e=>{let{current:t}=e;c(null!=t?t:1)};return(0,i.jsx)("div",{children:(0,i.jsx)(to.Z,{loading:"loading"===p,columns:tJ,dataSource:Z,scroll:{x:600},sticky:{offsetHeader:l},pagination:{current:o,pageSize:100,total:h},onChange:w})})},tY=e=>{let{useSidebar:t}=e,n=en(),{drawerVisibility:a,showDrawer:l,closeDrawer:s}=n,[o,{setQuery:c,deleteQuery:u,deleteAllQueryKeys:d}]=(0,G.o)(),{lv1:p,lv2:m,type:g,slug:x,project:f,app:b,env:j}=o,{token:{colorText:y}}=r.Z.useToken(),A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Builds",content:(0,i.jsx)(tN.w,{})},{level:e})},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Releases",content:(0,i.jsx)(tM,{})},{level:e})},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Build Logs",content:(0,i.jsx)(tS.O,{})},{level:e})},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Environment Variables",content:(0,i.jsx)(tT,{})},{level:e})},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Application Logs (env: ".concat(j||"unknown",")"),content:(0,i.jsx)(tC,{})},{level:e})},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Deployment YAML: ".concat(j.toUpperCase()),content:(0,i.jsx)(tR,{})},{level:e})},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Deploy Environment: ".concat(j.toUpperCase()),content:(0,i.jsx)(tB,{})},{level:e})},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Cloud Database Backups",content:(0,i.jsx)(tv,{})},{level:e})},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Edit",content:(0,i.jsx)(eG,{})},{level:e})},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;l&&l({title:"Create",content:(0,i.jsx)(eG,{})},{level:e})};return(0,v.useEffect)(()=>{switch(p){case"build":A();break;case"build_logs":Z(1);break;case"release":k();break;case"new":_();break;case"edit":P();break;case"deploy_environment":N();break;case"env_vars":w();break;case"app_logs":E();break;case"db_backups":S();break;default:u(["lv1"]),s&&s("lv1")}switch(m){case"build":A(2);break;case"build_logs":Z(2);break;case"release":k(2);break;case"app_logs":E(2);break;case"env_vars":w(2);break;case"deployment_yaml":C(2);break;case"db_backups":S(2);break;default:u(["lv2"]),s&&s("lv2")}},[p,m,f,b,j]),(0,i.jsxs)(h.Z,{hasSider:!0,className:"full-height",children:[e.meta,(0,i.jsx)("div",{className:"full-height fixed z-[102] overflow-visible md:relative md:overflow-y-auto md:overflow-x-hidden",children:t&&(0,i.jsx)(V,{})}),(0,i.jsxs)(h.Z,{className:"full-height overflow-auto transition-all",children:[t&&(0,i.jsx)(te,{}),(0,i.jsx)("div",{className:"flex flex-auto flex-col overflow-auto",children:e.children}),(0,i.jsx)(e1,{})]})]})};function tX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{components:t=[],children:n,...a}=e;return(0,i.jsx)(i.Fragment,{children:t.reduceRight((t,n)=>(0,v.createElement)(n,{...a,key:e.key},t),n)})}var tH=n(8416);let tW=e=>{let{isDarkMode:t}=(0,c.vs)(),{useSidebar:n=!0}=e;return(0,i.jsxs)(s.ZP,{theme:{hashed:!1,algorithm:t?r.Z.darkAlgorithm:r.Z.defaultAlgorithm},children:[(0,i.jsx)(o.Z,{children:(0,i.jsx)(tX,{components:[z.ZP,ea,tH.ZP],children:(0,i.jsx)(tY,{meta:e.meta,useSidebar:n,children:e.children})})}),(0,i.jsx)(g,{gaIds:["G-QC4124805Q"]})]})}},24810:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var a=n(11527),l=n(93751),i=n.n(l),s=n(47164),r=n(7024),o=n(13557);let c=e=>{let t=(0,s.useRouter)(),n=window.origin.indexOf("localhost")>-1;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,a.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,a.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon").concat(n?"-red":"",".ico")},"favicon")]}),(0,a.jsx)(r.PB,{title:"".concat(e.title," | ").concat(o.XL.site_name),description:e.description,canonical:e.canonical,openGraph:{title:e.title,description:e.description,url:e.canonical,locale:o.XL.locale,site_name:o.XL.site_name}}),(0,a.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css",rel:"stylesheet"})]})}},13557:function(e,t,n){"use strict";n.d(t,{De:function(){return r},XL:function(){return s},r8:function(){return o}});var a=n(53279);n(32699);var l=n(97462);let i={DEVELOPMENT:"development",STAGING:"staging",CANARY:"canary",PRODUCTION:"production"},s={site_name:"Diginext",title:"Diginext",description:"Welcome to the Dashboard of Diginext.",locale:"en",tableConfig:{defaultPageSize:50}};class r{static get DX_SITE(){return"development"===this.NEXT_PUBLIC_ENV?"http://localhost:4000":"https://diginext.site"}static get ENV(){return this.grab("NODE_ENV","development").toUpperCase()}static get NEXT_PUBLIC_BASE_PATH(){return""}static getBasePath(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{NEXT_PUBLIC_BASE_PATH:t}=this;return(""===t?t:"/".concat(t))+e}static path(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getBasePath(e)}static get NEXT_PUBLIC_ENV(){return"production"}static get NEXT_PUBLIC_API_BASE_URL(){return window.location.origin.indexOf("localhost")>-1?"http://localhost:6969":window.location.origin.indexOf("192.168.50.74")>-1?"http://192.168.50.74:6969":window.location.origin}static get NEXT_PUBLIC_DOMAIN(){return"diginext.site"}static get NEXT_PUBLIC_BASE_URL(){return window.location.origin}static get DISABLE_INPECT_MEMORY(){return(0,a.AM)(this.grab("DISABLE_INPECT_MEMORY"))}static get SECONDS_INPECT_MEMORY(){return(0,a.Hq)(this.grab("SECONDS_INPECT_MEMORY"))}static get CORS_WHITELIST(){return l.env.CORS_WHITELIST?l.env.CORS_WHITELIST.split(";"):["localhost","192.168","127.0","digitop.vn","diginext.site","diginext.vn"]}}r.grab=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={...l.env};return null!==(t=a[e])&&void 0!==t?t:n};let o=()=>r.NEXT_PUBLIC_ENV===i.DEVELOPMENT},64711:function(){},72350:function(){},75104:function(){},16854:function(){}}]);