(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{14754:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/monitor/node",function(){return n(49030)}])},44064:function(e,t,n){"use strict";n.d(t,{D:function(){return m},V:function(){return h}});var r=n(11527),a=n(68834),i=n(8357),l=n(59850),s=n(75616),d=n(58699),o=n(70802),c=n(36865),u=n(7094),x=n(89335);function m(e){let{token:{colorTextHeading:t}}=s.Z.useToken(),{isDarkMode:n}=(0,x.vs)(),{color:a=n?"white":"black",value:i}=e;return(0,r.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:a},children:i})}let h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.useRouter)(),{children:n,breadcrumbs:x=[],title:h="Page Title",actions:v=[(0,r.jsx)(d.ZP,{type:"default",icon:(0,r.jsx)(a.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,r.jsx)(d.ZP,{type:"default",icon:(0,r.jsx)(i.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:j}}=s.Z.useToken();return(0,r.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(o.Z.Item,{href:"".concat(t.basePath,"/"),children:(0,r.jsx)(l.Z,{})},"breadcrumb-home"),x.map((e,t)=>(0,r.jsxs)(o.Z.Item,{href:e.url,children:[e.icon,(0,r.jsx)("span",{children:e.name})]},"breadcrumb-".concat(t)))]}),(0,r.jsxs)("div",{className:" flex w-full flex-col md:flex-row",children:[(0,r.jsx)(m,{value:h}),(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{wrap:!0,children:v})})]}),n]})}},49030:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r,a=n(11527),i=n(77665),l=n(13740),s=n(31620),d=n(85273),o=n(58699),c=n(87078),u=n(2401),x=n(12927);n(5433);var m=n(36865),h=n(61663),v=n(40083),j=n(74637),f=n.n(j),p=n(32699),Z=n(50959),g=n(58828),y=n(22859);let k=e=>(0,y.wz)(["monitor-node","list"],"/api/v1/monitor/nodes",e);var N=n(24483),b=n(59823),w=n(44064),S=n(10340),C=n(65438),P=n(14198);let T=n(64814),I=n(54498);f().extend(I),f().extend(T);let _=null!==(r=P.XL.tableConfig.defaultPageSize)&&void 0!==r?r:20,E=()=>{let{responsive:e}=(0,C.Jl)(),{data:t,status:n}=(0,g.x7)(),{list:r=[]}=t||{},i=[{title:"Name",width:60,dataIndex:"name",key:"name",fixed:(null==e?void 0:e.md)?"left":void 0,filterSearch:!0,render:(e,t)=>{var n,r,i,l,o,c;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z.Text,{strong:!0,className:"leading-8",children:null===(n=t.metadata)||void 0===n?void 0:n.name}),(0,a.jsx)("br",{}),(0,a.jsx)(d.Z,{color:"cyan",children:null===(r=t.status.nodeInfo)||void 0===r?void 0:r.osImage}),(0,a.jsx)(d.Z,{color:"cyan",children:null===(i=t.status.nodeInfo)||void 0===i?void 0:i.architecture}),(0,a.jsxs)(d.Z,{color:"cyan",children:["CPU: ",null===(l=t.status.capacity)||void 0===l?void 0:l.cpu]}),(0,a.jsxs)(d.Z,{color:"cyan",children:["MEM: ",(0,p.round)((0,p.toInteger)(null===(o=t.status.capacity)||void 0===o?void 0:null===(c=o.memory)||void 0===c?void 0:c.replace("Ki",""))/1024/1024),"Gb"]})]})},onFilter:(e,t)=>{var n,r;return null===(n=t.metadata)||void 0===n||!n.name||(null===(r=t.metadata)||void 0===r?void 0:r.name.indexOf(e.toString()))>-1}},{title:"Cluster",dataIndex:"clusterShortName",key:"clusterShortName",width:30,render:e=>(0,a.jsx)(o.ZP,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:r.map(e=>({text:e.shortName||"",value:e.shortName||""})),onFilter:(e,t)=>!t.clusterShortName||t.clusterShortName.indexOf(e.toString())>-1},{title:"Capacity",dataIndex:"capacity",key:"capacity",width:35,render:(e,t)=>{var n,r;let i=(0,p.toInteger)(null===(n=t.cpuPercent)||void 0===n?void 0:n.replace("%","")),l=(0,p.toInteger)(null===(r=t.memoryPercent)||void 0===r?void 0:r.replace("%",""));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Z,{gutter:[0,0],children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(d.Z,{style:{width:44,textAlign:"center"},children:"CPU"})}),(0,a.jsx)(u.Z,{flex:"auto",children:(0,a.jsx)(x.Z,{percent:i,size:"small",strokeColor:i>90?"red":i>70?"orange":"#1668dc"})})]}),(0,a.jsxs)(c.Z,{gutter:[0,0],children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(d.Z,{children:"MEM"})}),(0,a.jsx)(u.Z,{flex:"auto",children:(0,a.jsx)(x.Z,{percent:l>99?99:l,size:"small",strokeColor:l>90?"red":l>70?"orange":"#1668dc"})})]})]})}},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:30,render:(e,t)=>{var n;return(0,a.jsx)(b.q,{date:null===(n=t.metadata)||void 0===n?void 0:n.creationTimestamp})},sorter:(e,t)=>{var n,r;return f()(null===(n=e.metadata)||void 0===n?void 0:n.creationTimestamp).diff(f()(null===(r=t.metadata)||void 0===r?void 0:r.creationTimestamp))}},{title:(0,a.jsx)(s.Z.Text,{className:"text-xs md:text-sm",children:"Action"}),key:"action",fixed:"right",width:(null==e?void 0:e.md)?30:26,render:(e,t)=>t.actions}],[j,y]=(0,Z.useState)(0),[P,T]=(0,Z.useState)(1),{data:I,status:E}=k({filter:{clusterShortName:""}}),{list:F,pagination:A}=I||{},{total_items:z}=A||{},[M]=(0,N.kZ)(),[O,{setQuery:X}]=(0,S.o)(),L=e=>{let{current:t}=e;t&&T(t)},U=(null==F?void 0:F.map((e,t)=>({...e,actions:(0,a.jsx)(m.Z.Compact,{children:(0,a.jsx)(h.Z,{title:"Are you sure to delete this item?",description:(0,a.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),okText:"Yes",cancelText:"No",children:(0,a.jsx)(o.ZP,{icon:(0,a.jsx)(l.Z,{})})})})})))||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.V,{title:"Nodes (".concat(j,")"),breadcrumbs:[{name:"Workspace"}],actions:[]}),(0,a.jsx)("div",{children:(0,a.jsx)(v.Z,{loading:"loading"===E,columns:i,dataSource:U,scroll:{x:1e3},sticky:{offsetHeader:48},pagination:{pageSize:_,total:z,showTotal:e=>(y(e),(0,a.jsxs)(a.Fragment,{children:[e," items"]}))},onChange:L})})]})};var F=n(42789),A=n(13179);let z=()=>(0,a.jsx)(i.Wk,{children:(0,a.jsx)(F.o,{meta:(0,a.jsx)(A.h,{title:"Nodes",description:"List of cluster's nodes."}),children:(0,a.jsx)(E,{})})});var M=z}},function(e){e.O(0,[201,967,859,421,160,774,888,179],function(){return e(e.s=14754)}),_N_E=e.O()}]);