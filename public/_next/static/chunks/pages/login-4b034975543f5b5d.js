(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{61153:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(34293)}])},70809:function(e,s,a){"use strict";var r=a(11527),t=a(7094),i=a(50959),l=a(89335);let o=e=>{let s=(0,t.useRouter)(),{isDarkMode:a}=(0,l.vs)(),[o,n]=(0,i.useState)("".concat(s.basePath,"/assets/images/diginext_logo_white.svg"));return(0,i.useEffect)(()=>{n(a?"".concat(s.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(s.basePath,"/assets/images/diginext_logo.svg"))},[a]),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto my-5 w-64 text-center ".concat(e.className),children:(0,r.jsx)("img",{src:o,alt:"Diginext Logo"})}),e.useTagline&&(0,r.jsx)("div",{className:"mb-6",children:"Build faster. Deploy easier. More flexible."})]})};s.Z=o},34293:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return F}});var r=a(11527),t=a(4553),i=a(97088),l=a(58699),o=a(7094),n=a(77665),c=a(14401),d=a(50959),u=a(95065),m=a(87175),p=a(46998),h=a(62973),x=a.n(h),g=a(22859);let j=e=>(0,g.FF)(["basic-auth","login"],"/api/v1/login",e),w=e=>(0,g.FF)(["basic-auth","register"],"/api/v1/register",e),f=()=>{let[e,s]=(0,d.useState)(""),[a]=j(),t=(0,o.useRouter)(),i=async e=>{console.log("Success:",e);try{let r=await a(e);if(null==r?void 0:r.status)(0,p.setCookie)("x-auth-cookie",r.data.access_token),t.push("/workspace/select");else{let e=(null==r?void 0:r.messages.join("."))||"Unexpected error.";s(e)}}catch(e){console.error(e),s("Network error, please try again later.")}},n=e=>{console.log("Failed:",e)};return(0,r.jsxs)(u.Z,{className:"text-left",name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:i,onFinishFailed:n,autoComplete:"off",children:[(0,r.jsx)(u.Z.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please input a valid email"}],children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(u.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"}],children:(0,r.jsx)(m.Z.Password,{})}),(0,r.jsxs)(u.Z.Item,{wrapperCol:{offset:8,span:16},className:"mb-0 text-left",children:[(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Submit"}),(0,r.jsx)(x(),{href:"#",className:"ml-3 underline",children:"Forgot password?"})]}),(0,r.jsx)(u.Z.ErrorList,{errors:[e]})]})},b=()=>{let[e,s]=(0,d.useState)(""),[a]=w(),t=(0,o.useRouter)(),i=async e=>{console.log("Success:",e);try{let r=await a(e);if(null==r?void 0:r.status)(0,p.setCookie)("x-auth-cookie",r.data.access_token),t.push("/workspace/select");else{let e=(null==r?void 0:r.messages.join("."))||"Unexpected error.";s(e)}}catch(e){console.error(e),s("Network error, please try again later.")}},n=e=>{console.log("Failed:",e)};return(0,r.jsx)("div",{children:(0,r.jsxs)(u.Z,{name:"basic",className:"text-left",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:i,onFinishFailed:n,autoComplete:"off",scrollToFirstError:!0,children:[(0,r.jsx)(u.Z.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please input a valid email"}],children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(u.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"},{type:"string",min:8,message:"Password must has at least 8 digits."}],hasFeedback:!0,children:(0,r.jsx)(m.Z.Password,{})}),(0,r.jsx)(u.Z.Item,{label:"Confirm Password",name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password"},e=>{let{getFieldValue:s}=e;return{validator:(e,a)=>a&&s("password")!==a?Promise.reject(Error("The new password that you entered do not match!")):Promise.resolve()}}],children:(0,r.jsx)(m.Z.Password,{})}),(0,r.jsxs)(u.Z.Item,{wrapperCol:{offset:8,span:16},className:"mb-0 text-left",children:[(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Create Account"}),(0,r.jsx)(u.Z.ErrorList,{errors:[e]})]})]})})},v=()=>{let[e,s]=(0,d.useState)("Sign in");return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{options:["Sign in","Register"],onChange:e=>s(e.toString())}),(0,r.jsxs)("div",{className:"p-3",children:["Sign in"===e&&(0,r.jsx)(f,{}),"Register"===e&&(0,r.jsx)(b,{})]})]})};var y=a(24330),Z=a(70809),P=a(10340),_=a(39768),N=a(13179),k=a(14198);let C=()=>{(0,o.useRouter)();let[{redirect_url:e}]=(0,P.o)(),s=null!=e?e:k.De.NEXT_PUBLIC_BASE_URL;return(0,r.jsx)(_.o,{useSidebar:!1,meta:(0,r.jsx)(N.h,{title:"Dashboard",description:"Your workspace overview."}),children:(0,r.jsxs)(y.Z,{className:"text-center",children:[(0,r.jsx)(Z.Z,{useTagline:!0}),(0,r.jsx)(v,{}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{children:"OR"}),(0,r.jsxs)(l.ZP,{type:"primary",size:"large",onClick:()=>(0,n.x4)({redirectURL:s}),children:[(0,r.jsx)(t.Z,{}),"Sign in with Google"]})]})]})})};var F=C}},function(e){e.O(0,[201,967,21,817,911,774,888,179],function(){return e(e.s=61153)}),_N_E=e.O()}]);