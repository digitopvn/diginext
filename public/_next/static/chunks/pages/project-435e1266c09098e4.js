(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8512],{52853:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project",function(){return t(1854)}])},1854:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return eP}});var n,o=t(11527),s=t(18820),i=t(81363),a=t(85664),r=t(2164),d=t(26793),c=t(57132),u=t(31739),p=t(22449),m=t(16944),h=t(94222),x=t(86375),j=t(651),v=t(6441),g=t(99380),y=t(46997),f=t(65338),Z=t(2119),k=t(67284),b=t(98344),S=t(23836),C=t(80402),w=t(67576),I=t(59701),_=t(50103),P=t(30388),N=t(44177),Y=t(64686),A=t(31494),F=t(71370),T=t(69786),E=t(47749),L=t(53156),D=t(13452),O=t(48880),z=t(74637),q=t.n(z),R=t(32699),M=t(79789),U=t.n(M),W=t(76806),B=t(50959),K=t(43008),G=t(29834),V=t(92961),X=t(70297),Q=t(11942),H=t(14149),J=t(32352),$=t(63344),ee=t(79549);let el=e=>{var l;let t=(0,W.useRouter)(),[n,s]=B.useState(!1),[i,a]=B.useState(""),[r,d]=B.useState([]),c=r[r.length-1],u=e=>{t.push(e),s(!1)};return B.useEffect(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),s(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,o.jsxs)(ee.mY.Dialog,{open:n,onOpenChange:s,label:"Global Command Menu",children:[(0,o.jsx)(ee.mY.Input,{value:i,onValueChange:a}),(0,o.jsxs)(ee.mY.List,{children:[(0,o.jsx)(ee.mY.Empty,{children:"No results found."}),null===(l=c?c.children:null==e?void 0:e.commands)||void 0===l?void 0:l.map((e,l)=>e.children?(0,o.jsx)(ee.mY.Group,{heading:e.label,children:e.children.map((e,l)=>(0,o.jsx)(ee.mY.Item,{onSelect(){e.children?(a(""),d([...r,e])):(s(!1),e.onSelect&&e.onSelect(e.value))},children:e.label},"subcmd-".concat(e.label,"-").concat(l)))},"cmdgroup-".concat(l)):(0,o.jsx)(ee.mY.Item,{onSelect(){s(!1),e.onSelect&&e.onSelect(e.value)},children:e.label},"cmd-".concat(l))),c&&(0,o.jsxs)(ee.mY.Item,{onSelect(){d([]),a("")},children:[(0,o.jsx)($.Z,{})," Reset"]}),(0,o.jsx)(ee.mY.Separator,{}),(0,o.jsxs)(ee.mY.Group,{heading:"Navigation",children:[(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/"),children:"Dashboard"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/project"),children:"Projects & apps"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/build"),children:"Builds & deploys"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/framework"),children:"Frameworks"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/git"),children:"Git Providers"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/cronjob"),children:"Cronjobs"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/monitor/node"),children:"Monitoring ≫ Nodes"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/monitor/namespace"),children:"Monitoring ≫ Namespaces"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/monitor/service"),children:"Monitoring ≫ Services"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/monitor/ingress"),children:"Monitoring ≫ Ingresses"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/monitor/deployment"),children:"Monitoring ≫ Deployments"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/monitor/pod"),children:"Monitoring ≫ Pods"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/infrastructure/cloud-provider"),children:"Infrastructure ≫ Cloud Providers"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/infrastructure/cluster"),children:"Infrastructure ≫ K8S Clusters"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/infrastructure/database"),children:"Infrastructure ≫ Databases"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/infrastructure/registry"),children:"Infrastructure ≫ Container Registries"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/workspace/users"),children:"Workspace ≫ Users"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/workspace/teams"),children:"Workspace ≫ Teams"}),(0,o.jsx)(ee.mY.Item,{onSelect:()=>u("/workspace/roles"),children:"Workspace ≫ Roles"})]})]})]})};var et=t(81035),en=t(45581),eo=t(75112),es=t(2513),ei=t(257),ea=t(80589),er=t(37528),ed=t(90800);let ec=e=>{let{app:l,env:t,next:n}=e,[s,i]=(0,K.mv)({filter:{slug:l}}),a=async e=>{console.log("Success:",e);let l=[e.domain],o=await s({domains:l,env:t});console.log("response :>> ",o),n&&n()},r=e=>{console.log("Failed:",e)};return(0,o.jsxs)(er.Z,{name:"add-domains",style:{maxWidth:600},layout:"vertical",onFinish:a,onFinishFailed:r,autoComplete:"off",preserve:!1,children:[(0,o.jsx)(er.Z.Item,{label:"Domain",name:"domain",rules:[{required:!0,message:"Please input your domain."}],children:(0,o.jsx)(ed.Z,{prefix:(0,o.jsx)(ei.Z,{}),placeholder:"Your domain"})}),(0,o.jsx)(er.Z.Item,{children:(0,o.jsx)(Y.ZP,{type:"primary",htmlType:"submit",icon:"success"===i?(0,o.jsx)(ea.Z,{}):(0,o.jsx)(I.Z,{}),loading:"loading"===i,children:"Submit"})})]})};var eu=t(88383),ep=t(19509),em=t(69124),eh=t(86537),ex=t(35666),ej=t(27899),ev=t(73162),eg=t(2765),ey=t(85410);let ef=e=>{var l,t,n,s,i,a;let{className:r=""}=e,d=(0,W.useRouter)(),{token:{colorBgContainer:c}}=ex.Z.useToken(),[u]=er.Z.useForm(),[p,{setQuery:m}]=(0,et.o)(),{sshUrl:h,branch:x}=p,[j,v]=(0,B.useState)(),{data:{list:g=[]}={},status:y}=(0,Q.Zz)({populate:"owner",pagination:{page:1,size:100}}),{data:{list:f}={},status:Z}=(0,ey.y3)(),{data:{list:k}={},status:b}=(0,eg.Dh)(),[S,C]=(0,K.TW)(),w=async l=>{console.log("Submit:",l),S({name:l.name,project:l.project,gitProvider:l.gitProvider,framework:j,shouldCreateGitRepo:!0}).then(l=>{console.log("res.data :>> ",l.data),(null==e?void 0:e.onDone)&&e.onDone(),l.status?(null==e?void 0:e.onSuccess)&&(null==e||e.onSuccess(l.data)):(null==e?void 0:e.onFailure)&&(null==e||e.onFailure(l.messages.join(".")))}).catch(l=>{(null==e?void 0:e.onFailure)&&(null==e||e.onFailure("Unable to create new app: ".concat(l,".")))})},I=e=>{console.log("Failed:",e)};return(0,o.jsxs)(ej.Z,{bordered:!1,className:"min-w-[350px]",title:(0,o.jsx)(A.Z.Title,{level:4,className:"!mb-0 text-center",children:"success"===C?"Congrats!":"loading"===C?"Processing...":"Create new app"}),children:["loading"===C&&(0,o.jsx)("div",{className:"p-4 text-center",children:(0,o.jsx)(eu.Z,{})}),"success"===C&&(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"mb-5 text-center text-3xl text-green-500",children:(0,o.jsx)(ep.Z,{})}),(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(em.Z,{}),size:"large",shape:"round",onClick:()=>(null==e?void 0:e.onClose)?e.onClose():d.push("/project"),children:"Back to projects & apps"})]}),"success"!==C&&"loading"!==C?(0,o.jsxs)(er.Z,{className:["h-full","overflow-x-hidden",r].join(" "),layout:"vertical",form:u,onFinish:w,onFinishFailed:I,autoComplete:"off",preserve:!1,children:[(0,o.jsx)(er.Z.Item,{name:"name",rules:[{required:!0,message:"App's name is required."}],children:(0,o.jsx)(ed.Z,{placeholder:"App's name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",size:"large",tabIndex:0,autoFocus:!0})}),(0,o.jsx)(er.Z.Item,{name:"project",rules:[{required:!0,message:"Please select project."}],className:"mb-2",initialValue:null===(l=(g||[])[0])||void 0===l?void 0:l._id,children:(0,o.jsx)(ev.Z,{placeholder:"Select parent project",showSearch:!0,filterOption:(e,l)=>(null!==(s=null==l?void 0:l.label)&&void 0!==s?s:"").toLowerCase().includes(e.toLowerCase()),options:null==g?void 0:g.map(e=>({label:e.name,value:e._id}))})}),(0,o.jsx)(er.Z.Item,{name:"gitProvider",rules:[{required:!0,message:"Please select git provider."}],className:"mb-2",initialValue:null===(t=(f||[])[0])||void 0===t?void 0:t._id,children:(0,o.jsx)(ev.Z,{placeholder:"Select git provider for this app",showSearch:!0,filterOption:(e,l)=>(null!==(i=null==l?void 0:l.label)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase()),options:null==f?void 0:f.map(e=>({label:e.name,value:e._id}))})}),(0,o.jsx)(er.Z.Item,{name:"framework",rules:[{required:!0,message:"Please select framework."}],className:"mb-2",initialValue:null===(n=(k||[])[0])||void 0===n?void 0:n._id,children:(0,o.jsx)(ev.Z,{placeholder:"Select git provider for this app",showSearch:!0,filterOption:(e,l)=>(null!==(a=null==l?void 0:l.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase()),options:null==k?void 0:k.map(e=>({label:e.name,value:e._id})),onSelect:e=>v(null==k?void 0:k.find(l=>l._id===e))})}),(0,o.jsx)(er.Z.Item,{style:{marginBottom:0},className:"text-center",children:(0,o.jsx)(Y.ZP,{type:"primary",htmlType:"submit",icon:(0,o.jsx)(eh.Z,{}),size:"large",shape:"round",children:"Create"})})]}):(0,o.jsx)(o.Fragment,{})]})};var eZ=t(18405);let ek=t(64814),eb=t(54498);q().extend(eb),q().extend(ek);let eS=null!==(n=es.XL.tableConfig.defaultPageSize)&&void 0!==n?n:20,eC=()=>{let e=(0,W.useRouter)(),[l,{setQuery:t}]=(0,et.o)(),{responsive:n}=(0,en.Jl)(),{modal:s}=(0,eo.f9)(),[z,M]=(0,B.useState)(l.page?parseInt(l.page,10):1),$=(0,_.NL)(),{data:ee,status:es,refetch:ei}=(0,Q.BT)({populate:"owner",pagination:{page:z,size:eS}}),{list:ea,pagination:er}=ee||{},{total_pages:ed,total_items:eu}=er||{},{data:ep,status:em}=(0,V.x7)({pagination:{page:z,size:50}}),{list:eh}=ep||{},ex=[{title:"Projects",width:(null==n?void 0:n.md)?60:40,dataIndex:"name",key:"name",fixed:(null==n?void 0:n.md)?"left":void 0,filterSearch:!0,filters:null==ea?void 0:ea.map(e=>({text:(null==e?void 0:e.slug)||"",value:(null==e?void 0:e.slug)||""})),onFilter:(e,l)=>null==l||!l.slug||(null==l?void 0:l.slug.indexOf(e.toString()))>-1,render(e,l){var n,s;return"project"===l.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U(),{href:"/apps?project=".concat(l.slug),children:(0,o.jsx)("strong",{children:l.name})})," ",(0,o.jsx)(N.Z,{children:l.slug})]}):"app"===l.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"cursor-pointer text-purple-300 transition-colors hover:text-purple-500 hover:transition-colors",onClick:()=>t({lv1:"edit",type:"app",app:l.slug}),children:l.name})," ",(0,o.jsx)(N.Z,{children:l.slug}),(0,o.jsx)(U(),{href:(null===(n=l.git)||void 0===n?void 0:n.repoURL)||"#",target:"_blank",children:(0,o.jsx)(N.Z,{color:"cyan",children:null===(s=l.git)||void 0===s?void 0:s.provider})})]}):e}},{title:"Cluster",width:30,dataIndex:"cluster",key:"cluster",render:e=>(0,o.jsx)(Y.ZP,{type:"link",style:{padding:0},children:e})},{title:"Status",dataIndex:"status",key:"status",width:(null==n?void 0:n.md)?20:15,filters:[{text:"archived",value:"archived"},{text:"healthy",value:"healthy"},{text:"undeployed",value:"undeployed"},{text:"partial_healthy",value:"partial_healthy"},{text:"failed",value:"failed"},{text:"crashed",value:"crashed"},{text:"unknown",value:"unknown"}],filterSearch:!0,onFilter:(e,l)=>"archived"===e?void 0!==l.archivedAt:"project"===l.type||"app"===l.type||(console.log("record.status === value :>> ",l.status,e),!!l.status&&l.status===e),render(e,l){let t=e;return l.type,(null==l?void 0:l.archivedAt)&&(t="archived"),(0,o.jsx)(N.Z,{color:"healthy"===e?"success":"undeployed"===e?"pink":"default",icon:(0,o.jsx)(i.Z,{className:"align-middle"}),children:t})}},{title:"Last updated by",dataIndex:"lastUpdatedBy",key:"lastUpdatedBy",width:35,filterSearch:!0,render(e,l){var t;return(0,o.jsx)(o.Fragment,{children:e||(null===(t=l.owner)||void 0===t?void 0:t.name)})}},{title:"Last updated",dataIndex:"updatedAt",key:"updatedAt",width:30,render:e=>(0,o.jsx)(H.q,{date:e}),sorter:(e,l)=>q()(e.updatedAt).diff(q()(l.updatedAt))},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:30,render:e=>(0,o.jsx)(H.q,{date:e}),sorter:(e,l)=>q()(e.createdAt).diff(q()(l.createdAt))},{title:(0,o.jsx)(A.Z.Text,{className:"text-xs md:text-sm",children:"Action"}),key:"action",fixed:"right",width:(null==n?void 0:n.md)?18:13,dataIndex:"action",render:(e,l)=>l.actions}],[ej,ev]=(0,Q.E_)(),[eg,ey]=(0,K._M)(),[ek,eb]=(0,K.rg)(),[eC,ew]=(0,K.WK)(),[eI,e_]=(0,K.md)(),[eP,eN]=(0,G.rA)(),[eY,eA]=(0,G.fg)(),[eF,eT]=(0,X.GD)(),[eE,eL]=(0,K.yq)(),[eD,eO]=(0,K.wt)(),[ez,eq]=(0,K.kK)(),eR=(e,l)=>{console.log("env :>> ",l);let t=null==s?void 0:s.info({title:"Add new domains",icon:(0,o.jsx)(a.Z,{}),content:(0,o.jsx)(ec,{app:e,env:l,next(){null==t||t.destroy(),F.ZP.success({message:"Congrats!",description:"New domain was added successfully!"})}}),footer:null,closable:!0,maskClosable:!0,onOk(){}})},eM=()=>{let e=null==s?void 0:s.info({className:"!p-0",style:{padding:0},bodyStyle:{padding:0},icon:null,content:(0,o.jsx)(ef,{onClose:()=>null==e?void 0:e.destroy()}),footer:null,closable:!0,maskClosable:!0,onOk(){}})},eU=(e,l,t)=>{let n=null==s?void 0:s.info({title:(0,o.jsxs)(A.Z.Title,{level:3,children:["Promote to ",t?t.toUpperCase():"another"," deploy environment"]}),icon:null,content:(0,o.jsx)(eZ.Z,{app:e,fromEnv:l,toEnv:t,next(){null==n||n.destroy(),ei()}}),footer:null,closable:!0,maskClosable:!0,width:500,bodyStyle:{margin:0,width:"100%",justifyContent:"stretch"},onOk(){}})},eW=(e,l,n)=>{t({lv1:"build",project:e,app:l})},eB=(e,l,n)=>{t({lv1:"release",project:e,app:l,env:n})},eK=(e,l,n)=>{t({lv1:"env_vars",project:e,app:l,env:n})},eG=async e=>{let l=await ej({_id:e});console.log("[deleteProject] result :>> ",l)},eV=async e=>{let l=await eg({_id:e});ei(),console.log("[deleteApp] result :>> ",l)},eX=async(e,l)=>{let t=await ek({_id:e,env:l});console.log("[deleteEnvironment] result :>> ",t),$.invalidateQueries({queryKey:["projects","list"]}),$.invalidateQueries({queryKey:["apps","list"]})};(0,B.useEffect)(()=>{if(!e.isReady)return;let t=l.page?parseInt(l.page.toString(),10):1;M(t)},[l.page]);let eQ=null==ea?void 0:ea.map(l=>({...l,type:"project",actions:(0,o.jsx)(T.Z.Compact,{children:(0,o.jsx)(E.Z,{title:"Are you sure to delete this project?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: all of the related apps & deployed environments will be also deleted."}),onConfirm:()=>eG(l._id),okText:"Yes",cancelText:"No",children:(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(r.Z,{})})})}),key:l._id,id:l._id,status:"N/A",children:l.apps?l.apps.map(n=>{var s;let i=Object.keys(null!==(s=n.deployEnvironment)&&void 0!==s?s:{}),a=i.map(s=>{var i,a;let k=(n.deployEnvironment||{})[s]||{},b="https://".concat(null===(i=k.domains)||void 0===i?void 0:i[0]),S={name:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(L.Z,{title:(null===(a=k.domains)||void 0===a?void 0:a.map(e=>(0,o.jsx)("ul",{style:{listStyleType:"disc"},children:(0,o.jsx)("li",{style:{listStyleType:"disc",display:"list-item"},children:(0,o.jsxs)(U(),{href:"https://".concat(e),target:"_blank",children:["https://",e]})})},e)))||"No domains",children:(0,o.jsx)(U(),{href:b,target:"_blank",children:(0,o.jsx)(d.Z,{})},b)}),(0,o.jsx)(Y.ZP,{type:"link",onClick:()=>t({lv1:"deploy_environment",project:l.slug,app:n.slug,env:s}),children:s.toUpperCase()}),(0,o.jsxs)(N.Z,{color:"green",children:["Namespace: ",k.namespace]})]}),key:"".concat(l.slug,"-").concat(n.slug,"-").concat(s),id:s,slug:s,projectSlug:l.slug,appSlug:n.slug,type:"prod"!==s?"env":"env-prod",url:k.domains?"https://".concat(k.domains[0]):"",...k};return S.actions=(0,o.jsxs)(T.Z.Compact,{children:[(0,o.jsx)(L.Z,{title:"View website",children:(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(c.Z,{}),href:S.url,target:"_blank",disabled:(0,R.isEmpty)(S.url)})}),(0,o.jsx)(D.Z,{menu:{items:[{label:(0,o.jsx)(L.Z,{title:"Build & deploy from latest git source",children:"Deploy now"}),key:"deploy-now",icon:(0,o.jsx)(u.Z,{}),onClick:()=>e.push("/deploy?app=".concat(n.slug,"&env=").concat(s,"&registry=").concat(k.registry,"&cluster=").concat(k.cluster))},{label:(0,o.jsx)(L.Z,{title:"Deploy current build of this environment to production",children:"Promote to PRODUCTION"}),key:"promote-to-production",icon:(0,o.jsx)(p.Z,{}),onClick(){eU(n,s,"prod")}},{label:(0,o.jsx)(L.Z,{title:"Deploy current build of this environment to production",children:"Promote to another"}),key:"promote-to-another",icon:(0,o.jsx)(p.Z,{}),onClick(){eU(n,s)}},{label:"List of releases",key:"list-of-releases",icon:(0,o.jsx)(m.Z,{}),onClick:()=>eB(S.projectSlug,S.appSlug,s)},{label:"List of builds",key:"list-of-builds",icon:(0,o.jsx)(h.Z,{}),onClick:()=>eW(S.projectSlug,S.appSlug,S.id)},{label:"Deployment YAML",key:"deployment-yaml",icon:(0,o.jsx)(x.Z,{}),onClick:()=>t({lv1:"deployment_yaml",project:S.projectSlug,app:S.appSlug,env:s})},{label:"Environment variables",key:"env-vars",icon:(0,o.jsx)(j.Z,{}),onClick:()=>eK(S.projectSlug,S.appSlug,s)},{label:"Add domains",key:"add-domains",icon:(0,o.jsx)(v.Z,{}),onClick:()=>eR(S.appSlug,s)},{label:"Sleep",key:"sleep",icon:(0,o.jsx)(g.Z,{}),onClick:()=>eE({slug:S.appSlug,env:s})},{label:"Awake",key:"awake",icon:(0,o.jsx)(y.Z,{}),onClick:()=>eD({slug:S.appSlug,env:s})},{label:"Take down",key:"take-down",icon:(0,o.jsx)(f.Z,{}),onClick:()=>ez({slug:S.appSlug,env:s})}]},children:(0,o.jsx)(Y.ZP,{style:{padding:"4px 4px"},children:(0,o.jsx)(Z.Z,{})})}),(0,o.jsx)(E.Z,{title:"Are you sure to delete this environment?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back (excepts re-deploying)."}),onConfirm:()=>eX(n._id,s),okText:"Yes",cancelText:"No",children:(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(r.Z,{})})})]}),S});return{...n,key:n._id,id:n._id,type:"app",children:a,actions:(0,o.jsxs)(T.Z.Compact,{children:[(0,o.jsx)(L.Z,{title:"Edit app",children:(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(k.Z,{}),onClick:()=>t({lv1:"edit",type:"app",app:n.slug})})}),(0,o.jsx)(L.Z,{title:void 0!==n.archiveAt?"Unarchive":"Archive",children:(0,o.jsx)(Y.ZP,{icon:void 0!==n.archiveAt?(0,o.jsx)(b.Z,{}):(0,o.jsx)(S.Z,{}),onClick(){var e,l;return void 0!==n.archiveAt?null===(e=eI({_id:n._id}))||void 0===e?void 0:e.then(()=>ei()):null===(l=eC({_id:n._id}))||void 0===l?void 0:l.then(()=>ei())}})}),(0,o.jsx)(E.Z,{title:"Are you sure to delete this app?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: all of the related deployed environments will be also deleted."}),onConfirm:()=>eV(n._id),okText:"Yes",cancelText:"No",children:(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(r.Z,{})})})]})}}):[]})),eH=e=>{console.log("Table changed!");let{current:l}=e;t({page:null!=l?l:1})},eJ=(0,B.useRef)(null),e$=(0,P.Z)(eJ);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(el,{commands:null==ea?void 0:ea.map(e=>{var l;return{label:"".concat(e.name," (").concat(e.slug,")"),value:e,children:null===(l=e.apps)||void 0===l?void 0:l.map(l=>({value:l,label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.Z,{children:e.slug}),"≫",(0,o.jsx)(N.Z,{children:l.slug})]}),children:Object.keys(l.deployEnvironment||{}).map(n=>({label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.Z,{}),"Deploy environment ≫ ".concat(n.toUpperCase())]}),value:(l.deployEnvironment||{})[n],onSelect:o=>t({lv1:"deploy_environment",project:e.slug,app:l.slug,env:n})}))}))}})}),(0,o.jsx)(J.V,{title:"Projects & apps",breadcrumbs:[{name:"Workspace"}],actions:[(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(w.Z,{className:"align-middle"}),href:"/import",children:"Import"},"import-btn"),(0,o.jsx)(Y.ZP,{icon:(0,o.jsx)(I.Z,{className:"align-middle"}),onClick:()=>eM(),children:"Create app"},"create-app-btn")]}),(0,o.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:eJ,children:(0,o.jsx)(O.Z,{size:"small",loading:"loading"===es,columns:ex,dataSource:eQ,scroll:{x:(null==n?void 0:n.md)?1600:1200,y:void 0!==(null==e$?void 0:e$.height)?e$.height-120:void 0},sticky:{offsetHeader:0},pagination:{showSizeChanger:!0,current:z,defaultPageSize:eS,total:eu,position:["bottomCenter"]},onChange:eH})})]})};var ew=t(46761),eI=t(10769);let e_=()=>(0,o.jsx)(s.Wk,{children:(0,o.jsx)(ew.o,{meta:(0,o.jsx)(eI.h,{title:"Projects",description:"Manage builds & deployments of your projects / apps "}),children:(0,o.jsx)(eC,{})})});var eP=e_}},function(e){e.O(0,[8201,8564,2967,9569,9239,5371,9774,2888,179],function(){return e(e.s=52853)}),_N_E=e.O()}]);