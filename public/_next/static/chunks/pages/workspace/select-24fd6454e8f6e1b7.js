(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{51322:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/select",function(){return a(34341)}])},77272:function(e,s,a){"use strict";a.d(s,{Hg:function(){return c},av:function(){return n},hv:function(){return i}});var t=a(22859);let n=e=>(0,t.FF)(["workspaces"],"/api/v1/workspace",e),i=e=>(0,t.yt)(["workspaces"],"/api/v1/workspace",e),c=e=>(0,t.FF)(["workspaces","invite"],"/api/v1/workspace/invite",e)},70809:function(e,s,a){"use strict";var t=a(11527),n=a(7094),i=a(50959),c=a(89335);let l=e=>{let s=(0,n.useRouter)(),{isDarkMode:a}=(0,c.vs)(),[l,r]=(0,i.useState)("".concat(s.basePath,"/assets/images/diginext_logo_white.svg"));return(0,i.useEffect)(()=>{r(a?"".concat(s.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(s.basePath,"/assets/images/diginext_logo.svg"))},[a]),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto my-5 w-64 text-center ".concat(e.className),children:(0,t.jsx)("img",{src:l,alt:"Diginext Logo"})}),e.useTagline&&(0,t.jsx)("div",{className:"mb-6",children:"Build faster. Deploy easier. More flexible."})]})};s.Z=l},34341:function(e,s,a){"use strict";a.r(s);var t=a(11527),n=a(70861),i=a(31620),c=a(95065),l=a(88758),r=a(36865),o=a(97393),u=a(87663),d=a(88158),h=a(58699),x=a(62973),m=a.n(x),p=a(7094),g=a(50959),v=a(77665),w=a(24483),j=a(77272),f=a(24330),_=a(70809),k=a(47732),Z=a(13179),b=a(14198);let{Title:N}=i.Z,y=()=>{var e,s;let a=(0,p.useRouter)(),[i,x]=(0,g.useState)(""),[y,C]=(0,g.useState)(""),E=e=>x(e.currentTarget.value),[P,{refetch:I}]=(0,v.aC)(),[S,F]=(0,j.av)(),[T]=(0,w.Hc)(),{workspaces:D=[]}=P||{},q=async e=>{let s=await T({userId:P._id,workspace:e});if(null==s?void 0:s.status){I();let e=new URL(window.location.href),s=e.searchParams.get("redirect_url")||window.location.origin;a.push(s)}},L=async e=>{let s={};s.name=e.name,s.public=void 0!==e.public&&e.public,s.dx_key=y;let t=await S(s);(null==t?void 0:t.status)&&(null==t||t.data,await I(),a.push((0,b.r8)()?"".concat(b.De.NEXT_PUBLIC_BASE_URL):"/"))},R=e=>{console.log("Failed:",e)},W=e=>{console.log("workspace > id :>> ",e),q(e)};return(0,t.jsx)(k.o,{useSidebar:!1,meta:(0,t.jsx)(Z.h,{title:"Select/Create a Workspace",description:"Select or create your workspace."}),children:(0,t.jsxs)(f.Z,{className:"text-center",children:[(0,t.jsx)(_.Z,{}),D.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{level:3,children:"Select a workspace:"}),(0,t.jsx)("p",{children:"Choose a workspace which you want to interact with:"}),(0,t.jsx)(c.Z,{name:"select",children:(0,t.jsx)(c.Z.Item,{name:"workspace",children:(0,t.jsx)(l.Z,{size:"large",value:"".concat(null===(e=D[0])||void 0===e?void 0:e.name," (").concat(null===(s=D[0])||void 0===s?void 0:s.slug,")"),onChange:W,options:null==D?void 0:D.map(e=>({label:"".concat(e.name," (").concat(e.slug,")"),value:e._id}))})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{level:3,children:"Create a new workspace:"}),(0,t.jsx)(c.Z,{name:"create",onFinish:L,onFinishFailed:R,autoComplete:"off",children:(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(c.Z.Item,{name:"public",valuePropName:"checked",children:(0,t.jsx)(o.Z,{children:"Public"})}),(0,t.jsxs)(r.Z.Compact,{className:"w-full",children:[(0,t.jsx)(c.Z.Item,{name:"name",style:{flex:"auto"},rules:[{required:!0,message:"Workspace name is required."}],children:(0,t.jsx)(u.Z,{className:"text-center text-lg",placeholder:"Workspace name",onChange:E})}),(0,t.jsx)(c.Z.Item,{name:"dx_key",style:{flex:"auto"},rules:[{required:!0,message:"Diginext Key is required."}],children:(0,t.jsx)(u.Z,{className:"text-center text-lg",placeholder:"Diginext KEY",onChange:e=>C(e.currentTarget.value),suffix:(0,t.jsx)(d.Z,{title:"Where can I get this?",children:(0,t.jsx)(m(),{href:b.De.DX_SITE,target:"_blank",children:(0,t.jsx)(n.Z,{})})})})}),(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(h.ZP,{type:"primary",htmlType:"submit",disabled:""===i||""===y,className:"h-[38px]",children:"GO!"})})]})]})})]})]})})};s.default=y}},function(e){e.O(0,[201,967,107,703,774,888,179],function(){return e(e.s=51322)}),_N_E=e.O()}]);