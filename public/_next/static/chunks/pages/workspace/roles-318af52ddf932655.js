(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{35396:function(e,t,n){"use strict";var i=n(45645),o=n(50959),r=n(62658),a=n(94590),s=function(e,t){return o.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:r.Z}))};s.displayName="EditOutlined",t.Z=o.forwardRef(s)},5433:function(e,t,n){"use strict";var i=n(71746),o=n(50959),r=n(72096),a=n(19589),s=n(89107);let l=null,c=e=>e(),d=[],u={},f=o.forwardRef((e,t)=>{let[n,i]=o.useState(),[a,l]=o.useState(),[c,d]=o.useState(),[f,x]=o.useState(),[p,m]=o.useState(),[h,g]=o.useState(),[w,v]=(0,s.k)({prefixCls:n,getContainer:()=>a,maxCount:c,rtl:f,top:p,bottom:h}),y=(0,r.w6)(),j=y.getRootPrefixCls(),C=y.getIconPrefixCls(),k=()=>{let{prefixCls:e,container:t,maxCount:n,rtl:o,top:a,bottom:s}=function(){let{prefixCls:e,getContainer:t,rtl:n,maxCount:i,top:o,bottom:a}=u,s=null!=e?e:(0,r.w6)().getPrefixCls("notification"),l=(null==t?void 0:t())||document.body;return{prefixCls:s,container:l,rtl:n,maxCount:i,top:o,bottom:a}}();i(e),l(t),d(n),x(o),m(a),g(s)};return o.useEffect(k,[]),o.useImperativeHandle(t,()=>{let e=Object.assign({},w);return Object.keys(e).forEach(t=>{e[t]=function(){return k(),w[t].apply(w,arguments)}}),{instance:e,sync:k}}),o.createElement(r.ZP,{prefixCls:j,iconPrefixCls:C},v)});function x(){if(!l){let e=document.createDocumentFragment(),t={fragment:e};l=t,c(()=>{(0,i.s)(o.createElement(f,{ref:e=>{let{instance:n,sync:i}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=i,x())})}}),e)});return}l.instance&&(d.forEach(e=>{switch(e.type){case"open":c(()=>{l.instance.open(Object.assign(Object.assign({},u),e.config))});break;case"destroy":c(()=>{null==l||l.instance.destroy(e.key)})}}),d=[])}function p(e){d.push({type:"open",config:e}),x()}let m={open:p,destroy:function(e){d.push({type:"destroy",key:e}),x()},config:function(e){u=Object.assign(Object.assign({},u),e),c(()=>{var e;null===(e=null==l?void 0:l.sync)||void 0===e||e.call(l)})},useNotification:s.Z,_InternalPanelDoNotUseOrYouWillBeFired:a.ZP},h=m;["success","info","warning","error"].forEach(e=>{h[e]=t=>p(Object.assign(Object.assign({},t),{type:e}))}),t.Z=h},4377:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/roles",function(){return n(39717)}])},39717:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var i,o=n(11527),r=n(77665),a=n(44064),s=n(35396),l=n(13740),c=n(67918),d=n(5433),u=n(36865),f=n(58699),x=n(61663),p=n(40083),m=n(74637),h=n.n(m),g=n(50959),w=n(77043),v=n(59823),y=n(10340),j=n(65438),C=n(14198);let k=n(64814),b=n(54498);h().extend(b),h().extend(k);let Z=null!==(i=C.XL.tableConfig.defaultPageSize)&&void 0!==i?i:20,_=()=>{var e;let{responsive:t}=(0,j.Jl)(),n=[{title:"Name",width:40,dataIndex:"name",key:"name",fixed:(null==t?void 0:t.md)?"left":void 0,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(t,n)=>!n.owner||(null!==(e=n.owner.name)&&void 0!==e?e:"").indexOf(t.toString())>-1,render:(e,t)=>(0,o.jsx)(o.Fragment,{children:t.owner?t.owner.name:"System"})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,o.jsx)(v.q,{date:e}),sorter:(e,t)=>h()(e.createdAt).diff(h()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,o.jsx)(v.q,{date:e}),sorter:(e,t)=>h()(e.updatedAt).diff(h()(t.updatedAt))},{title:"Action",key:"action",width:(null==t?void 0:t.md)?26:18,fixed:"right",render:(e,t)=>t.actions}],[i,r]=(0,g.useState)(1),{data:a,status:m}=(0,w.bd)({populate:"owner,workspace",pagination:{page:i,size:Z}}),{list:C,pagination:k}=a||{},{total_items:b}=k||{},[_]=(0,w.CN)(),[O,{setQuery:S}]=(0,y.o)(),E=e=>{let{current:t}=e;t&&r(t)},N=async e=>{let t=await _({_id:e});(null==t?void 0:t.status)&&d.Z.success({message:"Item deleted successfully."})},P=(null==C?void 0:C.map((e,t)=>({...e,actions:(0,o.jsxs)(u.Z.Compact,{children:[(0,o.jsx)(f.ZP,{icon:(0,o.jsx)(s.Z,{}),onClick:()=>S({lv1:"edit",type:"role",role:e.slug})}),(0,o.jsx)(x.Z,{title:"Are you sure to delete this item?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>N(e._id),okText:"Yes",cancelText:"No",children:(0,o.jsx)(f.ZP,{icon:(0,o.jsx)(l.Z,{})})})]})})))||[],A=(0,g.useRef)(null),I=(0,c.Z)(A);return(0,o.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:A,children:(0,o.jsx)(p.Z,{sticky:!0,size:"small",loading:"loading"===m,columns:n,dataSource:P,scroll:{x:1e3,y:void 0!==(null==I?void 0:I.height)?I.height-100:void 0},pagination:{pageSize:Z,total:b,position:["bottomCenter"]},onChange:E})})};var O=n(42789),S=n(13179);let E=()=>(0,o.jsx)(r.Wk,{children:(0,o.jsxs)(O.o,{meta:(0,o.jsx)(S.h,{title:"Roles",description:"List of roles in the workspace."}),children:[(0,o.jsx)(a.V,{title:"Roles",breadcrumbs:[{name:"Workspace"}]}),(0,o.jsx)(_,{})]})});var N=E}},function(e){e.O(0,[201,967,422,160,774,888,179],function(){return e(e.s=4377)}),_N_E=e.O()}]);