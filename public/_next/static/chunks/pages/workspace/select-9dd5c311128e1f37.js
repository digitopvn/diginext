(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1688],{940:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/select",function(){return a(67286)}])},13861:function(e,s,a){"use strict";a.d(s,{Hg:function(){return c},av:function(){return n},hv:function(){return i}});var t=a(19005);let n=e=>(0,t.FF)(["workspaces"],"/api/v1/workspace",e),i=e=>(0,t.yt)(["workspaces"],"/api/v1/workspace",e),c=e=>(0,t.FF)(["workspaces","invite"],"/api/v1/workspace/invite",e)},61160:function(e,s,a){"use strict";var t=a(11527),n=a(47164),i=a(50959),c=a(89335);let r=e=>{let s=(0,n.useRouter)(),{isDarkMode:a}=(0,c.vs)(),[r,l]=(0,i.useState)("".concat(s.basePath,"/assets/images/diginext_logo_white.svg"));return(0,i.useEffect)(()=>{l(a?"".concat(s.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(s.basePath,"/assets/images/diginext_logo.svg"))},[a]),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto my-5 w-64 text-center ".concat(e.className),children:(0,t.jsx)("img",{src:r,alt:"Diginext Logo"})}),e.useTagline&&(0,t.jsx)("div",{className:"mb-6",children:"Build faster. Deploy easier. More flexible."})]})};s.Z=r},67286:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var t=a(11527),n=a(32105),i=a(30001),c=a(50959),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},l=a(94590),o=function(e,s){return c.createElement(l.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:s,icon:r}))};o.displayName="LogoutOutlined";var u=c.forwardRef(o),d=a(46457),h=a(50002),m=a(3748),x=a(97393),p=a(80042),v=a(58699),g=a(47164),w=a(2154),j=a(22820),f=a(13861),Z=a(70804),_=a(61160),k=a(7021),N=a(24810),b=a(13557);let{Title:y}=d.Z,C=()=>{var e,s;let a=(0,g.useRouter)(),[i,r]=(0,c.useState)(""),[l,o]=(0,c.useState)(""),d=e=>r(e.currentTarget.value),[C,{refetch:E,status:P}]=(0,w.aC)(),[S,F]=(0,f.av)(),[I]=(0,j.Hc)(),{workspaces:L=[]}=C||{},T=async e=>{let s=await I({userId:C._id,workspace:e});if(null==s?void 0:s.status){E();let t=new URL(window.location.href),n=t.searchParams.get("redirect_url")||window.location.origin;a.push(n)}},R=async e=>{let s={};s.name=e.name,s.public=void 0!==e.public&&e.public;let t=await S(s);if(null==t?void 0:t.status)null==t||t.data,await E(),a.push((0,b.r8)()?"".concat(b.De.NEXT_PUBLIC_BASE_URL):"/");else{var n;o((null==t?void 0:null===(n=t.messages)||void 0===n?void 0:n.join("."))||"Internal Server Error")}},z=e=>{console.log("Failed:",e)},B=e=>{console.log("workspace > id :>> ",e),T(e)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(k.o,{useSidebar:!1,meta:(0,t.jsx)(N.h,{title:"Select/Create a Workspace",description:"Select or create your workspace."}),children:["loading"===P&&(0,t.jsxs)(Z.Z,{className:"text-center",children:[(0,t.jsx)(_.Z,{}),(0,t.jsx)(n.Z,{})]}),"success"===P&&C&&(0,t.jsxs)(Z.Z,{className:"text-center",children:[(0,t.jsx)(_.Z,{}),L.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(y,{level:3,children:"Select a workspace:"}),(0,t.jsx)("p",{children:"Choose a workspace which you want to interact with:"}),(0,t.jsx)(h.Z,{name:"select",children:(0,t.jsx)(h.Z.Item,{name:"workspace",children:(0,t.jsx)(m.Z,{size:"large",value:"".concat(null===(e=L[0])||void 0===e?void 0:e.name," (").concat(null===(s=L[0])||void 0===s?void 0:s.slug,")"),onChange:B,options:null==L?void 0:L.map(e=>({label:"".concat(e.name," (").concat(e.slug,")"),value:e._id}))})})})]}),"loading"===F&&(0,t.jsx)(n.Z,{}),"loading"!==F&&(0,t.jsxs)("div",{children:[(0,t.jsx)(y,{level:3,children:"Create a new workspace:"}),(0,t.jsxs)(h.Z,{name:"create",onFinish:R,onFinishFailed:z,autoComplete:"off",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(h.Z.Item,{name:"public",valuePropName:"checked",children:(0,t.jsx)(x.Z,{children:"Public"})}),(0,t.jsx)(h.Z.Item,{name:"name",style:{flex:"auto"},rules:[{required:!0,message:"Workspace name is required."}],children:(0,t.jsx)(p.Z,{className:"text-center text-lg",placeholder:"Workspace name",onChange:d})}),(0,t.jsx)(h.Z.Item,{children:(0,t.jsx)(v.ZP,{type:"primary",htmlType:"submit",disabled:""===i,className:"h-[38px]",children:"GO!"})})]}),(0,t.jsx)(h.Z.ErrorList,{className:"text-red-400",errors:[l]})]}),(0,t.jsx)(v.ZP,{href:"/logout",shape:"round",size:"large",type:"primary",icon:(0,t.jsx)(u,{}),children:"Sign out"})]})]})]})})};var E=C}},function(e){e.O(0,[8201,2967,5775,9780,9774,2888,179],function(){return e(e.s=940)}),_N_E=e.O()}]);