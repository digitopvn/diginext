(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4855],{67284:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(30001),a=n(50959),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},d=n(47855),r=function(e,t){return a.createElement(d.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:o}))};r.displayName="EditOutlined";var l=a.forwardRef(r)},57653:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/roles",function(){return n(33581)}])},33581:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i,a=n(11527),o=n(18820),d=n(32352),r=n(67284),l=n(2164),s=n(30388),c=n(71370),u=n(69786),f=n(64686),x=n(47749),h=n(48880),m=n(74637),p=n.n(m),v=n(50959),w=n(22430),g=n(14149),k=n(81035),j=n(45581),y=n(2513);let _=n(64814),Z=n(54498);p().extend(Z),p().extend(_);let C=null!==(i=y.XL.tableConfig.defaultPageSize)&&void 0!==i?i:20,b=()=>{var e;let{responsive:t}=(0,j.Jl)(),n=[{title:"Name",width:40,dataIndex:"name",key:"name",fixed:(null==t?void 0:t.md)?"left":void 0,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(t,n)=>!n.owner||(null!==(e=n.owner.name)&&void 0!==e?e:"").indexOf(t.toString())>-1,render:(e,t)=>(0,a.jsx)(a.Fragment,{children:t.owner?t.owner.name:"System"})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,a.jsx)(g.q,{date:e}),sorter:(e,t)=>p()(e.createdAt).diff(p()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,a.jsx)(g.q,{date:e}),sorter:(e,t)=>p()(e.updatedAt).diff(p()(t.updatedAt))},{title:"Action",key:"action",width:(null==t?void 0:t.md)?26:18,fixed:"right",render:(e,t)=>t.actions}],[i,o]=(0,v.useState)(1),{data:d,status:m}=(0,w.bd)({populate:"owner,workspace",pagination:{page:i,size:C}}),{list:y,pagination:_}=d||{},{total_items:Z}=_||{},[b]=(0,w.CN)(),[N,{setQuery:A}]=(0,k.o)(),S=e=>{let{current:t}=e;t&&o(t)},E=async e=>{let t=await b({_id:e});(null==t?void 0:t.status)&&c.ZP.success({message:"Item deleted successfully."})},z=(null==y?void 0:y.map((e,t)=>({...e,actions:(0,a.jsxs)(u.Z.Compact,{children:[(0,a.jsx)(f.ZP,{icon:(0,a.jsx)(r.Z,{}),onClick:()=>A({lv1:"edit",type:"role",role:e.slug})}),(0,a.jsx)(x.Z,{title:"Are you sure to delete this item?",description:(0,a.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>E(e._id),okText:"Yes",cancelText:"No",children:(0,a.jsx)(f.ZP,{icon:(0,a.jsx)(l.Z,{})})})]})})))||[],L=(0,v.useRef)(null),P=(0,s.Z)(L);return(0,a.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:L,children:(0,a.jsx)(h.Z,{sticky:!0,size:"small",loading:"loading"===m,columns:n,dataSource:z,scroll:{x:1e3,y:void 0!==(null==P?void 0:P.height)?P.height-140:void 0},pagination:{pageSize:C,total:Z,position:["bottomCenter"]},onChange:S})})};var N=n(46761),A=n(10769);let S=()=>(0,a.jsx)(o.Wk,{children:(0,a.jsxs)(N.o,{meta:(0,a.jsx)(A.h,{title:"Roles",description:"List of roles in the workspace."}),children:[(0,a.jsx)(d.V,{title:"Roles",breadcrumbs:[{name:"Workspace"}]}),(0,a.jsx)(b,{})]})});var E=S}},function(e){e.O(0,[8201,8564,2967,1003,9521,5371,9774,2888,179],function(){return e(e.s=57653)}),_N_E=e.O()}]);