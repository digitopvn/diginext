(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1688],{940:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/select",function(){return a(51276)}])},13861:function(e,s,a){"use strict";a.d(s,{Hg:function(){return r},av:function(){return i},hv:function(){return n}});var t=a(19005);let i=e=>(0,t.FF)(["workspaces"],"/api/v1/workspace",e),n=e=>(0,t.yt)(["workspaces"],"/api/v1/workspace",e),r=e=>(0,t.FF)(["workspaces","invite"],"/api/v1/workspace/invite",e)},61160:function(e,s,a){"use strict";var t=a(11527),i=a(47164),n=a(50959),r=a(89335);let l=e=>{let s=(0,i.useRouter)(),{isDarkMode:a}=(0,r.vs)(),[l,c]=(0,n.useState)("".concat(s.basePath,"/assets/images/diginext_logo_white.svg"));return(0,n.useEffect)(()=>{c(a?"".concat(s.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(s.basePath,"/assets/images/diginext_logo.svg"))},[a]),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto my-5 w-64 text-center ".concat(e.className),children:(0,t.jsx)("img",{src:l,alt:"Diginext Logo"})}),e.useTagline&&(0,t.jsx)("div",{className:"mb-6",children:"Build faster. Deploy easier. More flexible."})]})};s.Z=l},51276:function(e,s,a){"use strict";a.r(s);var t=a(11527),i=a(32105),n=a(46457),r=a(50002),l=a(3748),c=a(97393),o=a(80042),u=a(58699),d=a(47164),h=a(50959),m=a(2154),p=a(22820),x=a(13861),v=a(70804),g=a(61160),w=a(7021),j=a(24810),f=a(13557);let{Title:_}=n.Z,k=()=>{var e,s;let a=(0,d.useRouter)(),[n,k]=(0,h.useState)(""),[b,N]=(0,h.useState)(""),Z=e=>k(e.currentTarget.value),[y,{refetch:C}]=(0,m.aC)(),[E,P]=(0,x.av)(),[F]=(0,p.Hc)(),{workspaces:S=[]}=y||{},I=async e=>{let s=await F({userId:y._id,workspace:e});if(null==s?void 0:s.status){C();let t=new URL(window.location.href),i=t.searchParams.get("redirect_url")||window.location.origin;a.push(i)}},T=async e=>{let s={};s.name=e.name,s.public=void 0!==e.public&&e.public;let t=await E(s);if(null==t?void 0:t.status)null==t||t.data,await C(),a.push((0,f.r8)()?"".concat(f.De.NEXT_PUBLIC_BASE_URL):"/");else{var i;N((null==t?void 0:null===(i=t.messages)||void 0===i?void 0:i.join("."))||"Internal Server Error")}},L=e=>{console.log("Failed:",e)},R=e=>{console.log("workspace > id :>> ",e),I(e)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(w.o,{useSidebar:!1,meta:(0,t.jsx)(j.h,{title:"Select/Create a Workspace",description:"Select or create your workspace."}),children:(0,t.jsxs)(v.Z,{className:"text-center",children:[(0,t.jsx)(g.Z,{}),S.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(_,{level:3,children:"Select a workspace:"}),(0,t.jsx)("p",{children:"Choose a workspace which you want to interact with:"}),(0,t.jsx)(r.Z,{name:"select",children:(0,t.jsx)(r.Z.Item,{name:"workspace",children:(0,t.jsx)(l.Z,{size:"large",value:"".concat(null===(e=S[0])||void 0===e?void 0:e.name," (").concat(null===(s=S[0])||void 0===s?void 0:s.slug,")"),onChange:R,options:null==S?void 0:S.map(e=>({label:"".concat(e.name," (").concat(e.slug,")"),value:e._id}))})})})]}),"loading"===P&&(0,t.jsx)(i.Z,{}),"loading"!==P&&(0,t.jsxs)("div",{children:[(0,t.jsx)(_,{level:3,children:"Create a new workspace:"}),(0,t.jsxs)(r.Z,{name:"create",onFinish:T,onFinishFailed:L,autoComplete:"off",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.Z.Item,{name:"public",valuePropName:"checked",children:(0,t.jsx)(c.Z,{children:"Public"})}),(0,t.jsx)(r.Z.Item,{name:"name",style:{flex:"auto"},rules:[{required:!0,message:"Workspace name is required."}],children:(0,t.jsx)(o.Z,{className:"text-center text-lg",placeholder:"Workspace name",onChange:Z})}),(0,t.jsx)(r.Z.Item,{children:(0,t.jsx)(u.ZP,{type:"primary",htmlType:"submit",disabled:""===n,className:"h-[38px]",children:"GO!"})})]}),(0,t.jsx)(r.Z.ErrorList,{className:"text-red-400",errors:[b]})]})]})]})})})};s.default=k}},function(e){e.O(0,[8201,2967,5775,9780,9774,2888,179],function(){return e(e.s=940)}),_N_E=e.O()}]);