(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{83630:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/users",function(){return n(30612)}])},81289:function(e,t,n){"use strict";n.d(t,{D:function(){return h},V:function(){return m}});var i=n(11527),s=n(95752),l=n(99513),a=n(18467),r=n(515),o=n(82129),c=n(8290),d=n(20193),u=n(95954),x=n(85276);function h(e){let{token:{colorTextHeading:t}}=r.Z.useToken(),{isDarkMode:n}=(0,x.vs)(),{color:s=n?"white":"black",value:l}=e;return(0,i.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:s},children:l})}let m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.useRouter)(),{breadcrumbs:n=[],title:x="Page Title",actions:m=[(0,i.jsx)(o.ZP,{type:"default",icon:(0,i.jsx)(s.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,i.jsx)(o.ZP,{type:"default",icon:(0,i.jsx)(l.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:p}}=r.Z.useToken();return(0,i.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(c.Z.Item,{href:"".concat(t.basePath,"/"),children:(0,i.jsx)(a.Z,{})},"breadcrumb-home"),n.map((e,t)=>(0,i.jsxs)(c.Z.Item,{href:e.url,children:[e.icon,(0,i.jsx)("span",{children:e.name})]},"breadcrumb-".concat(t)))]}),(0,i.jsxs)("div",{className:" flex w-full flex-row",children:[(0,i.jsx)(h,{value:x}),(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{children:m})})]})]})}},30612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var i,s=n(11527),l=n(66109),a=n(81289),r=n(42581),o=n(89875),c=n(82129),d=n(3741),u=n(74186),x=n(31326),h=n(17434),m=n(95568),p=n(50959),g=n(68802),f=n.n(g),j=n(66830);let v=[],k=e=>{let{label:t,value:n,closable:i,onClose:l,color:a}=e,r=e=>{e.preventDefault(),e.stopPropagation()};return(0,s.jsx)(d.Z,{color:f()(n)?"default":"error",onMouseDown:r,closable:i,onClose:l,style:{marginRight:3},children:t})},w=()=>{let e=u.Z.useApp(),[t]=x.Z.useForm(),[n,i]=(0,p.useState)(!1),[l]=(0,j.Hg)(),a=()=>{t.resetFields(["emails"])},r=e=>{console.log("selected:",e),i(e.filter(e=>f()(e)).length>0)},o=async t=>{console.log("data :>> ",t);let n=await l(t);(null==n?void 0:n.status)&&(a(),e.modal.success({title:"Congrats!",content:(0,s.jsx)(s.Fragment,{children:"Invitation emails have been sent successfully."}),closable:!0}))},d=t=>{console.log("Failed:",t),e.notification.error({message:"Failed",description:"Something is wrong."})};return(0,s.jsxs)("div",{children:[(0,s.jsx)(h.Z.Title,{level:4,children:"Emails"}),(0,s.jsxs)(x.Z,{name:"invite",form:t,onFinish:o,onFinishFailed:d,children:[(0,s.jsx)(x.Z.Item,{name:"emails",children:(0,s.jsx)(m.Z,{style:{width:300},mode:"tags",showArrow:!1,onChange:r,tokenSeparators:[","," "],options:v,tagRender:e=>k(e),dropdownRender:e=>(0,s.jsx)(s.Fragment,{})})}),(0,s.jsx)(x.Z.Item,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)(c.ZP,{type:"primary",htmlType:"submit",disabled:!n,children:"Invite"}),(0,s.jsx)(c.ZP,{children:"Clear"})]})})]})]})},Z=()=>(0,s.jsx)(o.Z,{placement:"bottomRight",trigger:"click",content:(0,s.jsx)(w,{}),children:(0,s.jsx)(c.ZP,{type:"default",icon:(0,s.jsx)(r.Z,{className:"align-middle"}),children:"Invite"},"workspace-setting-btn")});var b=n(79908),y=n(5962),P=n(20193),_=n(42741),N=n(86997),F=n(74637),I=n.n(F),C=n(49113),S=n(1830),A=n(32365),T=n(74883);let E=n(64814),R=n(54498);I().extend(R),I().extend(E);let U=[{title:"Name",width:60,dataIndex:"name",key:"name",fixed:"left",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"User name",dataIndex:"slug",key:"slug",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],render:e=>(0,s.jsx)(c.ZP,{type:"link",style:{padding:0},children:e}),onFilter:(e,t)=>!t.slug||t.slug.indexOf(e.toString())>-1},{title:"Email",dataIndex:"email",key:"email",width:80},{title:"Roles",dataIndex:"roles",key:"roles",width:40,filterSearch:!0,filters:[{text:"goon",value:"goon"}],render:e=>{var t;return(0,s.jsx)(s.Fragment,{children:null===(t=e[0])||void 0===t?void 0:t.name})}},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,s.jsx)(S.q,{date:e}),sorter:(e,t)=>I()(e.updatedAt).diff(I()(t.updatedAt))},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,s.jsx)(S.q,{date:e}),sorter:(e,t)=>I()(e.createdAt).diff(I()(t.createdAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],X=null!==(i=T.XL.tableConfig.defaultPageSize)&&void 0!==i?i:20,L=()=>{let[e,t]=(0,p.useState)(1),{data:n}=(0,C.mO)({populate:"roles,teams",pagination:{page:e,size:X}}),{list:i,pagination:l}=n||{},{total_items:a}=l||{};console.log("users :>> ",i);let[r]=(0,C.kZ)(),[o,{setQuery:d}]=(0,A.o)(),u=async e=>{let t=await r({_id:e});console.log("deleteItem :>> ",t)},x=e=>{let{current:n}=e;n&&t(n)},h=(null==i?void 0:i.map((e,t)=>({...e,actions:(0,s.jsxs)(P.Z.Compact,{children:[(0,s.jsx)(c.ZP,{icon:(0,s.jsx)(b.Z,{}),onClick:()=>d({lv1:"edit",type:"user",user:e.slug})}),(0,s.jsx)(_.Z,{title:"Are you sure to delete this item?",description:(0,s.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>u(e._id),okText:"Yes",cancelText:"No",children:(0,s.jsx)(c.ZP,{icon:(0,s.jsx)(y.Z,{})})})]})})))||[];return console.log("displayedUsers :>> ",h),(0,s.jsx)("div",{children:(0,s.jsx)(N.Z,{columns:U,dataSource:h,scroll:{x:1200},sticky:{offsetHeader:48},pagination:{pageSize:X,total:a},onChange:x})})};var O=n(43684),z=n(96861);let D=()=>(0,s.jsx)(l.Wk,{children:(0,s.jsxs)(O.o,{meta:(0,s.jsx)(z.h,{title:"Users",description:"List of users in the workspace."}),children:[(0,s.jsx)(a.V,{title:"Users",breadcrumbs:[{name:"Workspace"}],actions:[(0,s.jsx)(Z,{},"invite-member-btn")]}),(0,s.jsx)(L,{})]})});var q=D},96861:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var i=n(11527),s=n(67559),l=n.n(s),a=n(95954),r=n(68449),o=n(74883);let c=e=>{let t=(0,a.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,i.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,i.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon.ico")},"favicon")]}),(0,i.jsx)(r.PB,{title:"".concat(e.title," | ").concat(o.XL.site_name),description:e.description,canonical:e.canonical,openGraph:{title:e.title,description:e.description,url:e.canonical,locale:o.XL.locale,site_name:o.XL.site_name}}),(0,i.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css",rel:"stylesheet"})]})}}},function(e){e.O(0,[201,967,411,671,470,774,888,179],function(){return e(e.s=83630)}),_N_E=e.O()}]);