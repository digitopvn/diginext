(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4855],{47389:function(e,t,n){"use strict";var r=n(1413),o=n(67294),i=n(27363),a=n(91146),s=o.forwardRef(function(e,t){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i.Z}))});t.Z=s},69340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return roles}});var r,o=n(22598),i=n(90447),a=n(59499),s=n(50029),c=n(16835),u=n(87794),l=n.n(u),d=n(47389),f=n(48689),p=n(84213),h=n(26855),x=n(78957),w=n(73318),m=n(86738),j=n(44973),g=n(27484),y=n.n(g),b=n(67294),v=n(72550),O=n(61123),k=n(56832),_=n(3669),Z=n(55611),P=n(85893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=n(56176),C=n(84110);y().extend(C),y().extend(S);var A=null!==(r=Z.XL.tableConfig.defaultPageSize)&&void 0!==r?r:20,RoleList=function(){var e,t=(0,_.Jl)().responsive,n=[{title:"Name",width:40,dataIndex:"name",key:"name",fixed:null!=t&&t.md?"left":void 0,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:function(e,t){return!t.name||t.name.indexOf(e.toString())>-1}},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:function(e,t){var n;return!t.owner||(null!==(n=t.owner.name)&&void 0!==n?n:"").indexOf(e.toString())>-1},render:function(e,t){return(0,P.jsx)(P.Fragment,{children:t.owner?t.owner.name:"System"})}},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:function(e){return(0,P.jsx)(O.q,{date:e})},sorter:function(e,t){return y()(e.createdAt).diff(y()(t.createdAt))}},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:function(e){return(0,P.jsx)(O.q,{date:e})},sorter:function(e,t){return y()(e.updatedAt).diff(y()(t.updatedAt))}},{title:"Action",key:"action",width:null!=t&&t.md?26:18,fixed:"right",render:function(e,t){return t.actions}}],r=(0,b.useState)(1),o=r[0],i=r[1],a=(0,v.bd)({populate:"owner,workspace",pagination:{page:o,size:A}}),u=a.data,g=a.status,Z=u||{},S=Z.list,C=(Z.pagination||{}).total_items,N=(0,v.CN)(),E=(0,c.Z)(N,1)[0],R=(0,k.o)(),I=(0,c.Z)(R,2),z=(I[0],I[1].setQuery),D=(e=(0,s.Z)(l().mark(function _callee(e){var t;return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E({_id:e});case 2:null!=(t=n.sent)&&t.status&&h.ZP.success({message:"Item deleted successfully."});case 4:case"end":return n.stop()}},_callee)})),function(t){return e.apply(this,arguments)}),L=(null==S?void 0:S.map(function(e,t){return _objectSpread(_objectSpread({},e),{},{actions:(0,P.jsxs)(x.Z.Compact,{children:[(0,P.jsx)(w.ZP,{icon:(0,P.jsx)(d.Z,{}),onClick:function(){return z({lv1:"edit",type:"role",role:e.slug})}}),(0,P.jsx)(m.Z,{title:"Are you sure to delete this item?",description:(0,P.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:function(){return D(e._id)},okText:"Yes",cancelText:"No",children:(0,P.jsx)(w.ZP,{icon:(0,P.jsx)(f.Z,{})})})]})})}))||[],T=(0,b.useRef)(null),F=(0,p.Z)(T);return(0,P.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:T,children:(0,P.jsx)(j.Z,{sticky:!0,size:"small",loading:"loading"===g,columns:n,dataSource:L,scroll:{x:1e3,y:void 0!==(null==F?void 0:F.height)?F.height-140:void 0},pagination:{pageSize:A,total:C,position:["bottomCenter"]},onChange:function(e){var t=e.current;t&&i(t)}})})},N=n(6761),E=n(1071),roles=function(){return(0,P.jsx)(o.Wk,{children:(0,P.jsxs)(N.o,{meta:(0,P.jsx)(E.h,{title:"Roles",description:"List of roles in the workspace."}),children:[(0,P.jsx)(i.V,{title:"Roles",breadcrumbs:[{name:"Workspace"}]}),(0,P.jsx)(RoleList,{})]})})}},54223:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/roles",function(){return n(69340)}])}},function(e){e.O(0,[3662,5877,3945,9774,2888,179],function(){return e(e.s=54223)}),_N_E=e.O()}]);