(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{83630:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workspace/users",function(){return n(30612)}])},66830:function(e,t,n){"use strict";n.d(t,{Hg:function(){return r},av:function(){return s},hv:function(){return a}});var i=n(83360);let s=e=>(0,i.FF)(["workspaces"],"/api/v1/workspace",e),a=e=>(0,i.yt)(["workspaces"],"/api/v1/workspace",e),r=e=>(0,i.FF)(["workspaces","invite"],"/api/v1/workspace/invite",e)},81289:function(e,t,n){"use strict";n.d(t,{D:function(){return x},V:function(){return p}});var i=n(11527),s=n(95752),a=n(99513),r=n(18467),l=n(515),o=n(82129),c=n(8290),d=n(20193),u=n(95954),h=n(85276);function x(e){let{token:{colorTextHeading:t}}=l.Z.useToken(),{isDarkMode:n}=(0,h.vs)(),{color:s=n?"white":"black",value:a}=e;return(0,i.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:s},children:a})}let p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.useRouter)(),{breadcrumbs:n=[],title:h="Page Title",actions:p=[(0,i.jsx)(o.ZP,{type:"default",icon:(0,i.jsx)(s.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,i.jsx)(o.ZP,{type:"default",icon:(0,i.jsx)(a.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:m}}=l.Z.useToken();return(0,i.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(c.Z.Item,{href:"".concat(t.basePath,"/"),children:(0,i.jsx)(r.Z,{})},"breadcrumb-home"),n.map((e,t)=>(0,i.jsxs)(c.Z.Item,{href:e.url,children:[e.icon,(0,i.jsx)("span",{children:e.name})]},"breadcrumb-".concat(t)))]}),(0,i.jsxs)("div",{className:" flex w-full flex-row",children:[(0,i.jsx)(x,{value:h}),(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{children:p})})]})]})}},30612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var i,s=n(11527),a=n(66109),r=n(81289),l=n(42581),o=n(89875),c=n(82129),d=n(3741),u=n(34113),h=n(31326),x=n(17434),p=n(95568),m=n(50959),f=n(68802),g=n.n(f),j=n(66830);let v=[],k=e=>{let{label:t,value:n,closable:i,onClose:a,color:r}=e,l=e=>{e.preventDefault(),e.stopPropagation()};return(0,s.jsx)(d.Z,{color:g()(n)?"default":"error",onMouseDown:l,closable:i,onClose:a,style:{marginRight:3},children:t})},w=()=>{let e=u.Z.useApp(),[t]=h.Z.useForm(),[n,i]=(0,m.useState)(!1),[a]=(0,j.Hg)(),r=()=>{t.resetFields(["emails"])},l=e=>{console.log("selected:",e),i(e.filter(e=>g()(e)).length>0)},o=async t=>{console.log("data :>> ",t);let n=await a(t);(null==n?void 0:n.status)&&(r(),e.modal.success({title:"Congrats!",content:(0,s.jsx)(s.Fragment,{children:"Invitation emails have been sent successfully."}),closable:!0}))},d=t=>{console.log("Failed:",t),e.notification.error({message:"Failed",description:"Something is wrong."})};return(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Z.Title,{level:4,children:"Emails"}),(0,s.jsxs)(h.Z,{name:"invite",form:t,onFinish:o,onFinishFailed:d,children:[(0,s.jsx)(h.Z.Item,{name:"emails",children:(0,s.jsx)(p.Z,{style:{width:300},mode:"tags",showArrow:!1,onChange:l,tokenSeparators:[","," "],options:v,tagRender:e=>k(e),dropdownRender:e=>(0,s.jsx)(s.Fragment,{})})}),(0,s.jsx)(h.Z.Item,{children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)(c.ZP,{type:"primary",htmlType:"submit",disabled:!n,children:"Invite"}),(0,s.jsx)(c.ZP,{children:"Clear"})]})})]})]})},y=()=>(0,s.jsx)(o.Z,{placement:"bottomRight",trigger:"click",content:(0,s.jsx)(w,{}),children:(0,s.jsx)(c.ZP,{type:"default",icon:(0,s.jsx)(l.Z,{className:"align-middle"}),children:"Invite"},"workspace-setting-btn")});var Z=n(79908),b=n(5962),P=n(25857),F=n(20193),_=n(42741),N=n(39658),I=n(74637),C=n.n(I),S=n(49113),A=n(1830),T=n(32365),E=n(74883);let R=n(64814),U=n(54498);C().extend(U),C().extend(R);let X=[{title:"Name",width:60,dataIndex:"name",key:"name",fixed:"left",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"User name",dataIndex:"slug",key:"slug",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],render:e=>(0,s.jsx)(c.ZP,{type:"link",style:{padding:0},children:e}),onFilter:(e,t)=>!t.slug||t.slug.indexOf(e.toString())>-1},{title:"Email",dataIndex:"email",key:"email",width:80},{title:"Roles",dataIndex:"roles",key:"roles",width:40,filterSearch:!0,filters:[{text:"goon",value:"goon"}],render:e=>{var t;return(0,s.jsx)(s.Fragment,{children:null===(t=e[0])||void 0===t?void 0:t.name})}},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,s.jsx)(A.q,{date:e}),sorter:(e,t)=>C()(e.updatedAt).diff(C()(t.updatedAt))},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,s.jsx)(A.q,{date:e}),sorter:(e,t)=>C()(e.createdAt).diff(C()(t.createdAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],L=null!==(i=E.XL.tableConfig.defaultPageSize)&&void 0!==i?i:20,O=()=>{let[e,t]=(0,m.useState)(1),{data:n}=(0,S.mO)({populate:"roles,teams",pagination:{page:e,size:L}}),{list:i,pagination:a}=n||{},{total_items:r}=a||{};console.log("users :>> ",i);let[l]=(0,S.kZ)(),[o,{setQuery:d}]=(0,T.o)(),u=async e=>{let t=await l({_id:e});(null==t?void 0:t.status)&&P.Z.success({message:"Item deleted successfully."})},h=e=>{let{current:n}=e;n&&t(n)},x=(null==i?void 0:i.map((e,t)=>({...e,actions:(0,s.jsxs)(F.Z.Compact,{children:[(0,s.jsx)(c.ZP,{icon:(0,s.jsx)(Z.Z,{}),onClick:()=>d({lv1:"edit",type:"user",user:e.slug})}),(0,s.jsx)(_.Z,{title:"Are you sure to delete this item?",description:(0,s.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>u(e._id),okText:"Yes",cancelText:"No",children:(0,s.jsx)(c.ZP,{icon:(0,s.jsx)(b.Z,{})})})]})})))||[];return console.log("displayedUsers :>> ",x),(0,s.jsx)("div",{children:(0,s.jsx)(N.Z,{columns:X,dataSource:x,scroll:{x:1200},sticky:{offsetHeader:48},pagination:{pageSize:L,total:r},onChange:h})})};var z=n(5326),D=n(96861);let H=()=>(0,s.jsx)(a.Wk,{children:(0,s.jsxs)(z.o,{meta:(0,s.jsx)(D.h,{title:"Users",description:"List of users in the workspace."}),children:[(0,s.jsx)(r.V,{title:"Users",breadcrumbs:[{name:"Workspace"}],actions:[(0,s.jsx)(y,{},"invite-member-btn")]}),(0,s.jsx)(O,{})]})});var q=H},96861:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var i=n(11527),s=n(67559),a=n.n(s),r=n(95954),l=n(68449),o=n(74883);let c=e=>{let t=(0,r.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,i.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,i.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon.ico")},"favicon")]}),(0,i.jsx)(l.PB,{title:"".concat(e.title," | ").concat(o.XL.site_name),description:e.description,canonical:e.canonical,openGraph:{title:e.title,description:e.description,url:e.canonical,locale:o.XL.locale,site_name:o.XL.site_name}}),(0,i.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css",rel:"stylesheet"})]})}}},function(e){e.O(0,[201,967,96,246,474,774,888,179],function(){return e(e.s=83630)}),_N_E=e.O()}]);