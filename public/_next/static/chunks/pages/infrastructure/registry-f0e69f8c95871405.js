(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{37723:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/registry",function(){return n(52616)}])},52616:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var i,r,a=n(11527),d=n(96430),o=n(82129),s=n(95954),l=n(66109),c=n(81289),u=n(79908),x=n(5962),f=n(20193),h=n(42741),g=n(32942),p=n(74637),w=n.n(p),y=n(50959),m=n(79515),j=n(1830),k=n(32365),v=n(74883);let _=n(64814),C=n(54498);w().extend(C),w().extend(_);let A=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:"left",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Host",width:60,dataIndex:"host",key:"host",render:e=>(0,a.jsx)(o.ZP,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.host||t.host.indexOf(e.toString())>-1},{title:"Provider",dataIndex:"provider",key:"provider",width:30,render:(e,t)=>(0,a.jsx)(a.Fragment,{children:t.provider})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.owner||(null!==(i=t.owner.name)&&void 0!==i?i:"").indexOf(e.toString())>-1,render:(e,t)=>(0,a.jsx)(a.Fragment,{children:t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,a.jsx)(j.q,{date:e}),sorter:(e,t)=>w()(e.createdAt).diff(w()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,a.jsx)(j.q,{date:e}),sorter:(e,t)=>w()(e.updatedAt).diff(w()(t.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],N=null!==(r=v.XL.tableConfig.defaultPageSize)&&void 0!==r?r:20,Z=()=>{let[e,t]=(0,y.useState)(1),{data:n}=(0,m.fy)({populate:"owner",pagination:{page:e,size:N}}),{list:i,pagination:r}=n||{},{total_items:d}=r||{},[s]=(0,m.Y4)(),[l,{setQuery:c}]=(0,k.o)(),p=async e=>{let t=await s({_id:e});console.log("deleteItem :>> ",t)},w=(null==i?void 0:i.map(e=>({...e,actions:(0,a.jsxs)(f.Z.Compact,{children:[(0,a.jsx)(o.ZP,{icon:(0,a.jsx)(u.Z,{}),onClick:()=>c({lv1:"edit",type:"registry",registry_slug:e.slug})}),(0,a.jsx)(h.Z,{title:"Are you sure to delete this item?",description:(0,a.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>p(e._id),okText:"Yes",cancelText:"No",children:(0,a.jsx)(o.ZP,{icon:(0,a.jsx)(x.Z,{})})})]})})))||[],j=e=>{let{current:n}=e;n&&t(n)};return(0,a.jsx)("div",{children:(0,a.jsx)(g.Z,{columns:A,dataSource:w,scroll:{x:1200},sticky:{offsetHeader:48},pagination:{pageSize:N,total:d},onChange:j})})};var b=n(95967),S=n(96861);let I=()=>{(0,s.useRouter)();let[,{setQuery:e}]=(0,k.o)();return(0,a.jsx)(l.Wk,{children:(0,a.jsxs)(b.o,{meta:(0,a.jsx)(S.h,{title:"Container Registries",description:"List of your container registries."}),children:[(0,a.jsx)(c.V,{title:"Container Registries",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,a.jsx)(o.ZP,{type:"default",icon:(0,a.jsx)(d.Z,{className:"align-middle"}),onClick:()=>e({lv1:"new",type:"registry"}),children:"New"},"registry-new-btn")]}),(0,a.jsx)(Z,{})]})})};var P=I}},function(e){e.O(0,[201,967,218,522,251,774,888,179],function(){return e(e.s=37723)}),_N_E=e.O()}]);