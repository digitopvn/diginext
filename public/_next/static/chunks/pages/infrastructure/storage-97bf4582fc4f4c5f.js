(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6616],{35396:function(e,t,i){"use strict";var n=i(30001),d=i(50959),r=i(62658),a=i(94590),s=function(e,t){return d.createElement(a.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:r.Z}))};s.displayName="EditOutlined",t.Z=d.forwardRef(s)},65085:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/storage",function(){return i(11656)}])},11656:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return T}});var n,d=i(11527),r=i(78177),a=i(58699),s=i(39445),l=i(14367),o=i(42149),c=i(35396),u=i(13740),x=i(30388),f=i(46457),h=i(5433),p=i(36865),m=i(61663),g=i(5489),w=i(74637),y=i.n(w),j=i(50959),k=i(10203),v=i(51959),Z=i(8462),_=i(55915);let C=i(64814),N=i(54498);y().extend(N),y().extend(C);let b=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:"left"},{title:"Bucket",width:50,dataIndex:"bucket",key:"bucket"},{title:"Host",width:60,dataIndex:"host",key:"host",render:e=>(0,d.jsx)(a.ZP,{type:"link",style:{padding:0},children:(0,d.jsx)(f.Z.Text,{className:"w-[120px]",ellipsis:{tooltip:e},children:e})})},{title:"Provider",dataIndex:"provider",key:"provider",width:30,render:(e,t)=>(0,d.jsx)(d.Fragment,{children:t.provider})},{title:"Verified",dataIndex:"verified",key:"verified",width:30,render:(e,t)=>(0,d.jsx)(d.Fragment,{children:t.verified?"✅":"❌"})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,render:(e,t)=>(0,d.jsx)(d.Fragment,{children:t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,d.jsx)(v.q,{date:e}),sorter:(e,t)=>y()(e.createdAt).diff(y()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,d.jsx)(v.q,{date:e}),sorter:(e,t)=>y()(e.updatedAt).diff(y()(t.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],A=null!==(n=_.XL.tableConfig.defaultPageSize)&&void 0!==n?n:20,I=()=>{let[e,t]=(0,j.useState)(1),{data:i,status:n}=(0,k.Vz)({populate:"owner",pagination:{page:e,size:A}}),{list:r,pagination:s}=i||{},{total_items:l}=s||{},[o]=(0,k.ND)(),[f,{setQuery:w}]=(0,Z.o)(),y=async e=>{let t=await o({_id:e});(null==t?void 0:t.status)&&h.Z.success({message:"Item deleted successfully."})},v=(null==r?void 0:r.map(e=>({...e,actions:(0,d.jsxs)(p.Z.Compact,{children:[(0,d.jsx)(a.ZP,{icon:(0,d.jsx)(c.Z,{}),onClick:()=>w({lv1:"edit",type:"registry",registry_slug:e.slug})}),(0,d.jsx)(m.Z,{title:"Are you sure to delete this item?",description:(0,d.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>y(e._id),okText:"Yes",cancelText:"No",children:(0,d.jsx)(a.ZP,{icon:(0,d.jsx)(u.Z,{})})})]})})))||[],_=e=>{let{current:i}=e;i&&t(i)},C=(0,j.useRef)(null),N=(0,x.Z)(C);return(0,d.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:C,children:(0,d.jsx)(g.Z,{sticky:!0,size:"small",loading:"loading"===n,columns:b,dataSource:v,scroll:{x:1e3,y:void 0!==(null==N?void 0:N.height)?N.height-140:void 0},pagination:{pageSize:A,total:l,position:["bottomCenter"]},onChange:_})})};var P=i(27558),E=i(77736);let S=()=>{(0,s.useRouter)();let[,{setQuery:e}]=(0,Z.o)();return(0,d.jsx)(l.Wk,{children:(0,d.jsxs)(P.o,{meta:(0,d.jsx)(E.h,{title:"Cloud Storages",description:"List of your cloud storages."}),children:[(0,d.jsx)(o.V,{title:"Cloud Storages",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,d.jsx)(a.ZP,{type:"default",icon:(0,d.jsx)(r.Z,{className:"align-middle"}),onClick:()=>e({lv1:"new",type:"storage"}),children:"New"},"storage-new-btn")]}),(0,d.jsx)(I,{})]})})};var T=S}},function(e){e.O(0,[8201,2967,8751,1740,9774,2888,179],function(){return e(e.s=65085)}),_N_E=e.O()}]);