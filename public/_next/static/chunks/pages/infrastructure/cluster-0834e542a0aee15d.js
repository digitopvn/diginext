(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6648],{67284:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(30001),r=n(50959),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},a=n(47855),l=function(e,t){return r.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:d}))};l.displayName="EditOutlined";var o=r.forwardRef(l)},73133:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/cluster",function(){return n(44129)}])},44129:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var i,r=n(11527),d=n(59701),a=n(64686),l=n(76806),o=n(18820),s=n(32352),c=n(67284),u=n(2164),f=n(30388),h=n(69786),x=n(47749),m=n(48880),p=n(74637),g=n.n(p),v=n(32699),w=n(50959),y=n(92961),j=n(14149),k=n(81035),N=n(45581),C=n(2513);let Z=n(64814),_=n(54498);g().extend(_),g().extend(Z);let b=null!==(i=C.XL.tableConfig.defaultPageSize)&&void 0!==i?i:20,A=()=>{let{responsive:e}=(0,N.Jl)(),t=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:(null==e?void 0:e.md)?"left":void 0,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Short name",width:60,dataIndex:"shortName",key:"shortName",render:e=>(0,r.jsx)(a.ZP,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.shortName||t.shortName.indexOf(e.toString())>-1},{title:"Provider",dataIndex:"provider",key:"provider",width:40,render:(e,t)=>(0,r.jsx)(r.Fragment,{children:t.providerShortName})},{title:"Verified",dataIndex:"isVerified",key:"isVerified",width:30,render:(e,t)=>(0,r.jsx)(r.Fragment,{children:t.isVerified?"YES":"NO"})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,render:(e,t)=>(0,r.jsx)(r.Fragment,{children:(0,v.isEmpty)(t.owner)?"DXUP System":t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,r.jsx)(j.q,{date:e}),sorter:(e,t)=>g()(e.createdAt).diff(g()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,r.jsx)(j.q,{date:e}),sorter:(e,t)=>g()(e.updatedAt).diff(g()(t.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],[n,i]=(0,w.useState)(1),{data:d,status:l}=(0,y.Qq)({populate:"owner",pagination:{page:n,size:b}}),{list:o,pagination:s}=d||{},{total_items:p}=s||{};console.log("clusters :>> ",o);let[C]=(0,y.An)(),[Z,{setQuery:_}]=(0,k.o)(),A=async e=>{let t=await C({_id:e});console.log("deleteCluster :>> ",t)},S=(null==o?void 0:o.map(e=>({...e,actions:(0,v.isEmpty)(e.workspace)?null:(0,r.jsxs)(h.Z.Compact,{children:[(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(c.Z,{}),onClick:()=>_({lv1:"edit",type:"cluster",cluster_slug:e.slug})}),(0,r.jsx)(x.Z,{title:"Are you sure to delete this cluster?",description:(0,r.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>A(e._id),okText:"Yes",cancelText:"No",children:(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(u.Z,{})})})]})})))||[],E=e=>{let{current:t}=e;t&&i(t)},P=(0,w.useRef)(null),I=(0,f.Z)(P);return(0,r.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:P,children:(0,r.jsx)(m.Z,{sticky:!0,size:"small",loading:"loading"===l,columns:t,dataSource:S,scroll:{x:1e3,y:void 0!==(null==I?void 0:I.height)?I.height-140:void 0},pagination:{pageSize:b,total:p,position:["bottomCenter"]},onChange:E})})};var S=n(46761),E=n(10769);let P=()=>{(0,l.useRouter)();let[e,{setQuery:t}]=(0,k.o)();return(0,r.jsx)(o.Wk,{children:(0,r.jsxs)(S.o,{meta:(0,r.jsx)(E.h,{title:"Clusters",description:"List of your cloud providers."}),children:[(0,r.jsx)(s.V,{title:"Kubernetes Clusters",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,r.jsx)(a.ZP,{type:"default",icon:(0,r.jsx)(d.Z,{className:"align-middle"}),onClick:()=>t({lv1:"new",type:"cluster"}),children:"New"},"workspace-setting-btn")]}),(0,r.jsx)(A,{})]})})};var I=P}},function(e){e.O(0,[8201,8564,2967,1003,9521,5371,9774,2888,179],function(){return e(e.s=73133)}),_N_E=e.O()}]);