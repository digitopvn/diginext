(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{62017:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/cluster",function(){return r(27792)}])},27792:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var n,i=r(11527),d=r(96430),a=r(82129),o=r(95954),s=r(66109),l=r(81289),c=r(79908),u=r(5962),x=r(20193),f=r(42741),h=r(86997),p=r(74637),m=r.n(p),w=r(50959),g=r(19723),j=r(1830),k=r(32365),y=r(74883);let v=r(64814),N=r(54498);m().extend(N),m().extend(v);let C=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:"left",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Short name",width:60,dataIndex:"shortName",key:"shortName",render:e=>(0,i.jsx)(a.ZP,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.shortName||t.shortName.indexOf(e.toString())>-1},{title:"Provider",dataIndex:"provider",key:"provider",width:40,render:(e,t)=>(0,i.jsx)(i.Fragment,{children:t.providerShortName})},{title:"Verified",dataIndex:"isVerified",key:"isVerified",width:30,render:(e,t)=>(0,i.jsx)(i.Fragment,{children:t.isVerified?"YES":"NO"})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.owner||(t.owner.name||"").toLowerCase().indexOf(e.toString())>-1,render:(e,t)=>(0,i.jsx)(i.Fragment,{children:t.owner&&t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,i.jsx)(j.q,{date:e}),sorter:(e,t)=>m()(e.createdAt).diff(m()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,i.jsx)(j.q,{date:e}),sorter:(e,t)=>m()(e.updatedAt).diff(m()(t.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],_=null!==(n=y.XL.tableConfig.defaultPageSize)&&void 0!==n?n:20,S=()=>{let[e,t]=(0,w.useState)(1),{data:r}=(0,g.x7)({populate:"owner",pagination:{page:e,size:_}}),{list:n,pagination:d}=r||{},{total_items:o}=d||{};console.log("clusters :>> ",n);let[s]=(0,g.An)(),[l,{setQuery:p}]=(0,k.o)(),m=async e=>{let t=await s({_id:e});console.log("deleteCluster :>> ",t)},j=(null==n?void 0:n.map(e=>({...e,actions:(0,i.jsxs)(x.Z.Compact,{children:[(0,i.jsx)(a.ZP,{icon:(0,i.jsx)(c.Z,{}),onClick:()=>p({lv1:"edit",type:"cluster",cluster_slug:e.slug})}),(0,i.jsx)(f.Z,{title:"Are you sure to delete this cluster?",description:(0,i.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>m(e._id),okText:"Yes",cancelText:"No",children:(0,i.jsx)(a.ZP,{icon:(0,i.jsx)(u.Z,{})})})]})})))||[],y=e=>{let{current:r}=e;r&&t(r)};return(0,i.jsx)("div",{children:(0,i.jsx)(h.Z,{columns:C,dataSource:j,scroll:{x:1200},sticky:{offsetHeader:48},pagination:{pageSize:_,total:o},onChange:y})})};var A=r(43684),b=r(96861);let Z=()=>{(0,o.useRouter)();let[e,{setQuery:t}]=(0,k.o)();return(0,i.jsx)(s.Wk,{children:(0,i.jsxs)(A.o,{meta:(0,i.jsx)(b.h,{title:"Clusters",description:"List of your cloud providers."}),children:[(0,i.jsx)(l.V,{title:"Kubernetes Clusters",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,i.jsx)(a.ZP,{type:"default",icon:(0,i.jsx)(d.Z,{className:"align-middle"}),onClick:()=>t({lv1:"new",type:"cluster"}),children:"New"},"workspace-setting-btn")]}),(0,i.jsx)(S,{})]})})};var I=Z}},function(e){e.O(0,[201,967,411,470,251,774,888,179],function(){return e(e.s=62017)}),_N_E=e.O()}]);