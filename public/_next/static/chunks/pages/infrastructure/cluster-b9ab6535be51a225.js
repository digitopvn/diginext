(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{24969:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1413),i=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},s=n(42135),l=function(e,t){return i.createElement(s.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};l.displayName="PlusOutlined";var o=i.forwardRef(l)},48281:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/cluster",function(){return n(46028)}])},45788:function(e,t,n){"use strict";n.d(t,{D:function(){return x},V:function(){return f}});var r=n(85893),i=n(42952),a=n(89705),s=n(73403),l=n(92195),o=n(71577),c=n(75527),d=n(26713),u=n(11163),h=n(5678);function x(e){let{token:{colorTextHeading:t}}=l.Z.useToken(),{isDarkMode:n}=(0,h.vs)(),{color:i=n?"white":"black",value:a}=e;return(0,r.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:i},children:a})}let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.useRouter)(),{breadcrumbs:n=[],title:h="Page Title",actions:f=[(0,r.jsx)(o.Z,{type:"default",icon:(0,r.jsx)(i.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,r.jsx)(o.Z,{type:"default",icon:(0,r.jsx)(a.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:p}}=l.Z.useToken();return(0,r.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(c.Z.Item,{href:"".concat(t.basePath,"/"),children:(0,r.jsx)(s.Z,{})},"breadcrumb-home"),n.map((e,t)=>(0,r.jsxs)(c.Z.Item,{href:e.url,children:[e.icon,(0,r.jsx)("span",{children:e.name})]},"breadcrumb-".concat(t)))]}),(0,r.jsxs)("div",{className:" flex w-full flex-row",children:[(0,r.jsx)(x,{value:h}),(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{children:f})})]})]})}},46028:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r,i=n(85893),a=n(24969),s=n(71577),l=n(11163),o=n(45669),c=n(45788),d=n(86548),u=n(48689),h=n(26713),x=n(86738),f=n(48232),p=n(27484),m=n.n(p),j=n(67294),g=n(84435),v=n(77418),w=n(25026),k=n(51369);let y=n(56176),b=n(84110);m().extend(b),m().extend(y);let Z=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:"left",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Short name",width:60,dataIndex:"shortName",key:"shortName",render:e=>(0,i.jsx)(s.Z,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.shortName||t.shortName.indexOf(e.toString())>-1},{title:"Provider",dataIndex:"provider",key:"provider",width:30,render:(e,t)=>(0,i.jsx)(i.Fragment,{children:t.providerShortName})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.owner||(t.owner.name||"").toLowerCase().indexOf(e.toString())>-1,render:(e,t)=>(0,i.jsx)(i.Fragment,{children:t.owner&&t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,i.jsx)(v.q,{date:e}),sorter:(e,t)=>m()(e.createdAt).diff(m()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,i.jsx)(v.q,{date:e}),sorter:(e,t)=>m()(e.updatedAt).diff(m()(t.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],N=null!==(r=k.XL.tableConfig.defaultPageSize)&&void 0!==r?r:20,_=()=>{let[e,t]=(0,j.useState)(1),{data:n}=(0,g.x7)({populate:"owner",pagination:{page:e,size:N}}),{list:r,pagination:a}=n||{},{total_items:l}=a||{};console.log("clusters :>> ",r);let[o]=(0,g.An)(),[c,{setQuery:p}]=(0,w.o)(),m=async e=>{let t=await o({_id:e});console.log("deleteCluster :>> ",t)},v=(null==r?void 0:r.map(e=>({...e,actions:(0,i.jsxs)(h.Z.Compact,{children:[(0,i.jsx)(s.Z,{icon:(0,i.jsx)(d.Z,{}),onClick:()=>p({lv1:"edit",type:"cluster",cluster_slug:e.slug})}),(0,i.jsx)(x.Z,{title:"Are you sure to delete this cluster?",description:(0,i.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>m(e._id),okText:"Yes",cancelText:"No",children:(0,i.jsx)(s.Z,{icon:(0,i.jsx)(u.Z,{})})})]})})))||[],k=e=>{let{current:n}=e;n&&t(n)};return(0,i.jsx)("div",{children:(0,i.jsx)(f.Z,{columns:Z,dataSource:v,scroll:{x:1200},sticky:{offsetHeader:48},pagination:{pageSize:N,total:l},onChange:k})})};var C=n(5346),S=n(69008);let P=()=>{(0,l.useRouter)();let[e,{setQuery:t}]=(0,w.o)();return(0,i.jsx)(o.Wk,{children:(0,i.jsxs)(C.o,{meta:(0,i.jsx)(S.h,{title:"Clusters",description:"List of your cloud providers."}),children:[(0,i.jsx)(c.V,{title:"Kubernetes Clusters",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,i.jsx)(s.Z,{type:"default",icon:(0,i.jsx)(a.Z,{className:"align-middle"}),onClick:()=>t({lv1:"new",type:"cluster"}),children:"New"},"workspace-setting-btn")]}),(0,i.jsx)(_,{})]})})};var A=P},69008:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(85893),i=n(9008),a=n.n(i),s=n(11163),l=n(2962),o=n(51369);let c=e=>{let t=(0,s.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,r.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,r.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon.ico")},"favicon")]}),(0,r.jsx)(l.PB,{title:"".concat(e.title," | ").concat(o.XL.site_name),description:e.description,canonical:e.canonical,openGraph:{title:e.title,description:e.description,url:e.canonical,locale:o.XL.locale,site_name:o.XL.site_name}}),(0,r.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css",rel:"stylesheet"})]})}}},function(e){e.O(0,[662,762,691,73,784,774,888,179],function(){return e(e.s=48281)}),_N_E=e.O()}]);