(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6616],{47389:function(e,t,n){"use strict";var r=n(1413),i=n(67294),o=n(27363),a=n(91146),s=i.forwardRef(function(e,t){return i.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o.Z}))});t.Z=s},51694:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return storage}});var r,i=n(16835),o=n(51042),a=n(73318),s=n(11163),d=n(22598),c=n(90447),u=n(59499),l=n(50029),f=n(87794),p=n.n(f),h=n(47389),x=n(48689),g=n(84213),y=n(71471),j=n(26855),w=n(78957),m=n(86738),b=n(44973),v=n(27484),k=n.n(v),Z=n(67294),_=n(95609),O=n(61123),P=n(56832),C=n(55611),N=n(85893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,u.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=n(56176),A=n(84110);k().extend(A),k().extend(S);var I=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:"left"},{title:"Bucket",width:50,dataIndex:"bucket",key:"bucket"},{title:"Host",width:60,dataIndex:"host",key:"host",render:function(e){return(0,N.jsx)(a.ZP,{type:"link",style:{padding:0},children:(0,N.jsx)(y.Z.Text,{className:"w-[120px]",ellipsis:{tooltip:e},children:e})})}},{title:"Provider",dataIndex:"provider",key:"provider",width:30,render:function(e,t){return(0,N.jsx)(N.Fragment,{children:t.provider})}},{title:"Verified",dataIndex:"verified",key:"verified",width:30,render:function(e,t){return(0,N.jsx)(N.Fragment,{children:t.verified?"✅":"❌"})}},{title:"Created by",dataIndex:"owner",key:"owner",width:50,render:function(e,t){return(0,N.jsx)(N.Fragment,{children:t.owner.name})}},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:function(e){return(0,N.jsx)(O.q,{date:e})},sorter:function(e,t){return k()(e.createdAt).diff(k()(t.createdAt))}},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:function(e){return(0,N.jsx)(O.q,{date:e})},sorter:function(e,t){return k()(e.updatedAt).diff(k()(t.updatedAt))}},{title:"Action",key:"action",width:50,fixed:"right",render:function(e,t){return t.actions}}],E=null!==(r=C.XL.tableConfig.defaultPageSize)&&void 0!==r?r:20,CloudStorageList=function(){var e,t=(0,Z.useState)(1),n=t[0],r=t[1],o=(0,_.Vz)({populate:"owner",pagination:{page:n,size:E}}),s=o.data,d=o.status,c=s||{},u=c.list,f=(c.pagination||{}).total_items,y=(0,_.ND)(),v=(0,i.Z)(y,1)[0],k=(0,P.o)(),O=(0,i.Z)(k,2),C=(O[0],O[1].setQuery),S=(e=(0,l.Z)(p().mark(function _callee(e){var t;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v({_id:e});case 2:null!=(t=n.sent)&&t.status&&j.ZP.success({message:"Item deleted successfully."});case 4:case"end":return n.stop()}},_callee)})),function(t){return e.apply(this,arguments)}),A=(null==u?void 0:u.map(function(e){return _objectSpread(_objectSpread({},e),{},{actions:(0,N.jsxs)(w.Z.Compact,{children:[(0,N.jsx)(a.ZP,{icon:(0,N.jsx)(h.Z,{}),onClick:function(){return C({lv1:"edit",type:"storage",registry_slug:e.slug})}}),(0,N.jsx)(m.Z,{title:"Are you sure to delete this item?",description:(0,N.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:function(){return S(e._id)},okText:"Yes",cancelText:"No",children:(0,N.jsx)(a.ZP,{icon:(0,N.jsx)(x.Z,{})})})]})})}))||[],z=(0,Z.useRef)(null),D=(0,g.Z)(z);return(0,N.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:z,children:(0,N.jsx)(b.Z,{sticky:!0,size:"small",loading:"loading"===d,columns:I,dataSource:A,scroll:{x:1e3,y:void 0!==(null==D?void 0:D.height)?D.height-140:void 0},pagination:{pageSize:E,total:f,position:["bottomCenter"]},onChange:function(e){var t=e.current;t&&r(t)}})})},z=n(6761),D=n(1071),storage=function(){(0,s.useRouter)();var e=(0,P.o)(),t=(0,i.Z)(e,2)[1].setQuery;return(0,N.jsx)(d.Wk,{children:(0,N.jsxs)(z.o,{meta:(0,N.jsx)(D.h,{title:"Cloud Storages",description:"List of your cloud storages."}),children:[(0,N.jsx)(c.V,{title:"Cloud Storages",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,N.jsx)(a.ZP,{type:"default",icon:(0,N.jsx)(o.Z,{className:"align-middle"}),onClick:function(){return t({lv1:"new",type:"storage"})},children:"New"},"storage-new-btn")]}),(0,N.jsx)(CloudStorageList,{})]})})}},64559:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/storage",function(){return n(51694)}])}},function(e){e.O(0,[3662,5877,3945,9774,2888,179],function(){return e(e.s=64559)}),_N_E=e.O()}]);