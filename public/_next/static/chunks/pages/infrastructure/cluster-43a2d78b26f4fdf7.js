(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{35396:function(e,r,t){"use strict";var n=t(45645),a=t(50959),l=t(62658),o=t(94590),i=function(e,r){return a.createElement(o.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:r,icon:l.Z}))};i.displayName="EditOutlined",r.Z=a.forwardRef(i)},8357:function(e,r,t){"use strict";var n=t(45645),a=t(50959),l=t(54709),o=t(94590),i=function(e,r){return a.createElement(o.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:r,icon:l.Z}))};i.displayName="EllipsisOutlined",r.Z=a.forwardRef(i)},59850:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(45645),a=t(50959),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},o=t(94590),i=function(e,r){return a.createElement(o.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:r,icon:l}))};i.displayName="HomeOutlined";var s=a.forwardRef(i)},70802:function(e,r,t){"use strict";t.d(r,{Z:function(){return C}});var n=t(21963),a=t(84875),l=t.n(a),o=t(22306),i=t(50959),s=t(94843),c=t(9036),d=t(40150),u=t(59796),m=t(85493),p=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>r.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};let f=e=>{let r;let{prefixCls:t,separator:n="/",children:a,menu:l,overlay:o,dropdownProps:c}=e,d=p(e,["prefixCls","separator","children","menu","overlay","dropdownProps"]),{getPrefixCls:f}=i.useContext(s.E_),b=f("breadcrumb",t);return(r=(r=>{if(l||o){let t=Object.assign({},c);return"overlay"in e&&(t.overlay=o),i.createElement(m.Z,Object.assign({menu:l,placement:"bottom"},t),i.createElement("span",{className:`${b}-overlay-link`},r,i.createElement(u.Z,null)))}return r})(r="href"in d?i.createElement("a",Object.assign({className:`${b}-link`},d),a):i.createElement("span",Object.assign({className:`${b}-link`},d),a)),null!=a)?i.createElement("li",null,r,n&&i.createElement("span",{className:`${b}-separator`},n)):null};f.__ANT_BREADCRUMB_ITEM=!0;let b=e=>{let{children:r}=e,{getPrefixCls:t}=i.useContext(s.E_),n=t("breadcrumb");return i.createElement("span",{className:`${n}-separator`},r||"/")};b.__ANT_BREADCRUMB_SEPARATOR=!0;var h=t(81520),x=t(44362),g=t(6290);let y=e=>{let{componentCls:r,iconCls:t}=e;return{[r]:Object.assign(Object.assign({},(0,g.Wf)(e)),{color:e.breadcrumbBaseColor,fontSize:e.breadcrumbFontSize,[t]:{fontSize:e.breadcrumbIconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.breadcrumbLinkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${e.paddingXXS}px`,borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",marginInline:-e.marginXXS,"&:hover":{color:e.breadcrumbLinkColorHover,backgroundColor:e.colorBgTextHover}},(0,g.Qy)(e)),"li:last-child":{color:e.breadcrumbLastItemColor,[`& > ${r}-separator`]:{display:"none"}},[`${r}-separator`]:{marginInline:e.breadcrumbSeparatorMargin,color:e.breadcrumbSeparatorColor},[`${r}-link`]:{[`
          > ${t} + span,
          > ${t} + a
        `]:{marginInlineStart:e.marginXXS}},[`${r}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",padding:`0 ${e.paddingXXS}px`,marginInline:-e.marginXXS,[`> ${t}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.breadcrumbLinkColorHover,backgroundColor:e.colorBgTextHover,a:{color:e.breadcrumbLinkColorHover}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}};var v=(0,h.Z)("Breadcrumb",e=>{let r=(0,x.TS)(e,{breadcrumbBaseColor:e.colorTextDescription,breadcrumbFontSize:e.fontSize,breadcrumbIconFontSize:e.fontSize,breadcrumbLinkColor:e.colorTextDescription,breadcrumbLinkColorHover:e.colorText,breadcrumbLastItemColor:e.colorText,breadcrumbSeparatorMargin:e.marginXS,breadcrumbSeparatorColor:e.colorTextDescription});return[y(r)]}),j=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>r.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};function S(e,r,t,n){let a=t.indexOf(e)===t.length-1,l=function(e,r){if(!e.breadcrumbName)return null;let t=Object.keys(r).join("|"),n=e.breadcrumbName.replace(RegExp(`:(${t})`,"g"),(e,t)=>r[t]||e);return n}(e,r);return a?i.createElement("span",null,l):i.createElement("a",{href:`#/${n.join("/")}`},l)}let k=(e,r)=>(e=(e||"").replace(/^\//,""),Object.keys(r).forEach(t=>{e=e.replace(`:${t}`,r[t])}),e),w=(e,r,t)=>{let a=(0,n.Z)(e),l=k(r||"",t);return l&&a.push(l),a},Z=e=>{let r;var{prefixCls:t,separator:n="/",style:a,className:u,rootClassName:m,routes:p,children:b,itemRender:h=S,params:x={}}=e,g=j(e,["prefixCls","separator","style","className","rootClassName","routes","children","itemRender","params"]);let{getPrefixCls:y,direction:Z}=i.useContext(s.E_),C=y("breadcrumb",t),[O,N]=v(C);if(p&&p.length>0){let e=[];r=p.map(r=>{let t;let a=k(r.path,x);a&&e.push(a),r.children&&r.children.length&&(t=i.createElement(c.Z,{items:r.children.map(r=>({key:r.path||r.breadcrumbName,label:h(r,x,p,w(e,r.path,x))}))}));let l={separator:n};return t&&(l.overlay=t),i.createElement(f,Object.assign({},l,{key:a||r.breadcrumbName}),h(r,x,p,e))})}else b&&(r=(0,o.Z)(b).map((e,r)=>e?(0,d.Tm)(e,{separator:n,key:r}):e));let E=l()(C,{[`${C}-rtl`]:"rtl"===Z},u,m,N);return O(i.createElement("nav",Object.assign({className:E,style:a},g),i.createElement("ol",null,r)))};Z.Item=f,Z.Separator=b;var C=Z},34824:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/cluster",function(){return t(9498)}])},44064:function(e,r,t){"use strict";t.d(r,{D:function(){return p},V:function(){return f}});var n=t(11527),a=t(68834),l=t(8357),o=t(59850),i=t(75616),s=t(58699),c=t(70802),d=t(36865),u=t(7094),m=t(89335);function p(e){let{token:{colorTextHeading:r}}=i.Z.useToken(),{isDarkMode:t}=(0,m.vs)(),{color:a=t?"white":"black",value:l}=e;return(0,n.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:a},children:l})}let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,u.useRouter)(),{breadcrumbs:t=[],title:m="Page Title",actions:f=[(0,n.jsx)(s.ZP,{type:"default",icon:(0,n.jsx)(a.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,n.jsx)(s.ZP,{type:"default",icon:(0,n.jsx)(l.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:b}}=i.Z.useToken();return(0,n.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(c.Z.Item,{href:"".concat(r.basePath,"/"),children:(0,n.jsx)(o.Z,{})},"breadcrumb-home"),t.map((e,r)=>(0,n.jsxs)(c.Z.Item,{href:e.url,children:[e.icon,(0,n.jsx)("span",{children:e.name})]},"breadcrumb-".concat(r)))]}),(0,n.jsxs)("div",{className:" flex w-full flex-row",children:[(0,n.jsx)(p,{value:m}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{children:f})})]})]})}},9498:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return _}});var n,a=t(11527),l=t(78177),o=t(58699),i=t(7094),s=t(77665),c=t(44064),d=t(35396),u=t(13740),m=t(36865),p=t(61663),f=t(40083),b=t(74637),h=t.n(b),x=t(50959),g=t(58828),y=t(59823),v=t(10340),j=t(65438),S=t(14198);let k=t(64814),w=t(54498);h().extend(w),h().extend(k);let Z=null!==(n=S.XL.tableConfig.defaultPageSize)&&void 0!==n?n:20,C=()=>{let{responsive:e}=(0,j.Jl)(),r=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:(null==e?void 0:e.md)?"left":void 0,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,r)=>!r.name||r.name.indexOf(e.toString())>-1},{title:"Short name",width:60,dataIndex:"shortName",key:"shortName",render:e=>(0,a.jsx)(o.ZP,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,r)=>!r.shortName||r.shortName.indexOf(e.toString())>-1},{title:"Provider",dataIndex:"provider",key:"provider",width:40,render:(e,r)=>(0,a.jsx)(a.Fragment,{children:r.providerShortName})},{title:"Verified",dataIndex:"isVerified",key:"isVerified",width:30,render:(e,r)=>(0,a.jsx)(a.Fragment,{children:r.isVerified?"YES":"NO"})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,r)=>!r.owner||(r.owner.name||"").toLowerCase().indexOf(e.toString())>-1,render:(e,r)=>(0,a.jsx)(a.Fragment,{children:r.owner&&r.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,a.jsx)(y.q,{date:e}),sorter:(e,r)=>h()(e.createdAt).diff(h()(r.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,a.jsx)(y.q,{date:e}),sorter:(e,r)=>h()(e.updatedAt).diff(h()(r.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,r)=>r.actions}],[t,n]=(0,x.useState)(1),{data:l,status:i}=(0,g.x7)({populate:"owner",pagination:{page:t,size:Z}}),{list:s,pagination:c}=l||{},{total_items:b}=c||{};console.log("clusters :>> ",s);let[S]=(0,g.An)(),[k,{setQuery:w}]=(0,v.o)(),C=async e=>{let r=await S({_id:e});console.log("deleteCluster :>> ",r)},O=(null==s?void 0:s.map(e=>({...e,actions:(0,a.jsxs)(m.Z.Compact,{children:[(0,a.jsx)(o.ZP,{icon:(0,a.jsx)(d.Z,{}),onClick:()=>w({lv1:"edit",type:"cluster",cluster_slug:e.slug})}),(0,a.jsx)(p.Z,{title:"Are you sure to delete this cluster?",description:(0,a.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>C(e._id),okText:"Yes",cancelText:"No",children:(0,a.jsx)(o.ZP,{icon:(0,a.jsx)(u.Z,{})})})]})})))||[],N=e=>{let{current:r}=e;r&&n(r)};return(0,a.jsx)("div",{children:(0,a.jsx)(f.Z,{loading:"loading"===i,columns:r,dataSource:O,scroll:{x:1200},sticky:{offsetHeader:48},pagination:{pageSize:Z,total:b},onChange:N})})};var O=t(47732),N=t(13179);let E=()=>{(0,i.useRouter)();let[e,{setQuery:r}]=(0,v.o)();return(0,a.jsx)(s.Wk,{children:(0,a.jsxs)(O.o,{meta:(0,a.jsx)(N.h,{title:"Clusters",description:"List of your cloud providers."}),children:[(0,a.jsx)(c.V,{title:"Kubernetes Clusters",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,a.jsx)(o.ZP,{type:"default",icon:(0,a.jsx)(l.Z,{className:"align-middle"}),onClick:()=>r({lv1:"new",type:"cluster"}),children:"New"},"workspace-setting-btn")]}),(0,a.jsx)(C,{})]})})};var _=E}},function(e){e.O(0,[201,967,107,703,774,888,179],function(){return e(e.s=34824)}),_N_E=e.O()}]);