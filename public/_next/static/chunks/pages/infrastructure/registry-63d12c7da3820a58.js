(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6067],{35396:function(e,t,n){"use strict";var i=n(30001),r=n(50959),s=n(62658),o=n(94590),a=function(e,t){return r.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:s.Z}))};a.displayName="EditOutlined",t.Z=r.forwardRef(a)},5433:function(e,t,n){"use strict";var i=n(2734),r=n(50959),s=n(72096),o=n(19589),a=n(89107);let l=null,d=e=>e(),c=[],u={},f=r.forwardRef((e,t)=>{let[n,i]=r.useState(),[o,l]=r.useState(),[d,c]=r.useState(),[f,g]=r.useState(),[x,h]=r.useState(),[p,m]=r.useState(),[y,w]=(0,a.k)({prefixCls:n,getContainer:()=>o,maxCount:d,rtl:f,top:x,bottom:p}),j=(0,s.w6)(),v=j.getRootPrefixCls(),C=j.getIconPrefixCls(),k=()=>{let{prefixCls:e,container:t,maxCount:n,rtl:r,top:o,bottom:a}=function(){let{prefixCls:e,getContainer:t,rtl:n,maxCount:i,top:r,bottom:o}=u,a=null!=e?e:(0,s.w6)().getPrefixCls("notification"),l=(null==t?void 0:t())||document.body;return{prefixCls:a,container:l,rtl:n,maxCount:i,top:r,bottom:o}}();i(e),l(t),c(n),g(r),h(o),m(a)};return r.useEffect(k,[]),r.useImperativeHandle(t,()=>{let e=Object.assign({},y);return Object.keys(e).forEach(t=>{e[t]=function(){return k(),y[t].apply(y,arguments)}}),{instance:e,sync:k}}),r.createElement(s.ZP,{prefixCls:v,iconPrefixCls:C},w)});function g(){if(!l){let e=document.createDocumentFragment(),t={fragment:e};l=t,d(()=>{(0,i.s)(r.createElement(f,{ref(e){let{instance:n,sync:i}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=i,g())})}}),e)});return}l.instance&&(c.forEach(e=>{switch(e.type){case"open":d(()=>{l.instance.open(Object.assign(Object.assign({},u),e.config))});break;case"destroy":d(()=>{null==l||l.instance.destroy(e.key)})}}),c=[])}function x(e){c.push({type:"open",config:e}),g()}let h={open:x,destroy:function(e){c.push({type:"destroy",key:e}),g()},config:function(e){u=Object.assign(Object.assign({},u),e),d(()=>{var e;null===(e=null==l?void 0:l.sync)||void 0===e||e.call(l)})},useNotification:a.Z,_InternalPanelDoNotUseOrYouWillBeFired:o.ZP},p=h;["success","info","warning","error"].forEach(e=>{p[e]=t=>x(Object.assign(Object.assign({},t),{type:e}))}),t.Z=p},89675:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/infrastructure/registry",function(){return n(62145)}])},62145:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i,r,s=n(11527),o=n(78177),a=n(58699),l=n(47164),d=n(2154),c=n(97591),u=n(35396),f=n(13740),g=n(67918),x=n(5433),h=n(36865),p=n(61663),m=n(75921),y=n(74637),w=n.n(y),j=n(50959),v=n(79402),C=n(58012),k=n(49309),b=n(13557);let Z=n(64814),P=n(54498);w().extend(P),w().extend(Z);let _=[{title:"Name",width:70,dataIndex:"name",key:"name",fixed:"left",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.name||t.name.indexOf(e.toString())>-1},{title:"Host",width:60,dataIndex:"host",key:"host",render:e=>(0,s.jsx)(a.ZP,{type:"link",style:{padding:0},children:e}),filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.host||t.host.indexOf(e.toString())>-1},{title:"Provider",dataIndex:"provider",key:"provider",width:30,render:(e,t)=>(0,s.jsx)(s.Fragment,{children:t.provider})},{title:"Created by",dataIndex:"owner",key:"owner",width:50,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>!t.owner||(null!==(i=t.owner.name)&&void 0!==i?i:"").indexOf(e.toString())>-1,render:(e,t)=>(0,s.jsx)(s.Fragment,{children:t.owner.name})},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:50,render:e=>(0,s.jsx)(C.q,{date:e}),sorter:(e,t)=>w()(e.createdAt).diff(w()(t.createdAt))},{title:"Updated at",dataIndex:"updatedAt",key:"updatedAt",width:50,render:e=>(0,s.jsx)(C.q,{date:e}),sorter:(e,t)=>w()(e.updatedAt).diff(w()(t.updatedAt))},{title:"Action",key:"action",width:50,fixed:"right",render:(e,t)=>t.actions}],O=null!==(r=b.XL.tableConfig.defaultPageSize)&&void 0!==r?r:20,S=()=>{let[e,t]=(0,j.useState)(1),{data:n,status:i}=(0,v.fy)({populate:"owner",pagination:{page:e,size:O}}),{list:r,pagination:o}=n||{},{total_items:l}=o||{},[d]=(0,v.Y4)(),[c,{setQuery:y}]=(0,k.o)(),w=async e=>{let t=await d({_id:e});(null==t?void 0:t.status)&&x.Z.success({message:"Item deleted successfully."})},C=(null==r?void 0:r.map(e=>({...e,actions:(0,s.jsxs)(h.Z.Compact,{children:[(0,s.jsx)(a.ZP,{icon:(0,s.jsx)(u.Z,{}),onClick:()=>y({lv1:"edit",type:"registry",registry_slug:e.slug})}),(0,s.jsx)(p.Z,{title:"Are you sure to delete this item?",description:(0,s.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back."}),onConfirm:()=>w(e._id),okText:"Yes",cancelText:"No",children:(0,s.jsx)(a.ZP,{icon:(0,s.jsx)(f.Z,{})})})]})})))||[],b=e=>{let{current:n}=e;n&&t(n)},Z=(0,j.useRef)(null),P=(0,g.Z)(Z);return(0,s.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:Z,children:(0,s.jsx)(m.Z,{sticky:!0,size:"small",loading:"loading"===i,columns:_,dataSource:C,scroll:{x:1e3,y:void 0!==(null==P?void 0:P.height)?P.height-100:void 0},pagination:{pageSize:O,total:l,position:["bottomCenter"]},onChange:b})})};var N=n(7021),E=n(24810);let I=()=>{(0,l.useRouter)();let[,{setQuery:e}]=(0,k.o)();return(0,s.jsx)(d.Wk,{children:(0,s.jsxs)(N.o,{meta:(0,s.jsx)(E.h,{title:"Container Registries",description:"List of your container registries."}),children:[(0,s.jsx)(c.V,{title:"Container Registries",breadcrumbs:[{name:"Infrastructure"}],actions:[(0,s.jsx)(a.ZP,{type:"default",icon:(0,s.jsx)(o.Z,{className:"align-middle"}),onClick:()=>e({lv1:"new",type:"registry"}),children:"New"},"registry-new-btn")]}),(0,s.jsx)(S,{})]})})};var A=I}},function(e){e.O(0,[8201,2967,5775,9780,9774,2888,179],function(){return e(e.s=89675)}),_N_E=e.O()}]);