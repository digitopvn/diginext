(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{93577:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(52165)}])},8145:function(e,s,a){"use strict";var r=a(11527),t=a(76806),i=a(50959),l=a(1030);let o=e=>{let s=(0,t.useRouter)(),{isDarkMode:a}=(0,l.vs)(),[o,n]=(0,i.useState)("".concat(s.basePath,"/assets/images/diginext_logo_white.svg"));return(0,i.useEffect)(()=>{n(a?"".concat(s.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(s.basePath,"/assets/images/diginext_logo.svg"))},[a]),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto my-5 w-64 text-center ".concat(e.className||""),children:(0,r.jsx)("img",{src:o,alt:"DXUP Logo",className:"inline-block"})}),e.useTagline&&(0,r.jsx)("div",{className:"mb-6",children:"Build faster. Deploy easier. More flexible."})]})};s.Z=o},52165:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return F}});var r=a(11527),t=a(15835),i=a(56070),l=a(64686),o=a(18820),n=a(44779),c=a(50959),d=a(37528),u=a(90800),m=a(46998),h=a(79789),p=a.n(h),x=a(76806),g=a(84886);let j=e=>(0,g.FF)(["basic-auth","login"],"/api/v1/login",e),w=e=>(0,g.FF)(["basic-auth","register"],"/api/v1/register",e),f=()=>{let[e,s]=(0,c.useState)(""),[a]=j(),t=(0,x.useRouter)(),i=async e=>{console.log("Success:",e);try{let r=await a(e);if(null==r?void 0:r.status)(0,m.setCookie)("x-auth-cookie",r.data.access_token),(0,m.setCookie)("refresh_token",r.data.refresh_token),t.push("/workspace/select");else{let i=(null==r?void 0:r.messages.join("."))||"Unexpected error.";s(i)}}catch(l){console.error(l),s("Network error, please try again later.")}},o=e=>{console.log("Failed:",e)};return(0,r.jsxs)(d.Z,{className:"text-left",name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:i,onFinishFailed:o,autoComplete:"off",children:[(0,r.jsx)(d.Z.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please input a valid email"}],children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(d.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"}],children:(0,r.jsx)(u.Z.Password,{})}),(0,r.jsxs)(d.Z.Item,{wrapperCol:{offset:8,span:16},className:"mb-0 text-left",children:[(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Submit"}),(0,r.jsx)(p(),{href:"#",className:"ml-3 underline",children:"Forgot password?"})]}),(0,r.jsx)(d.Z.ErrorList,{errors:[e]})]})},v=()=>{let[e,s]=(0,c.useState)(""),[a]=w(),t=(0,x.useRouter)(),i=async e=>{console.log("Success:",e);try{let r=await a(e);if(null==r?void 0:r.status)(0,m.setCookie)("x-auth-cookie",r.data.access_token),(0,m.setCookie)("refresh_token",r.data.refresh_token),t.push("/workspace/select");else{let i=(null==r?void 0:r.messages.join("."))||"Unexpected error.";s(i)}}catch(l){console.error(l),s("Network error, please try again later.")}},o=e=>{console.log("Failed:",e)};return(0,r.jsx)("div",{children:(0,r.jsxs)(d.Z,{name:"basic",className:"text-left",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:i,onFinishFailed:o,autoComplete:"off",scrollToFirstError:!0,children:[(0,r.jsx)(d.Z.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please input a valid email"}],children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(d.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password"},{type:"string",min:8,message:"Password must has at least 8 digits."}],hasFeedback:!0,children:(0,r.jsx)(u.Z.Password,{})}),(0,r.jsx)(d.Z.Item,{label:"Confirm Password",name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password"},e=>{let{getFieldValue:s}=e;return{validator:(e,a)=>a&&s("password")!==a?Promise.reject(Error("The new password that you entered do not match!")):Promise.resolve()}}],children:(0,r.jsx)(u.Z.Password,{})}),(0,r.jsxs)(d.Z.Item,{wrapperCol:{offset:8,span:16},className:"mb-0 text-left",children:[(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Create Account"}),(0,r.jsx)(d.Z.ErrorList,{errors:[e]})]})]})})},b=()=>{let[e,s]=(0,c.useState)("Sign in");return(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Z,{options:["Sign in","Register"],onChange:e=>s(e.toString())}),(0,r.jsxs)("div",{className:"p-3",children:["Sign in"===e&&(0,r.jsx)(f,{}),"Register"===e&&(0,r.jsx)(v,{})]})]})};var _=a(25616),k=a(8145),y=a(81035),Z=a(46761),P=a(10769),N=a(2513);let C=()=>{var e,s,n;let[{redirect_url:c}]=(0,y.o)(),d=null!==(n=null!=c?c:null===a.g||void 0===a.g?void 0:null===(e=a.g.window)||void 0===e?void 0:null===(s=e.location)||void 0===s?void 0:s.origin)&&void 0!==n?n:N.De.NEXT_PUBLIC_BASE_URL;return(0,r.jsx)(Z.o,{useSidebar:!1,meta:(0,r.jsx)(P.h,{title:"Dashboard",description:"Your workspace overview."}),children:(0,r.jsxs)(_.Z,{className:"text-center",children:[(0,r.jsx)(k.Z,{useTagline:!0}),(0,r.jsx)(b,{}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{children:"OR"}),(0,r.jsxs)(l.ZP,{type:"primary",size:"large",onClick:()=>(0,o.x4)({redirectURL:d}),children:[(0,r.jsx)(t.Z,{}),"Sign in with Google"]})]})]})})};var F=C}},function(e){e.O(0,[8201,8564,2967,1003,9521,5569,5371,9774,2888,179],function(){return e(e.s=93577)}),_N_E=e.O()}]);