(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8512],{52853:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project",function(){return t(1854)}])},1854:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return eN}});var n,o=t(11527),s=t(18820),i=t(81363),a=t(85664),r=t(2164),d=t(26793),c=t(57132),u=t(31739),p=t(22449),m=t(16944),h=t(94222),x=t(86375),j=t(651),v=t(6441),g=t(90404),y=t(99380),f=t(46997),Z=t(65338),k=t(2119),b=t(67284),S=t(98344),C=t(23836),w=t(80402),I=t(67576),_=t(59701),P=t(50103),N=t(30388),Y=t(44177),A=t(64686),F=t(31494),T=t(71370),E=t(69786),L=t(47749),D=t(53156),O=t(13452),z=t(48880),q=t(74637),R=t.n(q),M=t(32699),U=t(79789),W=t.n(U),B=t(76806),K=t(50959),G=t(43008),V=t(29834),X=t(92961),Q=t(70297),H=t(11942),J=t(14149),$=t(32352),ee=t(63344),el=t(79549);let et=e=>{var l;let t=(0,B.useRouter)(),[n,s]=K.useState(!1),[i,a]=K.useState(""),[r,d]=K.useState([]),c=r[r.length-1],u=e=>{t.push(e),s(!1)};return K.useEffect(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),s(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,o.jsxs)(el.mY.Dialog,{open:n,onOpenChange:s,label:"Global Command Menu",children:[(0,o.jsx)(el.mY.Input,{value:i,onValueChange:a}),(0,o.jsxs)(el.mY.List,{children:[(0,o.jsx)(el.mY.Empty,{children:"No results found."}),null===(l=c?c.children:null==e?void 0:e.commands)||void 0===l?void 0:l.map((e,l)=>e.children?(0,o.jsx)(el.mY.Group,{heading:e.label,children:e.children.map((e,l)=>(0,o.jsx)(el.mY.Item,{onSelect(){e.children?(a(""),d([...r,e])):(s(!1),e.onSelect&&e.onSelect(e.value))},children:e.label},"subcmd-".concat(e.label,"-").concat(l)))},"cmdgroup-".concat(l)):(0,o.jsx)(el.mY.Item,{onSelect(){s(!1),e.onSelect&&e.onSelect(e.value)},children:e.label},"cmd-".concat(l))),c&&(0,o.jsxs)(el.mY.Item,{onSelect(){d([]),a("")},children:[(0,o.jsx)(ee.Z,{})," Reset"]}),(0,o.jsx)(el.mY.Separator,{}),(0,o.jsxs)(el.mY.Group,{heading:"Navigation",children:[(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/"),children:"Dashboard"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/project"),children:"Projects & apps"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/build"),children:"Builds & deploys"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/framework"),children:"Frameworks"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/git"),children:"Git Providers"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/cronjob"),children:"Cronjobs"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/monitor/node"),children:"Monitoring ≫ Nodes"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/monitor/namespace"),children:"Monitoring ≫ Namespaces"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/monitor/service"),children:"Monitoring ≫ Services"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/monitor/ingress"),children:"Monitoring ≫ Ingresses"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/monitor/deployment"),children:"Monitoring ≫ Deployments"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/monitor/pod"),children:"Monitoring ≫ Pods"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/infrastructure/cloud-provider"),children:"Infrastructure ≫ Cloud Providers"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/infrastructure/cluster"),children:"Infrastructure ≫ K8S Clusters"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/infrastructure/database"),children:"Infrastructure ≫ Databases"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/infrastructure/registry"),children:"Infrastructure ≫ Container Registries"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/workspace/users"),children:"Workspace ≫ Users"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/workspace/teams"),children:"Workspace ≫ Teams"}),(0,o.jsx)(el.mY.Item,{onSelect:()=>u("/workspace/roles"),children:"Workspace ≫ Roles"})]})]})]})};var en=t(81035),eo=t(45581),es=t(75112),ei=t(2513),ea=t(257),er=t(80589),ed=t(37528),ec=t(90800);let eu=e=>{let{app:l,env:t,next:n}=e,[s,i]=(0,G.mv)({filter:{slug:l}}),a=async e=>{console.log("Success:",e);let l=[e.domain],o=await s({domains:l,env:t});console.log("response :>> ",o),n&&n()},r=e=>{console.log("Failed:",e)};return(0,o.jsxs)(ed.Z,{name:"add-domains",style:{maxWidth:600},layout:"vertical",onFinish:a,onFinishFailed:r,autoComplete:"off",preserve:!1,children:[(0,o.jsx)(ed.Z.Item,{label:"Domain",name:"domain",rules:[{required:!0,message:"Please input your domain."}],children:(0,o.jsx)(ec.Z,{prefix:(0,o.jsx)(ea.Z,{}),placeholder:"Your domain"})}),(0,o.jsx)(ed.Z.Item,{children:(0,o.jsx)(A.ZP,{type:"primary",htmlType:"submit",icon:"success"===i?(0,o.jsx)(er.Z,{}):(0,o.jsx)(_.Z,{}),loading:"loading"===i,children:"Submit"})})]})};var ep=t(88383),em=t(19509),eh=t(69124),ex=t(86537),ej=t(35666),ev=t(27899),eg=t(73162),ey=t(2765),ef=t(85410);let eZ=e=>{var l,t,n,s,i,a;let{className:r=""}=e,d=(0,B.useRouter)(),{token:{colorBgContainer:c}}=ej.Z.useToken(),[u]=ed.Z.useForm(),[p,{setQuery:m}]=(0,en.o)(),{sshUrl:h,branch:x}=p,[j,v]=(0,K.useState)(),{data:{list:g=[]}={},status:y}=(0,H.Zz)({populate:"owner",pagination:{page:1,size:100}}),{data:{list:f}={},status:Z}=(0,ef.y3)(),{data:{list:k}={},status:b}=(0,ey.Dh)(),[S,C]=(0,G.TW)(),w=async l=>{console.log("Submit:",l),S({name:l.name,project:l.project,gitProvider:l.gitProvider,framework:j,shouldCreateGitRepo:!0}).then(l=>{console.log("res.data :>> ",l.data),(null==e?void 0:e.onDone)&&e.onDone(),l.status?(null==e?void 0:e.onSuccess)&&(null==e||e.onSuccess(l.data)):(null==e?void 0:e.onFailure)&&(null==e||e.onFailure(l.messages.join(".")))}).catch(l=>{(null==e?void 0:e.onFailure)&&(null==e||e.onFailure("Unable to create new app: ".concat(l,".")))})},I=e=>{console.log("Failed:",e)};return(0,o.jsxs)(ev.Z,{bordered:!1,className:"min-w-[350px]",title:(0,o.jsx)(F.Z.Title,{level:4,className:"!mb-0 text-center",children:"success"===C?"Congrats!":"loading"===C?"Processing...":"Create new app"}),children:["loading"===C&&(0,o.jsx)("div",{className:"p-4 text-center",children:(0,o.jsx)(ep.Z,{})}),"success"===C&&(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"mb-5 text-center text-3xl text-green-500",children:(0,o.jsx)(em.Z,{})}),(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(eh.Z,{}),size:"large",shape:"round",onClick:()=>(null==e?void 0:e.onClose)?e.onClose():d.push("/project"),children:"Back to projects & apps"})]}),"success"!==C&&"loading"!==C?(0,o.jsxs)(ed.Z,{className:["h-full","overflow-x-hidden",r].join(" "),layout:"vertical",form:u,onFinish:w,onFinishFailed:I,autoComplete:"off",preserve:!1,children:[(0,o.jsx)(ed.Z.Item,{name:"name",rules:[{required:!0,message:"App's name is required."}],children:(0,o.jsx)(ec.Z,{placeholder:"App's name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",size:"large",tabIndex:0,autoFocus:!0})}),(0,o.jsx)(ed.Z.Item,{name:"project",rules:[{required:!0,message:"Please select project."}],className:"mb-2",initialValue:null===(l=(g||[])[0])||void 0===l?void 0:l._id,children:(0,o.jsx)(eg.Z,{placeholder:"Select parent project",showSearch:!0,filterOption:(e,l)=>(null!==(s=null==l?void 0:l.label)&&void 0!==s?s:"").toLowerCase().includes(e.toLowerCase()),options:null==g?void 0:g.map(e=>({label:e.name,value:e._id}))})}),(0,o.jsx)(ed.Z.Item,{name:"gitProvider",rules:[{required:!0,message:"Please select git provider."}],className:"mb-2",initialValue:null===(t=(f||[])[0])||void 0===t?void 0:t._id,children:(0,o.jsx)(eg.Z,{placeholder:"Select git provider for this app",showSearch:!0,filterOption:(e,l)=>(null!==(i=null==l?void 0:l.label)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase()),options:null==f?void 0:f.map(e=>({label:e.name,value:e._id}))})}),(0,o.jsx)(ed.Z.Item,{name:"framework",rules:[{required:!0,message:"Please select framework."}],className:"mb-2",initialValue:null===(n=(k||[])[0])||void 0===n?void 0:n._id,children:(0,o.jsx)(eg.Z,{placeholder:"Select git provider for this app",showSearch:!0,filterOption:(e,l)=>(null!==(a=null==l?void 0:l.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase()),options:null==k?void 0:k.map(e=>({label:e.name,value:e._id})),onSelect:e=>v(null==k?void 0:k.find(l=>l._id===e))})}),(0,o.jsx)(ed.Z.Item,{style:{marginBottom:0},className:"text-center",children:(0,o.jsx)(A.ZP,{type:"primary",htmlType:"submit",icon:(0,o.jsx)(ex.Z,{}),size:"large",shape:"round",children:"Create"})})]}):(0,o.jsx)(o.Fragment,{})]})};var ek=t(18405);let eb=t(64814),eS=t(54498);R().extend(eS),R().extend(eb);let eC=null!==(n=ei.XL.tableConfig.defaultPageSize)&&void 0!==n?n:20,ew=()=>{let e=(0,B.useRouter)(),[l,{setQuery:t}]=(0,en.o)(),{responsive:n}=(0,eo.Jl)(),{modal:s}=(0,es.f9)(),[q,U]=(0,K.useState)(l.page?parseInt(l.page,10):1),ee=(0,P.NL)(),{data:el,status:ei,refetch:ea}=(0,H.BT)({populate:"owner",pagination:{page:q,size:eC}}),{list:er,pagination:ed}=el||{},{total_pages:ec,total_items:ep}=ed||{},{data:em,status:eh}=(0,X.x7)({pagination:{page:q,size:50}}),{list:ex}=em||{},ej=[{title:"Projects",width:(null==n?void 0:n.md)?60:40,dataIndex:"name",key:"name",fixed:(null==n?void 0:n.md)?"left":void 0,filterSearch:!0,filters:null==er?void 0:er.map(e=>({text:(null==e?void 0:e.slug)||"",value:(null==e?void 0:e.slug)||""})),onFilter:(e,l)=>null==l||!l.slug||(null==l?void 0:l.slug.indexOf(e.toString()))>-1,render(e,l){var n,s;return"project"===l.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(W(),{href:"/apps?project=".concat(l.slug),children:(0,o.jsx)("strong",{children:l.name})})," ",(0,o.jsx)(Y.Z,{children:l.slug})]}):"app"===l.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"cursor-pointer text-purple-300 transition-colors hover:text-purple-500 hover:transition-colors",onClick:()=>t({lv1:"edit",type:"app",app:l.slug}),children:l.name})," ",(0,o.jsx)(Y.Z,{children:l.slug}),(0,o.jsx)(W(),{href:(null===(n=l.git)||void 0===n?void 0:n.repoURL)||"#",target:"_blank",children:(0,o.jsx)(Y.Z,{color:"cyan",children:null===(s=l.git)||void 0===s?void 0:s.provider})})]}):e}},{title:"Cluster",width:30,dataIndex:"cluster",key:"cluster",render:e=>(0,o.jsx)(A.ZP,{type:"link",style:{padding:0},children:e})},{title:"Status",dataIndex:"status",key:"status",width:(null==n?void 0:n.md)?20:15,filters:[{text:"archived",value:"archived"},{text:"healthy",value:"healthy"},{text:"undeployed",value:"undeployed"},{text:"partial_healthy",value:"partial_healthy"},{text:"failed",value:"failed"},{text:"crashed",value:"crashed"},{text:"unknown",value:"unknown"}],filterSearch:!0,onFilter:(e,l)=>"archived"===e?void 0!==l.archivedAt:"project"===l.type||"app"===l.type||(console.log("record.status === value :>> ",l.status,e),!!l.status&&l.status===e),render(e,l){let t=e;return l.type,(null==l?void 0:l.archivedAt)&&(t="archived"),(0,o.jsx)(Y.Z,{color:"healthy"===e?"success":"undeployed"===e?"pink":"default",icon:(0,o.jsx)(i.Z,{className:"align-middle"}),children:t})}},{title:"Last updated by",dataIndex:"lastUpdatedBy",key:"lastUpdatedBy",width:35,filterSearch:!0,render(e,l){var t;return(0,o.jsx)(o.Fragment,{children:e||(null===(t=l.owner)||void 0===t?void 0:t.name)})}},{title:"Last updated",dataIndex:"updatedAt",key:"updatedAt",width:30,render:e=>(0,o.jsx)(J.q,{date:e}),sorter:(e,l)=>R()(e.updatedAt).diff(R()(l.updatedAt))},{title:"Created at",dataIndex:"createdAt",key:"createdAt",width:30,render:e=>(0,o.jsx)(J.q,{date:e}),sorter:(e,l)=>R()(e.createdAt).diff(R()(l.createdAt))},{title:(0,o.jsx)(F.Z.Text,{className:"text-xs md:text-sm",children:"Action"}),key:"action",fixed:"right",width:(null==n?void 0:n.md)?18:13,dataIndex:"action",render:(e,l)=>l.actions}],[ev,eg]=(0,H.E_)(),[ey,ef]=(0,G._M)(),[eb,eS]=(0,G.rg)(),[ew,eI]=(0,G.WK)(),[e_,eP]=(0,G.md)(),[eN,eY]=(0,V.rA)(),[eA,eF]=(0,V.fg)(),[eT,eE]=(0,Q.GD)(),[eL,eD]=(0,G.yq)(),[eO,ez]=(0,G.wt)(),[eq,eR]=(0,G.kK)(),eM=(e,l)=>{console.log("env :>> ",l);let t=null==s?void 0:s.info({title:"Add new domains",icon:(0,o.jsx)(a.Z,{}),content:(0,o.jsx)(eu,{app:e,env:l,next(){null==t||t.destroy(),T.ZP.success({message:"Congrats!",description:"New domain was added successfully!"})}}),footer:null,closable:!0,maskClosable:!0,onOk(){}})},eU=()=>{let e=null==s?void 0:s.info({className:"!p-0",style:{padding:0},bodyStyle:{padding:0},icon:null,content:(0,o.jsx)(eZ,{onClose:()=>null==e?void 0:e.destroy()}),footer:null,closable:!0,maskClosable:!0,onOk(){}})},eW=(e,l,t,n)=>{let i=null==s?void 0:s.info({title:(0,o.jsx)(F.Z.Title,{level:3,children:(null==n?void 0:n.title)||"Promote to ".concat(t?t.toUpperCase():"another"," deploy environment")}),icon:null,content:(0,o.jsx)(ek.Z,{app:e,fromEnv:l,toEnv:t,next(){null==i||i.destroy(),ea()}}),footer:null,closable:!0,maskClosable:!0,width:500,styles:{body:{margin:0,width:"100%",justifyContent:"stretch"}},onOk(){}})},eB=(e,l,n)=>{t({lv1:"build",project:e,app:l})},eK=(e,l,n)=>{t({lv1:"release",project:e,app:l,env:n})},eG=(e,l,n)=>{t({lv1:"env_vars",project:e,app:l,env:n})},eV=async e=>{let l=await ev({_id:e});console.log("[deleteProject] result :>> ",l)},eX=async e=>{let l=await ey({_id:e});ea(),console.log("[deleteApp] result :>> ",l)},eQ=async(e,l)=>{let t=await eb({_id:e,env:l});console.log("[deleteEnvironment] result :>> ",t),ee.invalidateQueries({queryKey:["projects","list"]}),ee.invalidateQueries({queryKey:["apps","list"]})};(0,K.useEffect)(()=>{if(!e.isReady)return;let t=l.page?parseInt(l.page.toString(),10):1;U(t)},[l.page]);let eH=null==er?void 0:er.map(l=>({...l,type:"project",actions:(0,o.jsx)(E.Z.Compact,{children:(0,o.jsx)(L.Z,{title:"Are you sure to delete this project?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: all of the related apps & deployed environments will be also deleted."}),onConfirm:()=>eV(l._id),okText:"Yes",cancelText:"No",children:(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(r.Z,{})})})}),key:l._id,id:l._id,status:"N/A",children:l.apps?l.apps.map(n=>{var s;let i=Object.keys(null!==(s=n.deployEnvironment)&&void 0!==s?s:{}),a=i.map(s=>{var i,a;let b=(n.deployEnvironment||{})[s]||{},S="https://".concat(null===(i=b.domains)||void 0===i?void 0:i[0]),C={name:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,{title:(null===(a=b.domains)||void 0===a?void 0:a.map(e=>(0,o.jsx)("ul",{style:{listStyleType:"disc"},children:(0,o.jsx)("li",{style:{listStyleType:"disc",display:"list-item"},children:(0,o.jsxs)(W(),{href:"https://".concat(e),target:"_blank",children:["https://",e]})})},e)))||"No domains",children:(0,o.jsx)(W(),{href:S,target:"_blank",children:(0,o.jsx)(d.Z,{})},S)}),(0,o.jsx)(A.ZP,{type:"link",onClick:()=>t({lv1:"deploy_environment",project:l.slug,app:n.slug,env:s}),children:s.toUpperCase()}),(0,o.jsxs)(Y.Z,{color:"green",children:["Namespace: ",b.namespace]})]}),key:"".concat(l.slug,"-").concat(n.slug,"-").concat(s),id:s,slug:s,projectSlug:l.slug,appSlug:n.slug,type:"prod"!==s?"env":"env-prod",url:b.domains?"https://".concat(b.domains[0]):"",...b};return C.actions=(0,o.jsxs)(E.Z.Compact,{children:[(0,o.jsx)(D.Z,{title:"View website",children:(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(c.Z,{}),href:C.url,target:"_blank",disabled:(0,M.isEmpty)(C.url)})}),(0,o.jsx)(O.Z,{menu:{items:[{label:(0,o.jsx)(D.Z,{title:"Build & deploy from latest git source",children:"Deploy now"}),key:"deploy-now",icon:(0,o.jsx)(u.Z,{}),onClick:()=>e.push("/deploy?app=".concat(n.slug,"&env=").concat(s,"&registry=").concat(b.registry,"&cluster=").concat(b.cluster))},{label:(0,o.jsx)(D.Z,{title:"Deploy current build of this environment to production",children:"Promote to PRODUCTION"}),key:"promote-to-production",icon:(0,o.jsx)(p.Z,{}),onClick(){eW(n,s,"prod")}},{label:(0,o.jsx)(D.Z,{title:"Deploy current build of this environment to production",children:"Promote to another"}),key:"promote-to-another",icon:(0,o.jsx)(p.Z,{}),onClick(){eW(n,s)}},{label:"List of releases",key:"list-of-releases",icon:(0,o.jsx)(m.Z,{}),onClick:()=>eK(C.projectSlug,C.appSlug,s)},{label:"List of builds",key:"list-of-builds",icon:(0,o.jsx)(h.Z,{}),onClick:()=>eB(C.projectSlug,C.appSlug,C.id)},{label:"Deployment YAML",key:"deployment-yaml",icon:(0,o.jsx)(x.Z,{}),onClick:()=>t({lv1:"deployment_yaml",project:C.projectSlug,app:C.appSlug,env:s})},{label:"Environment variables",key:"env-vars",icon:(0,o.jsx)(j.Z,{}),onClick:()=>eG(C.projectSlug,C.appSlug,s)},{label:"Add domains",key:"add-domains",icon:(0,o.jsx)(v.Z,{}),onClick:()=>eM(C.appSlug,s)},{label:"Change cluster",key:"change-cluster",icon:(0,o.jsx)(g.Z,{}),onClick:()=>eW(n,s,s,{title:"Change to another cluster"})},{label:"Sleep",key:"sleep",icon:(0,o.jsx)(y.Z,{}),onClick:()=>eL({slug:C.appSlug,env:s})},{label:"Awake",key:"awake",icon:(0,o.jsx)(f.Z,{}),onClick:()=>eO({slug:C.appSlug,env:s})},{label:"Take down",key:"take-down",icon:(0,o.jsx)(Z.Z,{}),onClick:()=>eq({slug:C.appSlug,env:s})}]},children:(0,o.jsx)(A.ZP,{style:{padding:"4px 4px"},children:(0,o.jsx)(k.Z,{})})}),(0,o.jsx)(L.Z,{title:"Are you sure to delete this environment?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: this is permanent and cannot be rolled back (excepts re-deploying)."}),onConfirm:()=>eQ(n._id,s),okText:"Yes",cancelText:"No",children:(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(r.Z,{})})})]}),C});return{...n,key:n._id,id:n._id,type:"app",children:a,actions:(0,o.jsxs)(E.Z.Compact,{children:[(0,o.jsx)(D.Z,{title:"Edit app",children:(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(b.Z,{}),onClick:()=>t({lv1:"edit",type:"app",app:n.slug})})}),(0,o.jsx)(D.Z,{title:void 0!==n.archiveAt?"Unarchive":"Archive",children:(0,o.jsx)(A.ZP,{icon:void 0!==n.archiveAt?(0,o.jsx)(S.Z,{}):(0,o.jsx)(C.Z,{}),onClick(){var e,l;return void 0!==n.archiveAt?null===(e=e_({_id:n._id}))||void 0===e?void 0:e.then(()=>ea()):null===(l=ew({_id:n._id}))||void 0===l?void 0:l.then(()=>ea())}})}),(0,o.jsx)(L.Z,{title:"Are you sure to delete this app?",description:(0,o.jsx)("span",{className:"text-red-500",children:"Caution: all of the related deployed environments will be also deleted."}),onConfirm:()=>eX(n._id),okText:"Yes",cancelText:"No",children:(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(r.Z,{})})})]})}}):[]})),eJ=e=>{console.log("Table changed!");let{current:l}=e;t({page:null!=l?l:1})},e$=(0,K.useRef)(null),e0=(0,N.Z)(e$);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(et,{commands:null==er?void 0:er.map(e=>{var l;return{label:"".concat(e.name," (").concat(e.slug,")"),value:e,children:null===(l=e.apps)||void 0===l?void 0:l.map(l=>({value:l,label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Y.Z,{children:e.slug}),"≫",(0,o.jsx)(Y.Z,{children:l.slug})]}),children:Object.keys(l.deployEnvironment||{}).map(n=>({label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w.Z,{}),"Deploy environment ≫ ".concat(n.toUpperCase())]}),value:(l.deployEnvironment||{})[n],onSelect:o=>t({lv1:"deploy_environment",project:e.slug,app:l.slug,env:n})}))}))}})}),(0,o.jsx)($.V,{title:"Projects & apps",breadcrumbs:[{name:"Workspace"}],actions:[(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(I.Z,{className:"align-middle"}),href:"/import",children:"Import"},"import-btn"),(0,o.jsx)(A.ZP,{icon:(0,o.jsx)(_.Z,{className:"align-middle"}),onClick:()=>eU(),children:"Create app"},"create-app-btn")]}),(0,o.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:e$,children:(0,o.jsx)(z.Z,{size:"small",loading:"loading"===ei,columns:ej,dataSource:eH,scroll:{x:(null==n?void 0:n.md)?1600:1200,y:void 0!==(null==e0?void 0:e0.height)?e0.height-120:void 0},sticky:{offsetHeader:0},pagination:{showSizeChanger:!0,current:q,defaultPageSize:eC,total:ep,position:["bottomCenter"]},onChange:eJ})})]})};var eI=t(46761),e_=t(10769);let eP=()=>(0,o.jsx)(s.Wk,{children:(0,o.jsx)(eI.o,{meta:(0,o.jsx)(e_.h,{title:"Projects",description:"Manage builds & deployments of your projects / apps "}),children:(0,o.jsx)(ew,{})})});var eN=eP}},function(e){e.O(0,[8201,8564,2967,1003,7500,9239,5371,9774,2888,179],function(){return e(e.s=52853)}),_N_E=e.O()}]);