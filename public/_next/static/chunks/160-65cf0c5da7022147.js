(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{50094:function(e,t,n){"use strict";n.d(t,{Bm:function(){return o},Lw:function(){return u},VD:function(){return a},XS:function(){return r},_M:function(){return i},i6:function(){return d},im:function(){return s},mv:function(){return c},un:function(){return m}});var l=n(22859);let a=e=>(0,l.wz)(["apps","list"],"/api/v1/app",e),s=(e,t)=>(0,l.AQ)(["apps",e],"/api/v1/app",e,t),i=()=>(0,l.TV)(["apps","delete"],"/api/v1/app"),r=e=>(0,l.FF)(["env_vars"],"/api/v1/app/environment/variables",e),o=e=>(0,l.TV)(["env_vars","delete"],"/api/v1/app/environment/variables",e),c=e=>(0,l.FF)(["env_vars"],"/api/v1/app/environment/domains",e),u=(e,t)=>(0,l.AQ)(["deploy_environment",e],"/api/v1/app/deploy_environment",e,t),d=e=>(0,l.yt)(["deploy_environment","update"],"/api/v1/app/deploy_environment",e),m=(e,t)=>(0,l.AQ)(["app_logs",e],"/api/v1/app/environment/logs",e,t)},77665:function(e,t,n){"use strict";n.d(t,{Wk:function(){return j},aC:function(){return f},x4:function(){return v}});var l=n(11527),a=n(32105),s=n(83648),i=n(54998),r=n(48747),o=n(33117),c=n(46998),u=n(32699),d=n(7094),m=n(50959),p=n(24330),g=n(10340),h=n(14198);let v=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!==(e=t.redirectURL)&&void 0!==e?e:h.De.NEXT_PUBLIC_API_BASE_URL;window.location.href="".concat(h.De.NEXT_PUBLIC_API_BASE_URL,"/auth/google?redirect_url=").concat(n)},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{access_token:t=(0,c.getCookie)("x-auth-cookie")}=e,n=(0,d.useRouter)();return(0,s.a)({staleTime:3e5,cacheTime:6e4,queryKey:["auth"],queryFn:async()=>{var e;let l=new URLSearchParams(n.asPath.split("?")[1]),a=Object.fromEntries(l),{access_token:s}=a,i=null!==(e=null!=t?t:(0,c.getCookie)("x-auth-cookie"))&&void 0!==e?e:s,{data:r}=await o.Z.get("".concat(h.De.NEXT_PUBLIC_API_BASE_URL,"/auth/profile"),{headers:i?{Authorization:"Bearer ".concat(i)}:{}});return r}})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{redirectUrl:t}=e,n=(0,d.useRouter)(),[l]=(0,g.o)(),{access_token:a=(0,c.getCookie)("x-auth-cookie")}=l;a&&(0,c.setCookie)("x-auth-cookie",a);let s=x({access_token:a}),{data:r,isError:o,isFetched:u,isLoading:p,isSuccess:h,refetch:v}=s,{status:f,data:j}=r||{},y=null==r?void 0:r.data,b=(0,i.NL)(),A=async()=>{await b.invalidateQueries({queryKey:["auth"]})};return(0,m.useEffect)(()=>{void 0!==f&&!1!==u&&setTimeout(()=>{let e=(0,c.getCookie)("x-auth-cookie");return e&&f?y.activeWorkspace?A():n.push("/workspace/select"):n.push(t?"/login?redirect_url=".concat(t):"/login")},200)},[f]),[y,s]},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{children:t}=e;(0,d.useRouter)();let[n,{isLoading:s,isFetched:i}]=f(),{workspaces:o=[]}=n||{},c=null==n?void 0:n.activeWorkspace;return s?(0,l.jsxs)(p.Z,{children:[(0,l.jsx)(a.Z,{}),(0,l.jsx)("span",{className:"ml-2",children:"Loading..."})]}):i&&(0,u.isEmpty)(n)?(0,l.jsx)(l.Fragment,{}):c?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsx)(p.Z,{className:"text-center",children:(0,l.jsx)(r.Z,{message:"Error",description:"This workspace does not exists.",type:"error"})})}},33043:function(e,t,n){"use strict";n.d(t,{BY:function(){return a},fg:function(){return i},tx:function(){return s}});var l=n(22859);let a=e=>(0,l.wz)(["builds","list"],"/api/v1/build",e),s=(e,t)=>(0,l.AQ)(["builds",e],"/api/v1/build",e,t),i=e=>(0,l.yt)(["builds","stop"],"/api/v1/build/stop",e)},26079:function(e,t,n){"use strict";n.d(t,{nu:function(){return a}});var l=n(22859);let a=e=>(0,l.wz)(["providers","list"],"/api/v1/provider",e)},58828:function(e,t,n){"use strict";n.d(t,{An:function(){return o},CN:function(){return i},pD:function(){return s},ve:function(){return r},x7:function(){return a}});var l=n(22859);let a=e=>(0,l.wz)(["clusters","list"],"/api/v1/cluster",e),s=(e,t)=>(0,l.AQ)(["cluster",e],"/api/v1/cluster",e,t),i=()=>(0,l.FF)(["clusters","create"],"/api/v1/cluster"),r=e=>(0,l.yt)(["clusters","update"],"/api/v1/cluster",e),o=()=>(0,l.TV)(["clusters","delete"],"/api/v1/cluster")},81043:function(e,t,n){"use strict";n.d(t,{D$:function(){return i},Dh:function(){return a},FX:function(){return s},fR:function(){return r},mt:function(){return o}});var l=n(22859);let a=e=>(0,l.wz)(["frameworks","list"],"/api/v1/framework",e),s=(e,t)=>(0,l.AQ)(["frameworks",e],"/api/v1/framework",e,t),i=()=>(0,l.FF)(["frameworks"],"/api/v1/framework"),r=e=>(0,l.yt)(["frameworks"],"/api/v1/framework",e),o=()=>(0,l.TV)(["frameworks","delete"],"/api/v1/framework")},95420:function(e,t,n){"use strict";n.d(t,{CX:function(){return o},Ve:function(){return r},o0:function(){return s},oR:function(){return u},sc:function(){return c},xP:function(){return i},y3:function(){return a}});var l=n(22859);let a=e=>(0,l.wz)(["gits","list"],"/api/v1/git",e),s=(e,t)=>(0,l.AQ)(["gits",e],"/api/v1/git",e,t),i=e=>(0,l.FF)(["gits"],"/api/v1/git",e),r=e=>(0,l.yt)(["gits"],"/api/v1/git",e),o=()=>(0,l.TV)(["gits"],"/api/v1/git"),c=()=>(0,l.h_)(["public-key"],"/api/v1/git/public-key"),u=e=>(0,l.wz)(["git-orgs","list"],"/api/v1/git/orgs",e)},65577:function(e,t,n){"use strict";n.d(t,{Bl:function(){return i},EL:function(){return s},Xn:function(){return r},Y4:function(){return o},fy:function(){return a}});var l=n(22859);let a=e=>(0,l.wz)(["registries","list"],"/api/v1/registry",e),s=(e,t)=>(0,l.AQ)(["registries",e],"/api/v1/registry",e,t),i=e=>(0,l.FF)(["registries"],"/api/v1/registry",e),r=e=>(0,l.yt)(["registries"],"/api/v1/registry",e),o=()=>(0,l.TV)(["registries"],"/api/v1/registry")},6585:function(e,t,n){"use strict";n.d(t,{IX:function(){return s},Lb:function(){return i},bE:function(){return r},kW:function(){return a}});var l=n(22859);let a=e=>(0,l.wz)(["releases","list"],"/api/v1/release",e),s=e=>(0,l.yt)(["releases","rollout"],"/api/v1/release/rollout",e),i=e=>(0,l.FF)(["releases","create"],"/api/v1/release/from-build",e),r=e=>(0,l.yt)(["releases","preview"],"/api/v1/release/preview",e)},77043:function(e,t,n){"use strict";n.d(t,{CN:function(){return o},aB:function(){return r},bd:function(){return a},dZ:function(){return s},m1:function(){return i}});var l=n(22859);let a=e=>(0,l.wz)(["roles","list"],"/api/v1/role",e),s=(e,t)=>(0,l.AQ)(["roles",e],"/api/v1/role",e,t),i=e=>(0,l.FF)(["roles"],"/api/v1/role",e),r=e=>(0,l.yt)(["roles"],"/api/v1/role",e),o=e=>(0,l.TV)(["roles"],"/api/v1/role")},24483:function(e,t,n){"use strict";n.d(t,{En:function(){return i},Hc:function(){return c},Rz:function(){return u},hz:function(){return s},kZ:function(){return o},mO:function(){return a},yl:function(){return r}});var l=n(22859);let a=e=>(0,l.wz)(["users","list"],"/api/v1/user",e),s=(e,t)=>(0,l.AQ)(["users",e],"/api/v1/user",e,t),i=e=>(0,l.FF)(["users"],"/api/v1/user",e),r=e=>(0,l.yt)(["users"],"/api/v1/user",e),o=()=>(0,l.TV)(["users"],"/api/v1/user"),c=e=>(0,l.yt)(["users"],"/api/v1/user/join-workspace",e),u=e=>(0,l.yt)(["users"],"/api/v1/user/assign-role",e)},22859:function(e,t,n){"use strict";n.d(t,{AQ:function(){return g},FF:function(){return v},TV:function(){return f},h_:function(){return h},wz:function(){return p},yt:function(){return x}});var l=n(54998),a=n(83648),s=n(47176),i=n(99678),r=n(33117),o=n(46998),c=n(32699),u=n(7094),d=n(14198);let{useApp:m}=i.Z,p=function(e,t){var n;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m(),{notification:p}=i,g=(0,u.useRouter)(),h=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),v=h?{Authorization:"Bearer ".concat(h)}:{};v["Cache-Control"]="no-cache";let{pagination:x={page:1,size:20},populate:f,filter:j,sort:y="-updatedAt,-createdAt"}=s,b=new URLSearchParams(x).toString(),A=f?"populate=".concat(f):"",k=j?new URLSearchParams(j).toString():"",E="sort=".concat(y),Z=(0,l.NL)(),w=[...e];return w.push((0,c.isEmpty)(j)?{}:j),(0,c.isEmpty)(x)||w.push(x),(0,a.a)({refetchOnWindowFocus:!1,queryKey:w,staleTime:null==s?void 0:s.staleTime,enabled:null==s?void 0:s.enabled,queryFn:async()=>{var n,l;let{data:a}=await r.Z.get("".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(k,"&").concat(E,"&").concat(A,"&").concat(b),{...s,headers:v});a.status||(0,c.isEmpty)(a.messages)||a.messages.forEach(e=>{e&&p.error({message:"Failed.",description:e})});let{current_page:i,total_pages:u,total_items:m,page_size:g,next_page:h,prev_page:x,...f}=a;return(null===(n=a.token)||void 0===n?void 0:n.access_token)&&(0,o.setCookie)("x-auth-cookie",null===(l=a.token)||void 0===l?void 0:l.access_token),{list:a.data.map(t=>(Z.setQueryData([e[0],t._id],t),Z.setQueryData([e[0],t.slug],t),Z.setQueryData([e[0],{slug:t.slug}],t),{...t,key:t._id}))||[],pagination:{current_page:i,total_pages:u,total_items:m,page_size:g,next_page:h,prev_page:x},messages:a.messages,status:a.status}}})},g=function(e,t,n){var l;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=m(),{notification:p}=i,g=(0,u.useRouter)(),h=null!==(l=g.query.access_token)&&void 0!==l?l:(0,o.getCookie)("x-auth-cookie"),v=h?{Authorization:"Bearer ".concat(h)}:{};v["Cache-Control"]="no-cache";let{populate:x,filter:f={}}=s;f.slug=n;let j=x?"populate=".concat(x):"",y=new URLSearchParams(f).toString();return(0,a.a)({enabled:null!=n,queryKey:e,staleTime:null==s?void 0:s.staleTime,queryFn:async()=>{var e,n;let l="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(y,"&").concat(j),{data:a}=await r.Z.get(l,{...s,headers:v});if(a.status||(0,c.isEmpty)(a.messages)||a.messages.forEach(e=>{e&&p.error({message:"Failed.",description:e})}),(null===(e=a.token)||void 0===e?void 0:e.access_token)&&(0,o.setCookie)("x-auth-cookie",null===(n=a.token)||void 0===n?void 0:n.access_token),(0,c.isArray)(a.data)){let e=a.data.map(e=>({...e,key:e._id}));return e[0]}return(0,c.isString)(a.data)?{status:a.status,data:a.data,messages:a.messages}:a.data}})},h=function(e,t){var n;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=m(),{notification:i}=s,p=(0,u.useRouter)(),g=null!==(n=p.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),h=g?{Authorization:"Bearer ".concat(g)}:{};return h["Cache-Control"]="no-cache",(0,a.a)({queryKey:e,queryFn:async()=>{let{data:e}=await r.Z.get("".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t),{...l,headers:h});return e.status||(0,c.isEmpty)(e.messages)||e.messages.forEach(e=>{e&&i.error({message:"Failed.",description:e})}),e}})},v=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m(),{notification:p}=i,g=(0,u.useRouter)(),h=(0,l.NL)(),v=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),x=v?{Authorization:"Bearer ".concat(v)}:{};x["Cache-Control"]="no-cache";let{populate:f,sort:j,pagination:y,filter:b}=a,A=b?"".concat(new URLSearchParams(b).toString(),"&"):"",k="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(A).concat(f?"populate=".concat(f):""),E=(0,s.D)({mutationFn:async e=>{let{data:t,status:n}=await r.Z.post(k,e,{...a,headers:x});if(429===n)throw Error("Too many requests.");return t.status||((0,c.isEmpty)(t.messages)?p.error({message:"Something is wrong..."}):t.messages.forEach(e=>{if(e)try{p.error({message:"Failed.",description:e})}catch(e){console.error(e)}})),t},onError:async(e,t,n)=>{console.log("error :>> ",e)},onMutate:async t=>(await h.cancelQueries({queryKey:e}),t),onSuccess:(t,n,l)=>{h.invalidateQueries({queryKey:[e[0],"list"]}),h.invalidateQueries({queryKey:[e[0],null==t?void 0:t.slug]})}}),{mutateAsync:Z,status:w}=E;return[Z,w]},x=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m(),{notification:p}=i,g=(0,u.useRouter)(),h=(0,l.NL)(),v=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),x=v?{Authorization:"Bearer ".concat(v)}:{};x["Cache-Control"]="no-cache";let{pagination:f={page:1,size:20},populate:j,sort:y="-createdAt",filter:b}=a,A=b?"".concat(new URLSearchParams(b).toString(),"&"):"",k=new URLSearchParams(f).toString(),E="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(A).concat("sort=".concat(y,"&")).concat(j?"populate=".concat(j,"&"):"").concat(k),Z=(0,s.D)({mutationFn:async e=>{let{data:t}=await r.Z.patch(E,e,{...a,headers:x});return t.status||((0,c.isEmpty)(t.messages)?p.error({message:"Something is wrong..."}):(console.log("FAILLLLLLLLLLLLLLL :>> ",t.messages,p),t.messages.forEach(e=>{e&&p.error({message:"Failed.",description:e,style:{zIndex:100}})}))),t},onSuccess:(t,n,l)=>{h.invalidateQueries({queryKey:[e[0],"list"]}),(null==b?void 0:b.slug)&&h.invalidateQueries({queryKey:[e[0],b.slug]})}});return[Z.mutateAsync,Z.status]},f=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m(),{notification:p}=i,g=(0,u.useRouter)(),h=(0,l.NL)(),v=null!==(n=g.query.access_token)&&void 0!==n?n:(0,o.getCookie)("x-auth-cookie"),x=v?{Authorization:"Bearer ".concat(v)}:{};x["Cache-Control"]="no-cache";let f=(0,s.D)({mutationFn:async e=>{let n=e?"".concat(new URLSearchParams(e).toString()):"",l="".concat(d.De.NEXT_PUBLIC_API_BASE_URL).concat(t,"?").concat(n),{data:s}=await r.Z.delete(l,{...a,headers:x});return s.status||((0,c.isEmpty)(s.messages)?p.error({message:"Something is wrong..."}):s.messages.forEach(e=>{console.log("message :>> ",e),e&&p.error({message:"Failed.",description:e})})),s},onSuccess:t=>(h.invalidateQueries({queryKey:[e[0],"list"]}),t)}),{mutateAsync:j,status:y}=f;return[j,y]}},24330:function(e,t,n){"use strict";var l=n(11527);let a=e=>(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 ".concat(e.className),children:e.children});t.Z=a},59823:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var l=n(11527),a=n(88158),s=n(74637),i=n.n(s);n(50959);let r=n(64814),o=n(54498);i().extend(o),i().extend(r);let c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{date:t}=e;return(0,l.jsx)(a.Z,{title:i()(t).format("LLL"),children:(0,l.jsx)("span",{children:t?i()(t).fromNow():"-"})})}},44064:function(e,t,n){"use strict";n.d(t,{D:function(){return p},V:function(){return g}});var l=n(11527),a=n(68834),s=n(8357),i=n(59850),r=n(75616),o=n(58699),c=n(70802),u=n(36865),d=n(7094),m=n(89335);function p(e){let{token:{colorTextHeading:t}}=r.Z.useToken(),{isDarkMode:n}=(0,m.vs)(),{color:a=n?"white":"black",value:s}=e;return(0,l.jsx)("h1",{className:"my-0 grow py-0 pt-2 text-xl font-bold",style:{color:a},children:s})}let g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.useRouter)(),{children:n,breadcrumbs:m=[],title:g="Page Title",actions:h=[(0,l.jsx)(o.ZP,{type:"default",icon:(0,l.jsx)(a.Z,{className:"align-middle"}),children:"Settings"},"workspace-setting-btn"),(0,l.jsx)(o.ZP,{type:"default",icon:(0,l.jsx)(s.Z,{className:"align-middle"})},"more-btn")]}=e,{token:{colorTextHeading:v}}=r.Z.useToken();return(0,l.jsxs)("div",{className:"border-b border-gray-300 px-6 py-4",children:[(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(c.Z.Item,{href:"".concat(t.basePath,"/"),children:(0,l.jsx)(i.Z,{})},"breadcrumb-home"),m.map((e,t)=>(0,l.jsxs)(c.Z.Item,{href:e.url,children:[e.icon,(0,l.jsx)("span",{children:e.name})]},"breadcrumb-".concat(t)))]}),(0,l.jsxs)("div",{className:" flex w-full flex-col md:flex-row",children:[(0,l.jsx)(p,{value:g}),(0,l.jsx)("div",{children:(0,l.jsx)(u.Z,{wrap:!0,children:h})})]}),n]})}},47255:function(e,t,n){"use strict";n.d(t,{w:function(){return U}});var l=n(11527),a=n(20209),s=n(86218),i=n(32105),r=n(76657),o=n(38101),c=n(23421),u=n(42423),d=n(10544),m=n(76068),p=n(67918),g=n(99678),h=n(85273),v=n(36865),x=n(88158),f=n(58699),j=n(40083),y=n(74637),b=n.n(y),A=n(52195),k=n(32699),E=n(62973),Z=n.n(E),w=n(7094),C=n(50959),N=n(33043),S=n(6585),P=n(59823),Q=n(44064),I=n(10340);let B=n(64814),F=n(54498);b().extend(F),b().extend(B);let R=new A.b,_=new A.f(R),{useApp:L}=g.Z,T=[{title:"Name",width:70,dataIndex:"name",key:"name",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>t.name&&t.name.indexOf(e.toString())>-1||!0,render:(e,t)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:(0,l.jsx)(Z(),{href:"/build/logs?build_slug=".concat(t.slug),children:(0,l.jsx)("strong",{children:e})})}),(0,l.jsxs)("ul",{className:"ml-4 list-disc",children:[(0,l.jsxs)("li",{children:["Project: ",(0,l.jsx)(h.Z,{color:"blue",children:t.projectSlug})]}),(0,l.jsxs)("li",{children:["App: ",(0,l.jsx)(h.Z,{color:"cyan",children:t.appSlug})]}),t.duration?(0,l.jsxs)("li",{children:["Duration:"," ",(0,l.jsx)(h.Z,{color:"gold",icon:(0,l.jsx)(a.Z,{}),children:_.humanize(t.duration||0,{round:!0})},"duration")]}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)("li",{children:["Created"," ",(0,l.jsx)("strong",{children:(0,l.jsx)(P.q,{date:t.createdAt})})]})]})]})},{title:"Created by",dataIndex:"owner",key:"owner",width:40,filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>t.owner&&(t.owner.slug||"").indexOf(e.toString())>-1||!0,render:e=>(0,l.jsx)(l.Fragment,{children:null==e?void 0:e.name})},{title:"Status",dataIndex:"status",key:"status",width:30,filters:[{text:"live",value:"live"}],render:e=>{let t="warning",n=(0,l.jsx)(s.Z,{});switch(e){case"building":t="processing",n=(0,l.jsx)(i.Z,{className:"align-middle"});break;case"failed":t="error",n=(0,l.jsx)(r.Z,{className:"align-middle"});break;case"success":t="success",n=(0,l.jsx)(o.Z,{className:"align-middle"});break;default:t="default",n=(0,l.jsx)(s.Z,{})}return(0,l.jsx)(h.Z,{color:t,icon:n,children:e})}},{title:"Action",key:"action",width:30,dataIndex:"action"}],U=()=>{(0,w.useRouter)();let e=L(),[t,{setQuery:n}]=(0,I.o)(),{project:a,app:s,env:i}=t,r={};a&&(r.projectSlug=a),s&&(r.appSlug=s);let[o,g]=(0,C.useState)(1),[h,y]=(0,N.fg)(),{data:b,status:A}=(0,N.BY)({sort:"-createdAt",populate:"owner",pagination:{page:o,size:100},filter:r}),{list:E,pagination:Z}=b||{},{total_items:P}=Z||{},B=e=>{let l={build_slug:e};t.lv1?l.lv2="build_logs":l.lv1="build_logs",n(l)},[F]=(0,S.Lb)(),R=async t=>{if((0,k.isEmpty)(t)){e.notification.error({message:"Failed to release the build.",description:"Build not found: ".concat(t),placement:"top"});return}try{let n=await F({build:t,env:i});if(null==n?void 0:n.status){let t=null==n?void 0:n.data;e.notification.success({message:"Congrats, the release has been created successfully!",description:(0,l.jsxs)(l.Fragment,{children:["You can now preview it on ",(0,l.jsx)("a",{href:"https://".concat(null==t?void 0:t.prereleaseUrl),children:"PRE-RELEASE"})," endpoint."]}),placement:"top"});return}}catch(t){console.error("Could not process releasing this build:",t),e.notification.error({message:"Failed to roll out.",description:"Could not process releasing this build: ".concat(t),placement:"top"})}},_=async t=>{let n=await h({slug:t});console.log("[BuildList] stopBuild :>> ",n),(null==n?void 0:n.status)||e.notification.error({message:"Failed to proceed.",description:"Could not stop this build due to server issue. Please try again later.",placement:"top"})},U=null==E?void 0:E.map(e=>({id:e._id,...e,action:(0,l.jsxs)(v.Z.Compact,{children:["building"===e.status&&(0,l.jsx)(x.Z,{title:"Stop building",children:(0,l.jsx)(f.ZP,{danger:!0,icon:(0,l.jsx)(c.Z,{}),onClick:()=>_(null==e?void 0:e.slug)})}),(0,l.jsx)(x.Z,{title:"View logs",children:(0,l.jsx)(f.ZP,{icon:(0,l.jsx)(u.Z,{}),onClick:()=>B(e.slug)})}),(0,l.jsx)(x.Z,{title:"Open image URL",children:(0,l.jsx)(f.ZP,{icon:(0,l.jsx)(d.Z,{}),href:"https://".concat(e.image),target:"_blank"})}),"prod"===e.env&&(0,l.jsx)(x.Z,{title:"Create a release from this build",children:(0,l.jsx)(f.ZP,{icon:(0,l.jsx)(m.Z,{}),onClick:()=>{var t;return R(null===(t=e._id)||void 0===t?void 0:t.toString())}})})]})})),z=e=>{let{current:t}=e;g(null!=t?t:1)},D=(0,C.useRef)(null),V=(0,p.Z)(D);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Q.V,{title:"Builds (".concat(null!=P?P:"-",")"),breadcrumbs:[{name:"Workspace"}],actions:[]}),(0,l.jsx)("div",{className:"h-full flex-auto overflow-hidden",ref:D,children:(0,l.jsx)(j.Z,{size:"small",loading:"loading"===A,columns:T,dataSource:U,scroll:{x:550,y:void 0!==(null==V?void 0:V.height)?V.height-100:void 0},sticky:{offsetHeader:0},pagination:{current:o,pageSize:100,total:P,position:["bottomCenter"]},onChange:z})})]})}},31626:function(e,t,n){"use strict";n.d(t,{O:function(){return b}});var l=n(11527),a=n(32105),s=n(76657),i=n(75616),r=n(17014),o=n(74637),c=n.n(o),u=n(14383),d=n(32699),m=n(50959),p=n(55282),g=n.n(p),h=n(33043),v=n(10340);n(14198);let x=n(33939),f=n(64814),j=n(54498);c().extend(j),c().extend(f);let y=e=>g()("".concat(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")),b=e=>{let{slug:t}=e,[n]=(0,v.o)(),{build_slug:o}=n,{data:c}=(0,h.tx)(o),p=(null==c?void 0:c.logs)||"",g=y(p),f=g.split("\n").map((e,t)=>e.toString()),j=window.location.origin;console.log("SOCKET_URL :>> ",j);let[b,A]=(0,m.useState)(["Connecting..."]),[k,E]=(0,m.useState)("in_progress"),[Z,w]=(0,m.useState)(!1),{token:{colorText:C}}=i.Z.useToken();return(0,m.useEffect)(()=>{(0,d.isEmpty)(p)||A(f)},[f.length]),(0,m.useEffect)(()=>{if(null==p||p.toString().toLowerCase(),((null==c?void 0:c.status)==="failed"||(null==c?void 0:c.status)==="success")&&w(!0),(null==c?void 0:c.status)==="success"&&E("success"),(null==c?void 0:c.status)==="failed"&&E("failed"),!o)return()=>!1;console.log('[socket] connecting to "'.concat(o,'" room...'));let e=x(j,{transports:["websocket"]});return e.on("connect",()=>{console.log("[socket] connected:",e.connected,"(ROOM: ".concat(o,")")),e.emit("join",{room:o}),e.on("message",t=>{let{action:n,message:l}=t;console.log("[socket] message:",{action:n,message:l}),l&&(A(e=>[...e,y(l)]),((null==l?void 0:l.toLowerCase().indexOf("command failed with exit code 1"))>-1||(null==l?void 0:l.toLowerCase().indexOf("[error]"))>-1)&&(E("failed"),w(!0))),"failed"===n&&(E("failed"),w(!0)),"end"===n&&(e.disconnect(),w(!0),E("success"))})}),e.on("disconnect",()=>{console.log("[socket] disconnected !"),A(e=>[...e,"Disconnected with build server."])}),()=>{e.connected&&(console.log("[socket] disconnecting..."),e.disconnect()),A([])}},[null==c?void 0:c.status,p,o]),(0,l.jsxs)("div",{style:{color:C},children:["in_progress"===k&&(0,l.jsxs)("h3",{className:"text-xl text-blue-600",children:[(0,l.jsx)(a.Z,{})," Building..."]}),"failed"===k&&(0,l.jsx)("h2",{className:"text-xl text-red-600",children:"Build failed."}),"success"===k&&(0,l.jsx)("h2",{className:"text-xl text-green-600",children:"Congrats, your build process has been finished successfully!"}),(0,l.jsx)(r.Z,{items:b.filter(e=>""!==e).reverse().map((e,t)=>{let n="".concat(e);if(n.toLowerCase().indexOf("error")>-1)return{dot:(0,l.jsx)(s.Z,{className:"text-red-600"}),children:(0,l.jsx)("span",{className:"text-red-600",children:(0,u.ZP)("".concat(e))})};if(n.indexOf("http://")>-1||n.indexOf("https://")>-1){console.log("msg :>> ",n);let e=n.split(" "),t=e.map(e=>e.indexOf("http://")>-1||e.indexOf("https://")>-1?'<a href="'.concat(e,'" target="_blank" style="color: #008dff">').concat(e,"</a>"):e).join(" ");return{children:(0,u.ZP)(t)}}return{children:(0,u.ZP)("".concat(e))}})})]})}},10340:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var l=n(7094),a=n(50959);let s=()=>{let e=(0,l.useRouter)(),t=e.asPath,n=new URLSearchParams(e.asPath.split("?")[1]),s=Object.fromEntries(n),[i,r]=(0,a.useState)(s),o=t=>{let n={...i};return t.forEach(e=>{delete n[e]}),r(n),e.push(e.pathname,{query:n}),i},c=()=>{let e=Object.keys(i);return o(e)};return(0,a.useEffect)(()=>{if(e.isReady){if(-1===t.indexOf("?")){c();return}r(s)}},[e.asPath,e.isReady]),[i,{setQuery:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={...i,...t};return r(n),e.push("".concat(e.pathname),{query:n}),n},deleteQuery:o,deleteAllQueryKeys:c}]}},65438:function(e,t,n){"use strict";n.d(t,{Jl:function(){return r}});var l=n(11527),a=n(54162),s=n(50959);let i=(0,s.createContext)({sidebarCollapsed:!1}),r=()=>{let e=(0,s.useContext)(i);return e};t.ZP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.F)(),[n,r]=(0,s.useState)(!1),o=e=>void 0!==e?r(e):r(e=>!e);return(0,l.jsx)(i.Provider,{value:{sidebarCollapsed:n,toggleSidebar:o,responsive:t},children:e.children})}},42789:function(e,t,n){"use strict";n.d(t,{o:function(){return tQ}});var l,a=n(11527),s=n(72096),i=n(75616),r=n(99678),o=n(89335),c=n(32699),u=n.n(c),d=n(72123),m=n.n(d);let p=e=>{let{gaIds:t}=e;return(0,c.isEmpty)(t)?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m(),{src:"https://www.googletagmanager.com/gtag/js?id=".concat(t[0]),strategy:"afterInteractive"}),(0,a.jsx)(m(),{id:"google-analytics",strategy:"afterInteractive",children:"\n                window.dataLayer = window.dataLayer || [];\n                function gtag(){window.dataLayer.push(arguments);}\n                gtag('js', new Date());\n                \n                ".concat(t.map(e=>"gtag('config', '".concat(e,"');\n")),"\n                ")})]})};var g=n(93659),h=n(7094),v=n(50959),x=n(40376),f=n(10479),j=n(34380),y=n(34898),b=n(15985),A=n(1337),k=n(70759),E=n(18067),Z=n(74645),w=n(54452),C=n(98001),N=n(78104),S=n(3513),P=n(90859),Q=n(91003),I=n(68834),B=n(9036),F=n(62789),R=n(62973),_=n.n(R),L=n(77665),T=n(65438);let U=[{key:"menu/",icon:(0,a.jsx)(x.Z,{}),label:"Dashboard"},{key:"menu/project",icon:(0,a.jsx)(f.Z,{}),label:"Projects"},{key:"menu/build",icon:(0,a.jsx)(j.Z,{}),label:"Builds"},{key:"menu/framework",icon:(0,a.jsx)(y.Z,{}),label:"Frameworks"},{key:"menu/git",icon:(0,a.jsx)(b.Z,{}),label:"Git Providers"},{key:"menu/monitor",icon:(0,a.jsx)(A.Z,{}),label:"Monitoring",children:[{key:"menu/monitor/cluster",label:"Clusters",disabled:!0},{key:"menu/monitor/node",label:"Nodes"},{key:"menu/monitor/namespace",label:"Namespaces"},{key:"menu/monitor/service",label:"Services"},{key:"menu/monitor/ingress",label:"Ingresses"},{key:"menu/monitor/deployment",label:"Deployments"},{key:"menu/monitor/pod",label:"Pods"},{key:"menu/monitor/secret",label:"Secrets",disabled:!0},{key:"menu/monitor/configmap",label:"ConfigMaps",disabled:!0},{key:"menu/monitor/volume",label:"Persistent Volumes",disabled:!0},{key:"menu/monitor/certmanager",label:"Cert-Manager CRDs",disabled:!0}]},{key:"menu/infrastructure",icon:(0,a.jsx)(k.Z,{}),label:"Infrastructure",children:[{key:"menu/infrastructure/cloud-provider",icon:(0,a.jsx)(E.Z,{}),label:"Cloud Providers"},{key:"menu/infrastructure/cluster",icon:(0,a.jsx)(Z.Z,{}),label:"K8S Clusters"},{key:"menu/infrastructure/database",icon:(0,a.jsx)(w.Z,{}),label:"Databases"},{key:"menu/infrastructure/registry",icon:(0,a.jsx)(C.Z,{}),label:"Container Registries"}]},{key:"menu/workspace",icon:(0,a.jsx)(N.Z,{}),label:"Workspace",children:[{key:"menu/workspace/users",icon:(0,a.jsx)(S.Z,{}),label:"Users"},{key:"menu/workspace/teams",icon:(0,a.jsx)(P.Z,{}),label:"Teams"},{key:"menu/workspace/roles",icon:(0,a.jsx)(Q.Z,{}),label:"Roles"}]},{key:"menu/settings",icon:(0,a.jsx)(I.Z,{}),label:"Settings"}],z=()=>{let e=(0,h.useRouter)(),{sidebarCollapsed:t,toggleSidebar:n,responsive:l}=(0,T.Jl)(),{isDarkMode:s}=(0,o.vs)(),[i]=(0,L.aC)(),r=((null==i?void 0:i.roles)||[]).filter(e=>{var t;return e.workspace===(null===(t=i.activeWorkspace)||void 0===t?void 0:t._id)});r[0];let u="menu/".concat((0,c.trimStart)(e.pathname,"/").split("/")[0]),d="menu".concat((0,c.trimEnd)(e.pathname,"/")),m=(0,v.useMemo)(()=>(null==window?void 0:window.innerWidth)>=728,[null==window?void 0:window.innerWidth]);(0,v.useEffect)(()=>{(null==window?void 0:window.innerWidth)<728&&!t&&n&&n(!0)},[null==window?void 0:window.innerWidth]);let p=t=>{let n=(0,c.trimStart)(t.key,"menu");e.push(n)};return(0,a.jsxs)(F.ZP,{theme:"light",collapsible:m,collapsed:t,onCollapse:e=>n&&n(e),breakpoint:"lg",width:250,style:{height:"100%"},collapsedWidth:(null==l?void 0:l.md)?"50":"0",children:[t?(0,a.jsx)("div",{className:"mx-auto my-5 w-[32px]",children:(0,a.jsx)(_(),{href:"/",children:(0,a.jsx)("img",{src:s?"".concat(e.basePath,"/assets/images/diginext-icon-white.svg"):"".concat(e.basePath,"/assets/images/diginext-icon-black.svg"),alt:"Diginext Logo"})})}):(0,a.jsx)("div",{className:"mx-auto my-5 w-36",children:(0,a.jsx)(_(),{href:"/",children:(0,a.jsx)("img",{src:s?"".concat(e.basePath,"/assets/images/diginext_logo_white.svg"):"".concat(e.basePath,"/assets/images/diginext_logo.svg"),alt:"Diginext Logo"})})}),(0,a.jsx)(B.Z,{mode:"inline",inlineCollapsed:t,defaultOpenKeys:[u],defaultSelectedKeys:[u,d],items:U,onSelect:p})]})};var D=n(26079),V=n(58828),O=n(95065),K=n(40091),J=n(48747),q=n(36865),M=n(58699),X=n(61663),Y=n(10340),H=n(54162),G=n(20254);let W=(0,v.createContext)({drawerVisibility:{lv1:!1,lv2:!1},toggleDrawer:(e,t)=>{},showDrawer:(e,t)=>{},closeDrawer:e=>{}}),$=()=>{let e=(0,v.useContext)(W);return e};var ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,v.useState)({lv1:!1,lv2:!1}),[l,s]=(0,v.useState)(),[i,r]=(0,v.useState)(),[o,{setQuery:c,deleteQuery:u,deleteAllQueryKeys:d}]=(0,Y.o)(),m=(0,H.F)(),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lv1",t=arguments.length>1?arguments[1]:void 0;return void 0!==t?n(n=>{let l={...n};return l[e]=t,l}):n(t=>{let n={...t};return n[e]=!t[e],n})},g=e=>{e?(u([e]),p(e,!1)):(d(),n({lv1:!1,lv2:!1}))},h=()=>{d(),n(e=>({...e,lv1:!1}))},x=()=>{u(["lv2"]),n(e=>({...e,lv2:!1}))},f=(e,t)=>{switch(null==t?void 0:t.level){case 1:s(e),p("lv1",!0);break;case 2:r(e),p("lv2",!0)}};return(0,a.jsxs)(W.Provider,{value:{drawerVisibility:t,toggleDrawer:p,showDrawer:f,closeDrawer:g},children:[e.children,(0,a.jsxs)(G.Z,{title:null==l?void 0:l.title,placement:"right",onClose:h,open:t.lv1,width:(null==m?void 0:m.md)?736:"100%",bodyStyle:{overflow:"auto",overflowX:"hidden",flex:"auto",padding:0},destroyOnClose:!0,children:[null==l?void 0:l.content,(0,a.jsx)(G.Z,{title:null==i?void 0:i.title,placement:"right",onClose:x,open:t.lv2,width:(null==m?void 0:m.md)?736:"100%",bodyStyle:{overflow:"auto",overflowX:"hidden",flex:"auto",padding:0},destroyOnClose:!0,children:null==i?void 0:i.content})]})]})},et=n(59767),en=n(32105),el=n(10684),ea=n(28501),es=n(57194),ei=n(74767),er=n(76657),eo=n(38101),ec=n(5029),eu=n(87514);let ed=e=>{let t;let{compact:n=!1,name:l,setValue:s,initialValue:i,apiStatus:r}=e,o=O.Z.useFormInstance(),c=()=>o.submit(),u=()=>{o.setFieldValue(l,i),s(i)},d=()=>{o.setFieldValue(l,""),s(void 0)};return r&&"loading"===r&&(t=(0,a.jsx)(en.Z,{})),r&&"error"===r&&(t=(0,a.jsx)(er.Z,{})),r&&"success"===r&&(t=(0,a.jsx)(eo.Z,{})),(0,a.jsxs)(q.Z,{size:n?4:8,children:[t,(0,a.jsx)(M.ZP,{type:"primary",icon:n&&(0,a.jsx)(el.Z,{}),onClick:()=>c(),children:!n&&"Save"}),(0,a.jsx)(M.ZP,{icon:n&&(0,a.jsx)(ec.Z,{}),onClick:()=>d(),children:!n&&"Clear"}),(0,a.jsx)(M.ZP,{danger:!0,icon:n&&(0,a.jsx)(eu.Z,{}),onClick:()=>u(),children:!n&&"Reset"})]})},em=e=>{let t;let{label:n,postLabel:l,name:s,required:i=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:c,initialValue:u,value:d,status:m,autoSave:p=!1,isNew:g,lang:h=[],height:x="350px",disabled:f=!1,visible:j=!0}=e,y=O.Z.useFormInstance(),[b,A]=(0,v.useState)(null!=d?d:c),k=(0,o.Nr)(b,500),{isDarkMode:E}=(0,o.vs)(),Z=e=>{y.setFieldValue(s,e),A(e)},w=()=>y.submit();return(0,v.useEffect)(()=>{y.setFieldValue(s,d),A(d||"")},[d]),(0,v.useEffect)(()=>{k!==d&&p&&!g&&w()},[k]),m&&"error"===m[s]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),m&&"loading"===m[s]&&(t=(0,a.jsx)(en.Z,{})),m&&"success"===m[s]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z,{size:"small",children:[n,t]}),name:s,rules:[{required:i,message:r}],style:{display:j?"block":"none"},children:(0,a.jsxs)(q.Z,{direction:"vertical",className:"w-full",children:[(0,a.jsx)(ei.ZP,{height:x,theme:E?"dark":"light",extensions:[...h.map(e=>es.RI[e]()),(0,ea.X)({})],onChange:Z,value:b,editable:!f}),l,!f&&!p&&!g&&(0,a.jsx)(ed,{initialValue:u,name:s,setValue:A})]})})};var ep=n(87175);let eg=e=>{let t;let{label:n,postLabel:l,name:s,required:i=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:c,initialValue:u,value:d,status:m,autoSave:p=!0,isNew:g,placeholder:h,disabled:x=!1,visible:f=!0,wrapperStyle:j}=e,y=O.Z.useFormInstance(),[b,A]=(0,v.useState)(null!=d?d:c),k=(0,o.Nr)(b,500),E=e=>{let t=e.currentTarget.value;y.setFieldValue(s,t),A(t)},Z=()=>y.submit();return(0,v.useEffect)(()=>{y.setFieldValue(s,d),A(d)},[d]),(0,v.useEffect)(()=>{k!==d&&p&&!g&&Z()},[k]),m&&"error"===m[s]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),m&&"loading"===m[s]&&(t=(0,a.jsx)(en.Z,{})),m&&"success"===m[s]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z.Compact,{direction:"vertical",children:[(0,a.jsxs)(q.Z,{size:"small",children:[n,t]}),l]}),name:s,rules:[{required:i,message:r}],style:{display:f?"block":"none",...j},children:(0,a.jsxs)(q.Z,{direction:"vertical",className:"w-full",children:[(0,a.jsx)(ep.Z,{autoComplete:"off",placeholder:h,onChange:E,value:b,disabled:x}),!p&&!g&&(0,a.jsx)(ed,{initialValue:u,name:s,setValue:A})]})})};var eh=n(81155),ev=n(78177);let ex=e=>{let t;let{label:n,postLabel:l,name:s,required:i=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:u,initialValue:d,value:m,status:p,autoSave:g=!0,isNew:h,placeholder:x,disabled:f=!1,visible:j=!0,wrapperStyle:y}=e,b=O.Z.useFormInstance(),[A,k]=(0,v.useState)(null!=m?m:u),E=(0,o.Nr)(A,500),Z=e=>{let t=(null!=A?A:0)+e;b.setFieldValue(s,t),k(t)},w=e=>{let t=(null!=A?A:0)-e;t<0&&(t=0),b.setFieldValue(s,t),k(t)},C=e=>{let t=(0,c.toNumber)(e.currentTarget.value);b.setFieldValue(s,t),k(t)},N=()=>b.submit();return(0,v.useEffect)(()=>{b.setFieldValue(s,m),k(m)},[m]),(0,v.useEffect)(()=>{E!==m&&g&&!h&&N()},[E]),p&&"error"===p[s]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),p&&"loading"===p[s]&&(t=(0,a.jsx)(en.Z,{})),p&&"success"===p[s]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z.Compact,{direction:"vertical",children:[(0,a.jsxs)(q.Z,{size:"small",children:[n,t]}),l]}),name:s,rules:[{required:i,message:r}],style:{display:j?"block":"none",...y},children:(0,a.jsxs)(q.Z,{direction:"vertical",className:"w-full",children:[(0,a.jsx)(ep.Z,{size:"small",autoComplete:"off",placeholder:x,onChange:C,value:A,disabled:f,prefix:(0,a.jsx)(M.ZP,{type:"link",icon:(0,a.jsx)(eh.Z,{}),onClick:()=>w(1)}),suffix:(0,a.jsx)(M.ZP,{type:"link",icon:(0,a.jsx)(ev.Z,{}),onClick:()=>Z(1)}),style:{textAlign:"center"}}),!g&&!h&&(0,a.jsx)(ed,{initialValue:d,name:s,setValue:k})]})})};var ef=n(45545),ej=n(34282);let ey=e=>{let t;let{label:n,postLabel:l,name:s,required:i=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:c,initialValue:u,value:d,status:m,autoSave:p=!0,isNew:g,placeholder:h,disabled:x=!1,visible:f=!0,wrapperStyle:j}=e,y=O.Z.useFormInstance(),[b,A]=(0,v.useState)(null!=d?d:c),k=(0,o.Nr)(b,500),E=e=>{let t=e.currentTarget.value;y.setFieldValue(s,t),A(t)},Z=()=>y.submit();return(0,v.useEffect)(()=>{y.setFieldValue(s,d),A(d)},[d]),(0,v.useEffect)(()=>{k!==d&&p&&!g&&Z()},[k]),m&&"error"===m[s]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),m&&"loading"===m[s]&&(t=(0,a.jsx)(en.Z,{})),m&&"success"===m[s]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z.Compact,{direction:"vertical",children:[(0,a.jsxs)(q.Z,{size:"small",children:[n,t]}),l]}),name:s,rules:[{required:i,message:r}],style:{display:f?"block":"none",...j},children:(0,a.jsxs)(q.Z,{direction:"vertical",className:"w-full",children:[(0,a.jsx)(ep.Z.Password,{autoComplete:"off",placeholder:h,onChange:E,value:b,disabled:x,iconRender:e=>e?(0,a.jsx)(ef.Z,{}):(0,a.jsx)(ej.Z,{})}),!p&&!g&&(0,a.jsx)(ed,{initialValue:u,name:s,setValue:A})]})})};var eb=n(88758);let eA=e=>{let t;let{className:n,style:l,label:s,postLabel:i,name:r,required:c=!1,requiredMessage:u="Please input your ".concat(s),defaultValue:d,initialValue:m,value:p,status:g,autoSave:h=!0,isNew:x,options:f,onChange:j,disabled:y=!1,visible:b=!0,wrapperStyle:A}=e,k=O.Z.useFormInstance(),[E,Z]=(0,v.useState)(null!=p?p:d),w=(0,o.Nr)(E,500),C=e=>{k.setFieldValue(r,e),Z(e),j&&j(e)},N=()=>k.submit();return(0,v.useEffect)(()=>{k.setFieldValue(r,p),Z(p),j&&j(p)},[p]),(0,v.useEffect)(()=>{w!==p&&h&&!x&&N()},[w]),g&&"error"===g[r]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),g&&"loading"===g[r]&&(t=(0,a.jsx)(en.Z,{})),g&&"success"===g[r]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z,{size:"small",children:[s,t]}),name:r,rules:[{required:c,message:u}],style:{display:b?"block":"none",...A},children:(0,a.jsxs)(q.Z.Compact,{direction:"horizontal",className:"w-full",children:[(0,a.jsx)(eb.Z,{className:n,style:l,value:E,onChange:C,options:f,disabled:y}),i,!h&&!x&&(0,a.jsx)(ed,{initialValue:m,name:r,setValue:Z})]})})};var ek=n(13740),eE=n(34010);let eZ=e=>{let t;let{className:n,style:l,label:s,postLabel:i,name:r,required:u=!1,requiredMessage:d="Please input your ".concat(s),value:m=[],defaultValue:p=[],initialValue:g=[],status:h={},autoSave:x=!0,isNew:f,options:j,onChange:y,disabled:b=!1,visible:A=!0}=e,k=O.Z.useFormInstance(),[E,Z]=(0,v.useState)(""),[w,C]=(0,v.useState)(null!=m?m:p),N=(0,o.Nr)(w,500),S=e=>{let t=function(e){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return t}(w||[]),n=t.indexOf(e)>-1?t:[...t,e];k.setFieldValue(r,n),C(n),Z(""),h[r]="loading",y&&y(e)},P=e=>{let t=w?w.filter((t,n)=>n!==e):[];C(t),k.setFieldValue(r,t),y&&y(t)},Q=()=>k.submit();return(0,v.useEffect)(()=>{let e=null!=m?m:[];m&&!(0,c.isArray)(m)&&void 0!==m[0]&&(e=[],Object.entries(m).forEach(t=>{let[,n]=t;console.log("val :>> ",n),"string"==typeof n&&e.push(n)})),k.setFieldValue(r,e),C(e)},[m]),(0,v.useEffect)(()=>{N!==m&&x&&!f&&Q()},[N]),h&&"error"===h[r]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),h&&"loading"===h[r]&&(t=(0,a.jsx)(en.Z,{})),h&&"success"===h[r]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z,{size:"small",children:[s,t]}),name:r,rules:[{required:u,message:d}],style:{display:A?"block":"none"},children:(0,a.jsx)(eE.ZP,{bordered:!0,size:"small",dataSource:null!=w?w:[],footer:(0,a.jsx)(q.Z.Compact,{style:{width:"100%"},children:(0,a.jsx)(ep.Z.Search,{value:E,onChange:e=>Z(e.currentTarget.value),loading:h&&"loading"===h[r],enterButton:(0,a.jsx)(M.ZP,{icon:(0,a.jsx)(ev.Z,{}),onClick:()=>S(E),children:"Add"})})}),renderItem:(e,t)=>(0,a.jsx)(eE.ZP.Item,{actions:[(0,a.jsx)(M.ZP,{icon:(0,a.jsx)(ek.Z,{}),onClick:()=>P(t)},"".concat(s,"-delete-btn"))],children:(0,a.jsx)(eE.ZP.Item.Meta,{title:(0,a.jsx)("span",{children:e})})})})}),i,!x&&!f&&(0,a.jsx)(ed,{initialValue:g,name:r,setValue:C})]})},{TextArea:ew}=ep.Z,eC=e=>{let t;let{label:n,postLabel:l,name:s,required:i=!1,requiredMessage:r="Please input your ".concat(n),defaultValue:c,initialValue:u,value:d,status:m,autoSave:p=!0,isNew:g,disabled:h=!1,visible:x=!0}=e,f=O.Z.useFormInstance(),[j,y]=(0,v.useState)(null!=d?d:c),b=(0,o.Nr)(j,500),A=e=>{let t=e.currentTarget.value;f.setFieldValue(s,t),y(t)},k=()=>f.submit();return(0,v.useEffect)(()=>{f.setFieldValue(s,d),y(d)},[d]),(0,v.useEffect)(()=>{b!==d&&p&&!g&&k()},[b]),m&&"error"===m[s]&&(t=(0,a.jsxs)("span",{className:"text-red-600",children:[(0,a.jsx)(et.Z,{}),"Failed"]})),m&&"loading"===m[s]&&(t=(0,a.jsx)(en.Z,{})),m&&"success"===m[s]&&(t=(0,a.jsx)(el.Z,{color:"green"})),(0,a.jsx)(O.Z.Item,{label:(0,a.jsxs)(q.Z,{size:"small",children:[n,t]}),name:s,rules:[{required:i,message:r}],style:{display:x?"block":"none"},children:(0,a.jsxs)(q.Z,{direction:"vertical",className:"w-full",children:[(0,a.jsx)(ew,{rows:3,onChange:A,value:j,disabled:h}),l,!p&&!g&&(0,a.jsx)(ed,{compact:!0,initialValue:u,name:s,setValue:y})]})})},{useApp:eN}=r.Z,eS=e=>{let{children:t,className:n="",name:l,configs:s=[]}=e,r=eN(),{useSlugApi:o,useCreateApi:d,useUpdateApi:m}=e.api||{},{data:p,status:g}=o||{},[h,x]=m||[],[f,j]=d||[],[y,{deleteAllQueryKeys:b}]=(0,Y.o)(),[A]=O.Z.useForm(),[k,E]=(0,v.useState)(),Z=void 0===p,{token:{colorBgContainer:w}}=i.Z.useToken(),{closeDrawer:C}=$(),N=async e=>{let t;console.log(Z?"[NEW]":"[UPDATE]","Submit:",e);let n={...e};if(Z){if(!f)return;Object.entries(n).forEach(e=>{let[t,l]=e;t.indexOf(".")>-1&&(delete n[t],u().set(n,t,l))}),console.log("[NEW] result :>> ",t=await f(n)),(null==t?void 0:t.status)&&(r.notification.success({message:"Congrats!",description:"Item has been created successfully."}),C())}else{if(!h)return;let e={};Object.entries(n).forEach(t=>{let[l,a]=t;p&&a!==p[l]?e[l]="loading":(delete e[l],delete n[l])}),(0,c.isEmpty)(e)?console.log("[UPDATE] Skipped, nothing new to update."):(console.log("[UPDATE] result :>> ",t=await h(n)),Object.entries(n).forEach(n=>{let[l,a]=n;e[l]=(null==t?void 0:t.status)===0?"error":"success"})),console.log("statuses :>> ",e),E(e)}},S=e=>{console.log("Failed:",e)};return(0,a.jsxs)("div",{className:"overflow-x-hidden p-6 pb-16",children:["loading"===g&&!1===Z&&(0,a.jsx)(K.Z,{active:!0}),"loading"===j&&!0===Z&&(0,a.jsx)(K.Z,{active:!0}),"error"===g&&!1===Z&&(0,a.jsx)(J.Z,{message:"Unable to get data at the moment.",type:"error",showIcon:!0}),"error"===j&&!0===Z&&(0,a.jsx)(J.Z,{message:"Unable to submit data at the moment.",type:"error",showIcon:!0}),("success"===g||!0===Z&&"loading"!==j)&&(0,a.jsxs)(O.Z,{className:["h-full","overflow-x-hidden",n].join(" "),layout:"vertical",form:A,onFinish:N,onFinishFailed:S,autoComplete:"off",children:[s.map(e=>{var t,n,s,i,r,o;switch(e.type){case"input":return(0,a.jsx)(eg,{...e,value:null!==(t=e.value)&&void 0!==t?t:p?u().get(p,e.name):"",status:k,isNew:Z},"".concat(l,"-").concat(e.name));case"password":return(0,a.jsx)(ey,{...e,value:null!==(n=e.value)&&void 0!==n?n:p?u().get(p,e.name):"",status:k,isNew:Z},"".concat(l,"-").concat(e.name));case"number":return(0,a.jsx)(ex,{...e,value:null!==(s=e.value)&&void 0!==s?s:p?u().get(p,e.name):0,status:k,isNew:Z},"".concat(l,"-").concat(e.name));case"textarea":return(0,a.jsx)(eC,{...e,value:null!==(i=e.value)&&void 0!==i?i:p?u().get(p,e.name):"",status:k,isNew:Z},"".concat(l,"-").concat(e.name));case"code-editor":return(0,a.jsx)(em,{...e,value:null!==(r=e.value)&&void 0!==r?r:p?u().get(p,e.name):"",status:k,isNew:Z},"".concat(l,"-").concat(e.name));case"select":{let{displayKey:t}=e;void 0===t&&(t="name");let n=u().get(p,t?"".concat(t):e.name);return(0,a.jsx)(eA,{...e,style:{flex:"auto",...null==e?void 0:e.style},value:n,status:k,isNew:Z},"".concat(l,"-").concat(e.name))}case"list_string":return(0,a.jsx)(eZ,{...e,value:null!==(o=e.value)&&void 0!==o?o:p?u().get(p,e.name):[],status:k,isNew:Z},"".concat(l,"-").concat(e.name));default:return null}}),t,Z&&(0,a.jsx)("div",{className:"fixed bottom-0 w-full px-6 py-3",style:{backgroundColor:w},children:(0,a.jsxs)(q.Z,{children:[(0,a.jsx)(O.Z.Item,{style:{marginBottom:0},children:(0,a.jsx)(M.ZP,{type:"primary",htmlType:"submit",children:"Submit"})}),(0,a.jsx)(X.Z,{title:"Are you sure?",onConfirm:()=>b(),okText:"Yes",cancelText:"No",children:(0,a.jsx)(M.ZP,{type:"primary",danger:!0,children:"Discard"})})]})})]})]})};var eP=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{cluster_slug:e}]=(0,Y.o)(),t=(0,V.pD)(e,{populate:"owner,provider"}),{data:n}=t,l=(0,V.ve)({filter:{id:null==n?void 0:n._id}}),s=(0,V.CN)(),{data:{list:i=[]}={}}=(0,D.nu)(),[r,o]=(0,v.useState)(""),c=[{type:"input",label:"Name",name:"name",placeholder:"Cluster name"},{type:"input",label:"Short name",name:"shortName",placeholder:"Short name"},{type:"select",label:"Cloud Provider",name:"provider",placeholder:"Cloud Provider",displayKey:"provider.name",options:i.map(e=>({label:e.name||"",value:e._id})),onChange:e=>{var t;return o((null===(t=i.find(t=>t._id===e))||void 0===t?void 0:t.shortName)||"")}},{type:"input",label:"Primary IP",name:"primaryIP",placeholder:"192.168.10.50"},{type:"input",label:"Primary domain",name:"primaryDomain",placeholder:"example.com"},{type:"input",label:"Project ID (Google)",name:"projectID",placeholder:"my-project-id",visible:"gcloud"===r},{type:"input",label:"Region (Google)",name:"region",placeholder:"asia-southeast1",visible:"gcloud"===r},{type:"input",label:"Zone (Google)",name:"zone",placeholder:"asia-southeast1-a",visible:"gcloud"===r},{type:"code-editor",lang:["json"],label:"Service Account (JSON)",name:"serviceAccount",visible:"gcloud"===r},{type:"code-editor",lang:["yaml"],label:"KubeConfig (YAML)",name:"kubeConfig",visible:"custom"===r},{type:"textarea",label:"API Access Token",name:"apiAccessToken",visible:"digitalocean"===r}];return(0,a.jsx)(eS,{name:"cluster",api:{useSlugApi:t,useUpdateApi:l,useCreateApi:s},configs:c})},eQ=n(81043);let eI=["gcloud","digitalocean","dockerhub"].map(e=>{switch(e){case"digitalocean":return{name:"Digital Ocean Registry",slug:"digitalocean"};case"gcloud":return{name:"Google Container Registry",slug:"gcloud"};case"dockerhub":return{name:"Docker Registry",slug:"dockerhub"};default:return}}),eB=["bitbucket","github"].map(e=>{switch(e){case"bitbucket":return{name:"Bitbucket",slug:"bitbucket"};case"github":return{name:"Github",slug:"github"};default:return{name:"Unknown",slug:"unknown"}}}),eF=["none","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"],eR=["letsencrypt","custom","none"];var e_=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{framework_slug:e}]=(0,Y.o)(),t=(0,eQ.FX)(e,{populate:"owner,git"}),{data:n}=t,l=(0,eQ.fR)({filter:{id:null==n?void 0:n._id}}),s=(0,eQ.D$)(),i=[{type:"input",label:"Name",name:"name",placeholder:"My Starter Template"},{type:"select",label:"Git Provider",name:"gitProvider",displayKey:"gitProvider",style:{width:250},options:eB.map(e=>({label:null==e?void 0:e.name,value:null==e?void 0:e.slug}))},{type:"input",label:"Repository HTTPS URL",name:"repoURL",placeholder:"https://github.com/user/repo.git"},{type:"input",label:"Repository SSH URL",name:"repoSSH",placeholder:"git@github.com:user/repo.git"},{type:"input",label:"Main branch",name:"mainBranch",placeholder:"main"}];return(0,a.jsx)(eS,{name:"framework",api:{useSlugApi:t,useUpdateApi:l,useCreateApi:s},configs:i})},eL=n(95420),eT=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{git_provider_slug:e}]=(0,Y.o)(),t=(0,eL.o0)(e,{populate:"owner"}),{data:n}=t,l=(0,eL.Ve)({filter:{id:null==n?void 0:n._id}}),s=(0,eL.xP)();return(0,a.jsx)(eS,{name:"gitProvider",api:{useSlugApi:t,useUpdateApi:l,useCreateApi:s},configs:[{type:"input",label:"Name",name:"name",placeholder:"Github"},{type:"input",label:"Host",name:"host",placeholder:"github.com"},{type:"input",label:"Workspace name",name:"gitWorkspace",placeholder:"my-organization"},{type:"input",label:"Workspace URL",name:"repo.url",placeholder:"https://github.com/my-organization"},{type:"input",label:"Workspace SSH Prefix",name:"repo.sshPrefix",placeholder:"git@github.com:my-organization"}]})},eU=n(65577),ez=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{lv1:e,registry_slug:t}]=(0,Y.o)(),n=(0,eU.EL)(t,{populate:"owner"}),{data:l}=n,s=(0,eU.Xn)({filter:{id:null==l?void 0:l._id}}),i=(0,eU.Bl)(),[r,o]=(0,v.useState)();console.log("providerShortName :>> ",r),(0,v.useEffect)(()=>{(null==l?void 0:l.provider)&&o(l.provider)},[null==l?void 0:l.provider]);let c=[{type:"input",label:"Name",name:"name",placeholder:"My Container Registry",required:!0},{type:"select",label:"Cloud Provider",name:"provider",displayKey:"name",visible:"new"===e,options:eI.map(e=>({label:(null==e?void 0:e.name)||"",value:null==e?void 0:e.slug})),onChange:e=>{var t;return o((null===(t=eI.find(t=>(null==t?void 0:t.slug)===e))||void 0===t?void 0:t.slug)||void 0)}},{type:"code-editor",lang:["yaml","json"],label:"Google Service Account (JSON)",name:"serviceAccount",visible:"gcloud"===r,required:"gcloud"===r},{type:"input",label:"Registry Host",name:"host",visible:"gcloud"===r,placeholder:"gcloud"===r?"gcr.io":""},{type:"password",label:"DigitalOcean API access token",name:"apiAccessToken",visible:"digitalocean"===r,required:"digitalocean"===r},{type:"input",label:"Docker username",name:"dockerUsername",required:"dockerhub"===r,visible:"dockerhub"===r},{type:"password",label:"Docker password",name:"dockerPassword",required:"dockerhub"===r,visible:"dockerhub"===r},{type:"input",label:"Organization",name:"organization",visible:"dockerhub"===r}];return(0,a.jsx)(eS,{name:"registry",api:{useSlugApi:n,useUpdateApi:s,useCreateApi:i},configs:c})},eD=n(77043),eV=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{role:e}]=(0,Y.o)(),t=(0,eD.dZ)(e,{populate:"owner"}),{data:n}=t||{},l=(0,eD.aB)({filter:{id:null==n?void 0:n._id}}),s=(0,eD.m1)(),i=[{type:"input",label:"Name",name:"name",placeholder:"Role's name",disabled:void 0===n||void 0===n.type||["administrator","moderator","member"].includes(n.type)}];return(0,a.jsx)(eS,{name:"roles",api:{useSlugApi:t,useUpdateApi:l,useCreateApi:s},configs:i})},eO=n(24483),eK=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let[{user:e}]=(0,Y.o)(),t=(0,eO.hz)(e,{populate:"roles"}),{data:n}=t||{},l=(0,eO.yl)({filter:{id:null==n?void 0:n._id},populate:"roles"}),s=(0,eO.En)({populate:"roles"}),[i,r]=(0,eO.Rz)(),{data:{list:o=[]}={}}=(0,eD.bd)(),c=o[0],[u,d]=(0,v.useState)(c),m=[{type:"input",label:"Name",name:"name",placeholder:"User's name"},{type:"select",label:"Role",name:"roles",style:{width:250},displayKey:"roles.0._id",options:o.map(e=>({label:e.name||"",value:e._id}))}];return(0,a.jsx)(eS,{name:"user",api:{useSlugApi:t,useUpdateApi:l,useCreateApi:s},configs:m})};let eJ=()=>{let e;let[{type:t}]=(0,Y.o)();switch(t){case"cluster":e=(0,a.jsx)(eP,{});break;case"framework":e=(0,a.jsx)(e_,{});break;case"git-provider":e=(0,a.jsx)(eT,{});break;case"registry":e=(0,a.jsx)(ez,{});break;case"user":e=(0,a.jsx)(eK,{});break;case"role":e=(0,a.jsx)(eV,{})}return(0,a.jsx)("div",{className:"h-full",children:e})};var eq=n(14198);let eM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.jsxs)("div",{children:[e.children,(0,a.jsxs)("div",{className:"border-t border-gray-300 py-4 text-center text-xs",children:["\xa9 Copyright ",new Date().getFullYear()," ",eq.XL.title,". Powered by ",(0,a.jsx)("a",{href:"https://wearetopgroup.com",children:"TOP GROUP"}),"."]})]})};var eX=n(63386),eY=n(85153),eH=n(75702),eG=n(70861),eW=n(94521),e$=n(48274),e0=n(12450);let{Header:e1}=g.Z,e2=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onSidebarChange:t}=e,{isDarkMode:n,toggle:l}=(0,o.vs)(),[s]=(0,L.aC)(),{token:{colorBgContainer:r}}=i.Z.useToken(),{sidebarCollapsed:c,toggleSidebar:u}=(0,T.Jl)();return(0,v.useEffect)(()=>t&&t(c),[c]),(0,a.jsx)(e1,{className:"w-full",style:{position:"sticky",top:0,paddingInline:24,lineHeight:"48px",height:48,zIndex:100,background:r},children:(0,a.jsxs)("div",{className:"flex ",children:[(0,a.jsx)("div",{className:"grow",children:(0,a.jsx)("div",{className:"hidden md:block",children:v.createElement(c?eX.Z:eY.Z,{className:"trigger",onClick:()=>u&&u()})})}),(0,a.jsxs)(q.Z,{size:4,children:[(0,a.jsx)(M.ZP,{type:"text",icon:(0,a.jsx)(eH.Z,{})}),(0,a.jsx)(M.ZP,{type:"text",icon:(0,a.jsx)(eG.Z,{})}),(0,a.jsx)(M.ZP,{type:"text",style:{fontSize:18,verticalAlign:"middle",paddingTop:0},onClick:l,icon:n?(0,a.jsx)("i",{className:"ri-sun-line inline-block"}):(0,a.jsx)("i",{className:"ri-moon-line inline-block"})}),(0,a.jsx)(e$.Z,{placement:"bottomRight",trigger:"click",content:(0,a.jsxs)(q.Z,{direction:"vertical",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"mb-0",children:(0,a.jsx)("strong",{children:null==s?void 0:s.name})}),(0,a.jsx)("p",{className:"mb-0",children:null==s?void 0:s.email})]}),(0,a.jsxs)(q.Z.Compact,{direction:"vertical",className:"w-full",children:[(0,a.jsx)(M.ZP,{href:"/profile",children:"Profile"}),(0,a.jsx)(M.ZP,{href:"/workspace/select",children:"Switch workspace"}),(0,a.jsx)(M.ZP,{href:"/logout",children:"Sign out"})]})]}),children:(0,a.jsxs)("div",{className:"cursor-pointer align-middle",children:[(0,a.jsx)(e0.C,{style:{lineHeight:"20px"},icon:(0,a.jsx)(S.Z,{style:{verticalAlign:"middle"}}),src:null==s?void 0:s.image,size:24}),(0,a.jsx)("span",{className:"ml-2 hidden md:inline-block",children:null==s?void 0:s.name}),(0,a.jsx)(eW.Z,{className:"ml-2"})]})})]})]})})};var e4=n(93147),e5=n(17014),e8=n(74637),e6=n.n(e8),e9=n(14383),e3=n(55282),e7=n.n(e3),te=n(15444),tt=n.n(te),tn=n(50094);n(33939);let tl=n(64814),ta=n(54498);e6().extend(ta),e6().extend(tl);let ts=e=>e7()("".concat(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")),ti=e=>{let{slug:t}=e,[n]=(0,Y.o)(),{app:l=t,env:s}=n,{data:r={},status:o}=(0,tn.un)(l,{filter:{env:s}});console.log({logData:r});let c=Object.keys(r)||[],u=c.filter(e=>e.indexOf(l)>-1)[0],d=u?r[u]:"";console.log({podLogs:d});let m=ts(d),p=m.split("\n").map((e,t)=>e.toString()).filter(e=>"0"!==e);console.log("lines :>> ",p);let{token:{colorText:g}}=i.Z.useToken();return(0,a.jsxs)("div",{style:{color:g},children:["loading"===o&&(0,a.jsx)(K.Z,{active:!0}),0===p.length?(0,a.jsx)(e4.Z,{}):(0,a.jsx)(e5.Z,{items:p.filter(e=>""!==e).reverse().map((e,t)=>{let n="".concat(e);if(n.toLowerCase().indexOf("error")>-1)return{dot:(0,a.jsx)(er.Z,{className:"text-red-600"}),children:(0,a.jsx)("span",{className:"text-red-600",children:(0,e9.ZP)("".concat(e))})};if(n.indexOf("http://")>-1||n.indexOf("https://")){let e=n.split(" "),t=e.map(e=>tt()(e,{require_protocol:!0})?'<a href="'.concat(e,'" target="_blank" style="color: #008dff">').concat(e,"</a>"):e).join(" ");return{children:(0,e9.ZP)(t)}}return{children:(0,e9.ZP)("".concat(e))}})})]})};var tr=n(47255),to=n(31626),tc=n(50267),tu=n(87078),td=n(2401);let tm=()=>{var e,t;let[{project:n,app:l,env:s},{setQuery:i}]=(0,Y.o)(),r=(0,H.F)(),[o,c]=(0,v.useState)("");console.log("sslIssuer :>> ",o);let{closeDrawer:u}=$(),{data:d}=(0,V.x7)({populate:"owner",pagination:{page:0,size:100}}),{list:m=[],pagination:p}=d||{},g=(0,tn.Lw)(l,{filter:{env:s}}),h=(0,tn.i6)({filter:{slug:l,env:s}}),x=[{type:"list_string",label:"Domains",name:"domains"},{type:"select",label:"Container size",name:"size",placeholder:"Container size",displayKey:"size",options:eF.map(e=>({label:e||"",value:e})),wrapperStyle:{float:(null==r?void 0:r.md)?"left":"none",marginRight:(null==r?void 0:r.md)?15:0}},{type:"number",label:"Replicas",name:"replicas",placeholder:"1"},{type:"select",label:"Cluster",name:"cluster",placeholder:"Cluster",displayKey:"cluster",options:m.map(e=>({label:e.name||"",value:e.shortName})),wrapperStyle:{float:(null==r?void 0:r.md)?"left":"none",marginRight:(null==r?void 0:r.md)?15:0}},{type:"input",label:"PORT",name:"port",placeholder:"3000"},{type:"select",label:"SSL Issuer",name:"ssl",placeholder:"letsencrypt",displayKey:"ssl",options:eR.map(e=>({label:e||"",value:e})),wrapperStyle:{float:(null==r?void 0:r.md)?"left":"none",marginRight:(null==r?void 0:r.md)?15:0},onChange:e=>{c(e)}},{type:"input",label:"TLS Secret",name:"tlsSecret",placeholder:"",disabled:"letsencrypt"===o}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden h-80 w-full p-6",children:(0,a.jsx)(tc.Z,{hoverable:!0,className:"relative h-full overflow-hidden",bodyStyle:{height:"100%",padding:0},children:(0,a.jsx)("div",{className:"h-full",style:{backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:(null===(e=g.data)||void 0===e?void 0:e.screenshot)?"url(".concat(null===(t=g.data)||void 0===t?void 0:t.screenshot,")"):"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}})})}),(0,a.jsx)(eS,{name:"deploy_environment",api:{useSlugApi:g,useUpdateApi:h},configs:x,className:"h-auto",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)(tu.Z,{gutter:[16,16],align:"stretch",children:[(0,a.jsx)(td.Z,{span:12,children:(0,a.jsx)(M.ZP,{block:!0,onClick:()=>i({lv2:"build",project:n,app:l}),children:"Builds"})}),(0,a.jsx)(td.Z,{span:12,children:(0,a.jsx)(M.ZP,{block:!0,onClick:()=>i({lv2:"release",project:n,app:l,env:s}),children:"Releases"})}),(0,a.jsx)(td.Z,{span:12,children:(0,a.jsx)(M.ZP,{block:!0,onClick:()=>i({lv2:"env_vars",project:n,app:l,env:s}),children:"Environment Variables"})}),(0,a.jsx)(td.Z,{span:12,children:(0,a.jsx)(M.ZP,{block:!0,onClick:()=>i({lv2:"deployment_yaml",project:n,app:l,env:s}),children:"Deployment YAML"})}),(0,a.jsx)(td.Z,{span:12,children:(0,a.jsx)(M.ZP,{block:!0,onClick:()=>i({lv2:"app_logs",project:n,app:l,env:s}),children:"Application Logs"})})]})})})]})},tp=()=>{let[{project:e,app:t,env:n},{setQuery:l}]=(0,Y.o)(),{closeDrawer:s}=$(),{data:i}=(0,V.x7)({populate:"owner",pagination:{page:0,size:100}}),{list:r=[],pagination:o}=i||{},c=(0,tn.Lw)(t,{filter:{env:n}}),u=(0,tn.i6)({filter:{slug:t,env:n}});return(0,a.jsx)(eS,{name:"deployment_yaml",api:{useSlugApi:c,useUpdateApi:u},configs:[{type:"code-editor",name:"deploymentYaml",label:"Deployment YAML",lang:["yaml"],disabled:!0}],className:"h-auto"})};var tg=n(31620);let th=()=>{var e;let[{env:t,project:n,app:l}]=(0,Y.o)(),{closeDrawer:s}=$(),[i,r]=(0,tn.XS)(),{data:o={},status:u}=(0,tn.im)(l,{populate:"project,owner,workspace"});console.log("EnvVarsNewEdit > app :>> ",o);let d=(0,c.isEmpty)(o)?[]:(null===(e=(o.deployEnvironment||{})[t])||void 0===e?void 0:e.envVars)||[],[m,p]=(0,v.useState)(d),[g]=O.Z.useForm(),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return p([...e])};(0,v.useEffect)(()=>{let e=d;(0,c.isArray)(d)||void 0===d[0]||(e=[],Object.entries(d).forEach(t=>{let[,n]=t;e.push(n)})),console.log("envVars :>> ",d),console.log("initialEnvVars :>> ",e),h(e)},[JSON.stringify(d)]);let x=e=>p(t=>t.filter((t,n)=>e!==n)),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",value:""};return p(t=>[...t,e])},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p(n=>n.map((n,l)=>l===e?{name:t,value:n.value||""}:n))},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p(n=>n.map((n,l)=>l===e?{name:n.name||"",value:t}:n))},b=async e=>{let n;let a={envVars:JSON.stringify(m),slug:l,env:t};i&&(n=await i(a)),console.log("[CREATE_ENV_VARS] result :>> ",n),(null==n?void 0:n.status)&&h(null==n?void 0:n.data)},A=e=>{console.log("Failed:",e)};return(0,a.jsxs)(a.Fragment,{children:["loading"===u&&(0,a.jsx)(K.Z,{active:!0}),"error"===u&&(0,a.jsx)(J.Z,{message:"Unable to get data at the moment.",type:"error",showIcon:!0}),"success"===u&&(0,a.jsxs)(O.Z,{className:"h-full overflow-auto p-6",layout:"vertical",name:"deployEnvironment.".concat(t,".envVars"),form:g,onFinish:b,onFinishFailed:A,autoComplete:"off",children:[(0,a.jsxs)(q.Z,{className:"w-full",direction:"vertical",size:"small",children:[(0,a.jsxs)(q.Z.Compact,{block:!0,children:[(0,a.jsx)(tg.Z.Text,{className:"w-1/2",children:"Name"}),(0,a.jsx)(tg.Z.Text,{className:"w-1/2",children:"Value"}),(0,a.jsx)("span",{className:"w-[32px]"})]}),(0,c.isEmpty)(m)&&(0,a.jsx)(e4.Z,{}),(m||[]).map((e,t)=>(0,a.jsxs)(q.Z.Compact,{block:!0,children:[(0,a.jsx)(O.Z.Item,{className:"mb-0 w-1/2",name:["envVars[".concat(t,"]"),"name"],rules:[{required:!0,message:"Variable name is required"},{validator:(e,t)=>-1===t.indexOf(" ")?Promise.resolve():Promise.reject(Error("Variable name should not contain spacing."))},{validator:(e,t)=>!1===/[`!@#$%^&*()+\-=\[\]{};':"\\|,.<>\/?~]/g.test(t)?Promise.resolve():Promise.reject(Error("Variable name should not contain special character."))}],initialValue:e.name,children:(0,a.jsx)(ep.Z,{className:"!flex-auto",placeholder:"NAME",value:e.name,onChange:e=>j(t,e.currentTarget.value)})}),(0,a.jsx)(O.Z.Item,{className:"mb-0 w-1/2",name:["envVars[".concat(t,"]"),"value"],initialValue:e.value||"",children:(0,a.jsx)(ep.Z,{className:"!flex-auto",placeholder:"VALUE",value:e.value,onChange:e=>y(t,e.currentTarget.value)})}),(0,a.jsx)(M.ZP,{tabIndex:-1,icon:(0,a.jsx)(et.Z,{}),onClick:()=>x(t)})]},"env-var-".concat(t)))]}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)(M.ZP,{onClick:()=>f(),children:"+ Add variable"})}),(0,a.jsx)(ed,{name:"envVars",apiStatus:r,initialValue:d,setValue:h})]})]})};var tv=n(86218),tx=n(76068),tf=n(10544),tj=n(85273),ty=n(88158),tb=n(40083),tA=n(6585),tk=n(59823);let tE=n(64814),tZ=n(54498);e6().extend(tZ),e6().extend(tE);let{useApp:tw}=r.Z,tC=[{title:"Name",width:70,dataIndex:"name",key:"name",filterSearch:!0,filters:[{text:"goon",value:"goon"}],onFilter:(e,t)=>t.name&&t.name.indexOf(e.toString())>-1||!0,render:(e,t)=>{var n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:e})}),(0,a.jsxs)("p",{children:["Author: ",null!==(l=null===(n=t.owner)||void 0===n?void 0:n.name)&&void 0!==l?l:"-",(0,a.jsx)("br",{}),"Created ",(0,a.jsx)(tk.q,{date:t.createdAt})]})]})}},{title:"Build status",dataIndex:"buildStatus",key:"buildStatus",width:30,filters:[{text:"start",value:"start"},{text:"failed",value:"failed"},{text:"success",value:"success"},{text:"building",value:"building"}],render:e=>{let t="warning",n=(0,a.jsx)(tv.Z,{});switch(e){case"building":t="processing",n=(0,a.jsx)(en.Z,{className:"align-middle"});break;case"failed":t="error",n=(0,a.jsx)(er.Z,{className:"align-middle"});break;case"success":t="success",n=(0,a.jsx)(eo.Z,{className:"align-middle"});break;default:t="default",n=(0,a.jsx)(tv.Z,{})}return(0,a.jsx)(tj.Z,{color:t,icon:n,children:e})}},{title:"Active",dataIndex:"active",key:"active",width:20,filters:[{text:"active",value:!0}],onFilter:(e,t)=>t.active===e,render:e=>!0===e?(0,a.jsx)(tj.Z,{color:"blue",icon:(0,a.jsx)(eo.Z,{}),children:"active"}):"-"},{title:"Action",key:"action",width:30,dataIndex:"action",render:e=>e}],tN=()=>{(0,h.useRouter)();let e=tw(),[t]=(0,Y.o)(),{project:n,app:l,offsetHeader:s=0,env:i="prod"}=t,r={};n&&(r.projectSlug=n),l&&(r.appSlug=l),i&&(r.env=i);let[o,u]=(0,v.useState)(1),{data:d,status:m}=(0,tA.kW)({populate:"owner",pagination:{page:o,size:100},filter:r}),{list:p=[],pagination:g}=d||{},{total_items:x}=g||{},[f,j]=(0,tA.IX)();console.log("rolloutApiStatus :>> ",j);let[y,b]=(0,v.useState)(""),[A]=(0,tA.bE)(),k=async t=>{if((0,c.isEmpty)(t)){e.notification.error({message:"Failed to roll out.",description:"Release not found: ".concat(t),placement:"top"});return}b(t);try{let n=await f({id:t}),l=null==n?void 0:n.data;(null==n?void 0:n.status)&&e.notification.success({message:"Congrats, the release has been rolled out successfully!",description:(0,a.jsxs)(a.Fragment,{children:["Your website is ready to access on PRODUCTION environment:"," ",(0,a.jsx)("a",{href:"https://".concat(null==l?void 0:l.productionUrl),target:"_blank",rel:"noreferrer",children:null==l?void 0:l.productionUrl})]}),placement:"top"})}catch(t){console.error("Could not process rolling out this release:",t),e.notification.error({message:"Failed to roll out.",description:"Could not process rolling out this release: ".concat(t),placement:"top"})}b("")},E=async t=>{if((0,c.isEmpty)(t)){e.notification.error({message:"Failed to preview.",description:"Release not found: ".concat(t),placement:"top"});return}try{let n=await A({id:t}),l=null==n?void 0:n.data;(null==n?void 0:n.status)&&e.notification.success({message:"Congrats!",description:(0,a.jsxs)(a.Fragment,{children:["The PRE-RELEASE environment has been setup successfully at:"," ",(0,a.jsx)("a",{href:"https://".concat(null==l?void 0:l.prereleaseUrl),target:"_blank",rel:"noreferrer",children:null==l?void 0:l.prereleaseUrl})]}),placement:"top"})}catch(t){e.notification.error({message:"Failed to start preview.",description:"Could not set up the pre-release environment of this release: ".concat(t),placement:"top"})}},Z=p.map(e=>({...e,id:e._id,state:""!==y?j:!0===e.active?"success":"none",action:(0,a.jsxs)(q.Z.Compact,{children:[(0,a.jsx)(ty.Z,{title:"Roll out",children:(0,a.jsx)(M.ZP,{icon:""!==y&&"loading"===j?(0,a.jsx)(en.Z,{}):(0,a.jsx)(tx.Z,{}),onClick:()=>k(e._id)})}),(0,a.jsx)(ty.Z,{title:"Preview",children:(0,a.jsx)(M.ZP,{icon:(0,a.jsx)(tf.Z,{}),onClick:()=>E(e._id),target:"_blank"})})]})}));console.log({displayedReleases:Z});let w=e=>{let{current:t}=e;u(null!=t?t:1)};return(0,a.jsx)("div",{children:(0,a.jsx)(tb.Z,{loading:"loading"===m,columns:tC,dataSource:Z,scroll:{x:600},sticky:{offsetHeader:s},pagination:{current:o,pageSize:100,total:x},onChange:w})})},tS=e=>{let{useSidebar:t}=e;(0,h.useRouter)();let{sidebarCollapsed:n}=(0,T.Jl)(),l=$(),{drawerVisibility:s,showDrawer:r,closeDrawer:o}=l,[c,{setQuery:u,deleteQuery:d,deleteAllQueryKeys:m}]=(0,Y.o)(),{lv1:p,lv2:x,type:f,slug:j,project:y,app:b,env:A}=c,{token:{colorText:k}}=i.Z.useToken(),E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Builds",content:(0,a.jsx)(tr.w,{})},{level:e})},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Releases",content:(0,a.jsx)(tN,{})},{level:e})},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Build Logs",content:(0,a.jsx)(to.O,{})},{level:e})},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Environment Variables",content:(0,a.jsx)(th,{})},{level:e})},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Application Logs (env: ".concat(A||"unknown",")"),content:(0,a.jsx)(ti,{})},{level:e})},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Deployment YAML: ".concat(A.toUpperCase()),content:(0,a.jsx)(tp,{})},{level:e})},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Deploy Environment: ".concat(A.toUpperCase()),content:(0,a.jsx)(tm,{})},{level:e})},Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Edit",content:(0,a.jsx)(eJ,{})},{level:e})},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r&&r({title:"Create",content:(0,a.jsx)(eJ,{})},{level:e})};return(0,v.useEffect)(()=>{switch(p){case"build":E();break;case"release":Z();break;case"new":I();break;case"edit":Q();break;case"deploy_environment":P();break;case"env_vars":C();break;case"app_logs":N();break;default:d(["lv1"]),o&&o("lv1")}switch(x){case"build":E(2);break;case"build_logs":w(2);break;case"release":Z(2);break;case"app_logs":N(2);break;case"env_vars":C(2);break;case"deployment_yaml":S(2);break;default:d(["lv2"]),o&&o("lv2")}},[p,x,y,b,A]),(0,a.jsxs)(g.Z,{hasSider:!0,className:"h-screen",children:[e.meta,(0,a.jsx)("div",{className:"fixed z-[102] h-screen overflow-visible md:relative md:overflow-y-auto md:overflow-x-hidden",children:t&&(0,a.jsx)(z,{})}),(0,a.jsxs)(g.Z,{className:"h-screen overflow-auto transition-all",children:[t&&(0,a.jsx)(e2,{}),(0,a.jsx)("div",{className:"flex flex-auto flex-col overflow-auto",children:e.children}),(0,a.jsx)(eM,{})]})]})};function tP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{components:t=[],children:n,...l}=e;return(0,a.jsx)(a.Fragment,{children:t.reduceRight((t,n)=>(0,v.createElement)(n,{...l,key:e.key},t),n)})}let tQ=e=>{let{isDarkMode:t}=(0,o.vs)(),{useSidebar:n=!0}=e;return(0,a.jsxs)(s.ZP,{theme:{hashed:!1,algorithm:t?i.Z.darkAlgorithm:i.Z.defaultAlgorithm},children:[(0,a.jsx)(r.Z,{children:(0,a.jsx)(tP,{components:[T.ZP,ee],children:(0,a.jsx)(tS,{meta:e.meta,useSidebar:n,children:e.children})})}),(0,a.jsx)(p,{gaIds:["G-QC4124805Q"]})]})}},13179:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var l=n(11527),a=n(6277),s=n.n(a),i=n(7094),r=n(81379),o=n(14198);let c=e=>{let t=(0,i.useRouter)(),n=window.origin.indexOf("localhost")>-1;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("meta",{charSet:"UTF-8"},"charset"),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"},"viewport"),(0,l.jsx)("link",{rel:"apple-touch-icon",href:"".concat(t.basePath,"/apple-touch-icon.png")},"apple"),(0,l.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(t.basePath,"/favicon-32x32.png")},"icon32"),(0,l.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(t.basePath,"/favicon-16x16.png")},"icon16"),(0,l.jsx)("link",{rel:"icon",href:"".concat(t.basePath,"/favicon").concat(n?"-red":"",".ico")},"favicon")]}),(0,l.jsx)(r.PB,{title:"".concat(e.title," | ").concat(o.XL.site_name),description:e.description,canonical:e.canonical,openGraph:{title:e.title,description:e.description,url:e.canonical,locale:o.XL.locale,site_name:o.XL.site_name}}),(0,l.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css",rel:"stylesheet"})]})}},14198:function(e,t,n){"use strict";n.d(t,{De:function(){return r},XL:function(){return i},r8:function(){return o}});var l=n(10764);n(32699);var a=n(28658);let s={DEVELOPMENT:"development",STAGING:"staging",CANARY:"canary",PRODUCTION:"production"},i={site_name:"Diginext Admin",title:"Diginext Admin",description:"Welcome to an Admin Panel of Diginext.",locale:"en",tableConfig:{defaultPageSize:50}};class r{static get DX_SITE(){return"development"===this.NEXT_PUBLIC_ENV?"http://localhost:4000":"https://diginext.site"}static get ENV(){return this.grab("NODE_ENV","development").toUpperCase()}static get NEXT_PUBLIC_BASE_PATH(){return""}static getBasePath(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{NEXT_PUBLIC_BASE_PATH:t}=this;return(""===t?t:"/".concat(t))+e}static path(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getBasePath(e)}static get NEXT_PUBLIC_ENV(){return"production"}static get NEXT_PUBLIC_API_BASE_URL(){return window.location.origin.indexOf("localhost")>-1?"http://localhost:6969":window.location.origin}static get NEXT_PUBLIC_DOMAIN(){return"diginext.site"}static get NEXT_PUBLIC_BASE_URL(){return window.location.origin}static get DISABLE_INPECT_MEMORY(){return(0,l.AM)(this.grab("DISABLE_INPECT_MEMORY"))}static get SECONDS_INPECT_MEMORY(){return(0,l.Hq)(this.grab("SECONDS_INPECT_MEMORY"))}static get CORS_WHITELIST(){return a.env.CORS_WHITELIST?a.env.CORS_WHITELIST.split(";"):["localhost","192.168","127.0","digitop.vn","diginext.site","diginext.vn"]}}r.grab=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l={...a.env};return null!==(t=l[e])&&void 0!==t?t:n};let o=()=>r.NEXT_PUBLIC_ENV===s.DEVELOPMENT},72610:function(){},61596:function(){},89858:function(){},36431:function(){}}]);